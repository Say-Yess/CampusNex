/*! For license information please see main.76c06827.js.LICENSE.txt */
(()=>{var e={85:(e,t,n)=>{"use strict";var r=n(340),s=n(950),i=n(119);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(a(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var T=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var _=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=_&&e[_]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case N:return"Suspense";case S:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return P(e(t))}catch(n){}}return null}var R=Array.isArray,L=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},M=[],F=-1;function U(e){return{current:e}}function z(e){0>F||(e.current=M[F],M[F]=null,F--)}function V(e,t){F++,M[F]=e.current,e.current=t}var B=U(null),H=U(null),q=U(null),W=U(null);function K(e,t){switch(V(q,t),V(H,e),V(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=id(t=sd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(B),V(B,e)}function G(){z(B),z(H),z(q)}function Q(e){null!==e.memoizedState&&V(W,e);var t=B.current,n=id(t,e.type);t!==n&&(V(H,e),V(B,n))}function J(e){H.current===e&&(z(B),z(H)),W.current===e&&(z(W),Qd._currentValue=O)}var Y=Object.prototype.hasOwnProperty,$=r.unstable_scheduleCallback,X=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,se=r.unstable_UserBlockingPriority,ie=r.unstable_NormalPriority,ae=r.unstable_LowPriority,oe=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ve=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var s=0,i=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~i)?s=ye(r):0!==(a&=o)?s=ye(a):n||0!==(n=o&~e)&&(s=ye(n)):0!==(o=r&~i)?s=ye(o):0!==a?s=ye(a):n||0!==(n=r&~e)&&(s=ye(n)),0===s?0:0!==t&&t!==s&&0===(t&i)&&((i=s&-s)>=(n=t&-t)||32===i&&0!==(4194048&n))?t:s}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Ne(){var e=ve;return 0===(62914560&(ve<<=1))&&(ve=4194304),e}function Se(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ee(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function je(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ce(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}function Te(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function _e(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ie(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Ae=Math.random().toString(36).slice(2),Pe="__reactFiber$"+Ae,Re="__reactProps$"+Ae,Le="__reactContainer$"+Ae,De="__reactEvents$"+Ae,Oe="__reactListeners$"+Ae,Me="__reactHandles$"+Ae,Fe="__reactResources$"+Ae,Ue="__reactMarker$"+Ae;function ze(e){delete e[Pe],delete e[Re],delete e[De],delete e[Oe],delete e[Me]}function Ve(e){var t=e[Pe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Le]||n[Pe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Pe])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function Be(e){if(e=e[Pe]||e[Le]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function qe(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Ue]=!0}var Ke=new Set,Ge={};function Qe(e,t){Je(e,t),Je(e+"Capture",t)}function Je(e,t){for(Ge[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Ye,$e,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(s=t,Y.call(et,s)||!Y.call(Ze,s)&&(Xe.test(s)?et[s]=!0:(Ze[s]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var s}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function st(e){if(void 0===Ye)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",$e=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+$e}var it=!1;function at(e,t){if(!e||it)return"";it=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(s){var r=s}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),a=i[0],o=i[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(s=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(r===l.length||s===c.length)for(r=l.length-1,s=c.length-1;1<=r&&0<=s&&l[r]!==c[s];)s--;for(;1<=r&&0<=s;r--,s--)if(l[r]!==c[s]){if(1!==r||1!==s)do{if(r--,0>--s||l[r]!==c[s]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=s);break}}}finally{it=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?st(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return st(e.type);case 16:return st("Lazy");case 13:return st("Suspense");case 19:return st("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return st("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,s,i,a,o){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?yt(e,a,ct(t)):null!=n?yt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==s&&null!=i&&(e.defaultChecked=!!i),null!=s&&(e.checked=s&&"function"!==typeof s&&"symbol"!==typeof s),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function vt(e,t,n,r,s,i,a,o){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:s)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function yt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(R(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Nt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Nt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var s in t)r=t[s],t.hasOwnProperty(s)&&n[s]!==r&&St(e,s,r)}else for(var i in t)t.hasOwnProperty(i)&&St(e,i,t[i])}function jt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _t(e){return Tt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var It=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pt=null,Rt=null;function Lt(e){var t=Be(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=r[Re]||null;if(!s)throw Error(a(90));gt(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Dt=!1;function Ot(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==Pt||null!==Rt)&&(Vc(),Pt&&(t=Pt,e=Rt,Rt=Pt=null,Lt(t),e)))for(t=0;t<e.length;t++)Lt(e[t])}}function Mt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Re]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ut=!1;if(Ft)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(Rh){Ut=!1}var Vt=null,Bt=null,Ht=null;function qt(){if(Ht)return Ht;var e,t,n=Bt,r=n.length,s="value"in Vt?Vt.value:Vt.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===s[i-t];t++);return Ht=s.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Gt(){return!1}function Qt(e){function t(t,n,r,s,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?Kt:Gt,this.isPropagationStopped=Gt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Jt,Yt,$t,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Qt(Xt),en=h({},Xt,{view:0,detail:0}),tn=Qt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$t&&($t&&"mousemove"===e.type?(Jt=e.screenX-$t.screenX,Yt=e.screenY-$t.screenY):Yt=Jt=0,$t=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=Qt(nn),sn=Qt(h({},nn,{dataTransfer:0})),an=Qt(h({},en,{relatedTarget:0})),on=Qt(h({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Qt(h({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Qt(h({},Xt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function pn(){return fn}var mn=Qt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Qt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Qt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),yn=Qt(h({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Qt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Qt(h({},Xt,{newState:0,oldState:0})),wn=[9,13,27,32],kn=Ft&&"CompositionEvent"in window,Nn=null;Ft&&"documentMode"in document&&(Nn=document.documentMode);var Sn=Ft&&"TextEvent"in window&&!Nn,En=Ft&&(!kn||Nn&&8<Nn&&11>=Nn),jn=String.fromCharCode(32),Cn=!1;function Tn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var In=!1;var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!An[e.type]:"textarea"===t}function Rn(e,t,n,r){Pt?Rt?Rt.push(r):Rt=[r]:Pt=r,0<(t=qu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ln=null,Dn=null;function On(e){Ou(e,0)}function Mn(e){if(ht(He(e)))return e}function Fn(e,t){if("change"===e)return t}var Un=!1;if(Ft){var zn;if(Ft){var Vn="oninput"in document;if(!Vn){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),Vn="function"===typeof Bn.oninput}zn=Vn}else zn=!1;Un=zn&&(!document.documentMode||9<document.documentMode)}function Hn(){Ln&&(Ln.detachEvent("onpropertychange",qn),Dn=Ln=null)}function qn(e){if("value"===e.propertyName&&Mn(Dn)){var t=[];Rn(t,Dn,e,At(e)),Ot(On,t)}}function Wn(e,t,n){"focusin"===e?(Hn(),Dn=n,(Ln=t).attachEvent("onpropertychange",qn)):"focusout"===e&&Hn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mn(Dn)}function Gn(e,t){if("click"===e)return Mn(t)}function Qn(e,t){if("input"===e||"change"===e)return Mn(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Y.call(t,s)||!Jn(e[s],t[s]))return!1}return!0}function $n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,r=$n(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$n(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ft&&"documentMode"in document&&11>=document.documentMode,rr=null,sr=null,ir=null,ar=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ir&&Yn(ir,r)||(ir=r,0<(r=qu(sr,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Ft&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),vr=hr("transitionstart"),yr=hr("transitioncancel"),br=hr("transitionend"),xr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){xr.set(e,t),Qe(t,[e])}wr.push("scrollEnd");var Nr=new WeakMap;function Sr(e,t){if("object"===typeof e&&null!==e){var n=Nr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Nr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Er=[],jr=0,Cr=0;function Tr(){for(var e=jr,t=Cr=jr=0;t<e;){var n=Er[t];Er[t++]=null;var r=Er[t];Er[t++]=null;var s=Er[t];Er[t++]=null;var i=Er[t];if(Er[t++]=null,null!==r&&null!==s){var a=r.pending;null===a?s.next=s:(s.next=a.next,a.next=s),r.pending=s}0!==i&&Pr(n,s,i)}}function _r(e,t,n,r){Er[jr++]=e,Er[jr++]=t,Er[jr++]=n,Er[jr++]=r,Cr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ir(e,t,n,r){return _r(e,t,n,r),Rr(e)}function Ar(e,t){return _r(e,null,null,t),Rr(e)}function Pr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var s=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(s=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,s&&null!==t&&(s=31-fe(n),null===(r=(e=i.hiddenUpdates)[s])?e[s]=[t]:r.push(t),t.lane=536870912|n),i):null}function Rr(e){if(50<Pc)throw Pc=0,Rc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Lr={};function Dr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(e,t,n,r){return new Dr(e,t,n,r)}function Mr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Or(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ur(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zr(e,t,n,r,s,i){var o=0;if(r=e,"function"===typeof e)Mr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,B.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Or(31,n,t,s)).elementType=C,e.lanes=i,e;case g:return Vr(n.children,s,i,t);case v:o=8,s|=24;break;case y:return(e=Or(12,n,t,2|s)).elementType=y,e.lanes=i,e;case N:return(e=Or(13,n,t,s)).elementType=N,e.lanes=i,e;case S:return(e=Or(19,n,t,s)).elementType=S,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:o=10;break e;case x:o=9;break e;case k:o=11;break e;case E:o=14;break e;case j:o=16,r=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Or(o,n,t,s)).elementType=e,t.type=r,t.lanes=i,t}function Vr(e,t,n,r){return(e=Or(7,e,r,t)).lanes=n,e}function Br(e,t,n){return(e=Or(6,e,null,t)).lanes=n,e}function Hr(e,t,n){return(t=Or(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qr=[],Wr=0,Kr=null,Gr=0,Qr=[],Jr=0,Yr=null,$r=1,Xr="";function Zr(e,t){qr[Wr++]=Gr,qr[Wr++]=Kr,Kr=e,Gr=t}function es(e,t,n){Qr[Jr++]=$r,Qr[Jr++]=Xr,Qr[Jr++]=Yr,Yr=e;var r=$r;e=Xr;var s=32-fe(r)-1;r&=~(1<<s),n+=1;var i=32-fe(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,$r=1<<32-fe(t)+s|n<<s|r,Xr=i+e}else $r=1<<i|n<<s|r,Xr=e}function ts(e){null!==e.return&&(Zr(e,1),es(e,1,0))}function ns(e){for(;e===Kr;)Kr=qr[--Wr],qr[Wr]=null,Gr=qr[--Wr],qr[Wr]=null;for(;e===Yr;)Yr=Qr[--Jr],Qr[Jr]=null,Xr=Qr[--Jr],Qr[Jr]=null,$r=Qr[--Jr],Qr[Jr]=null}var rs=null,ss=null,is=!1,as=null,os=!1,ls=Error(a(519));function cs(e){throw ms(Sr(Error(a(418,"")),e)),ls}function us(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Pe]=e,t[Re]=r,n){case"dialog":Mu("cancel",t),Mu("close",t);break;case"iframe":case"object":case"embed":Mu("load",t);break;case"video":case"audio":for(n=0;n<Lu.length;n++)Mu(Lu[n],t);break;case"source":Mu("error",t);break;case"img":case"image":case"link":Mu("error",t),Mu("load",t);break;case"details":Mu("toggle",t);break;case"input":Mu("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Mu("invalid",t);break;case"textarea":Mu("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Yu(t.textContent,n)?(null!=r.popover&&(Mu("beforetoggle",t),Mu("toggle",t)),null!=r.onScroll&&Mu("scroll",t),null!=r.onScrollEnd&&Mu("scrollend",t),null!=r.onClick&&(t.onclick=$u),t=!0):t=!1,t||cs(e)}function ds(e){for(rs=e.return;rs;)switch(rs.tag){case 5:case 13:return void(os=!1);case 27:case 3:return void(os=!0);default:rs=rs.return}}function hs(e){if(e!==rs)return!1;if(!is)return ds(e),is=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ad(e.type,e.memoizedProps)),t=!t),t&&ss&&cs(e),ds(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ss=vd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ss=null}}else 27===n?(n=ss,fd(e.type)?(e=yd,yd=null,ss=e):ss=n):ss=rs?vd(e.stateNode.nextSibling):null;return!0}function fs(){ss=rs=null,is=!1}function ps(){var e=as;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),as=null),e}function ms(e){null===as?as=[e]:as.push(e)}var gs=U(null),vs=null,ys=null;function bs(e,t,n){V(gs,t._currentValue),t._currentValue=n}function xs(e){e._currentValue=gs.current,z(gs)}function ws(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ks(e,t,n,r){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var i=s.dependencies;if(null!==i){var o=s.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=s;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),ws(i.return,n,e),r||(o=null);break e}i=l.next}}else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(i=o.alternate)&&(i.lanes|=n),ws(o,n,e),o=null}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===e){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}}function Ns(e,t,n,r){e=null;for(var s=t,i=!1;null!==s;){if(!i)if(0!==(524288&s.flags))i=!0;else if(0!==(262144&s.flags))break;if(10===s.tag){var o=s.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=s.type;Jn(s.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(s===W.current){if(null===(o=s.alternate))throw Error(a(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push(Qd):e=[Qd])}s=s.return}null!==e&&ks(t,e,n,r),t.flags|=262144}function Ss(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Es(e){vs=e,ys=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function js(e){return Ts(vs,e)}function Cs(e,t){return null===vs&&Es(e),Ts(e,t)}function Ts(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ys){if(null===e)throw Error(a(308));ys=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ys=ys.next=t;return n}var _s="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Is=r.unstable_scheduleCallback,As=r.unstable_NormalPriority,Ps={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rs(){return{controller:new _s,data:new Map,refCount:0}}function Ls(e){e.refCount--,0===e.refCount&&Is(As,function(){e.controller.abort()})}var Ds=null,Os=0,Ms=0,Fs=null;function Us(){if(0===--Os&&null!==Ds){null!==Fs&&(Fs.status="fulfilled");var e=Ds;Ds=null,Ms=0,Fs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var zs=L.S;L.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ds){var n=Ds=[];Os=0,Ms=_u(),Fs={status:"pending",value:void 0,then:function(e){n.push(e)}}}Os++,t.then(Us,Us)}(0,t),null!==zs&&zs(e,t)};var Vs=U(null);function Bs(){var e=Vs.current;return null!==e?e:rc.pooledCache}function Hs(e,t){V(Vs,null===t?Vs.current:t.pool)}function qs(){var e=Bs();return null===e?null:{parent:Ps._currentValue,pool:e}}var Ws=Error(a(460)),Ks=Error(a(474)),Gs=Error(a(542)),Qs={then:function(){}};function Js(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Ys(){}function $s(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Ys,Ys),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e;default:if("string"===typeof t.status)t.then(Ys,Ys);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e}throw Xs=t,Ws}}var Xs=null;function Zs(){if(null===Xs)throw Error(a(459));var e=Xs;return Xs=null,e}function ei(e){if(e===Ws||e===Gs)throw Error(a(483))}var ti=!1;function ni(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ri(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function si(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ii(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,t=Rr(e),Pr(e,null,n),t}return _r(e,r,t,n),Rr(e)}function ai(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}function oi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?s=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?s=i=t:i=i.next=t}else s=i=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var li=!1;function ci(){if(li){if(null!==Fs)throw Fs}}function ui(e,t,n,r){li=!1;var s=e.updateQueue;ti=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=s.baseState;for(a=0,u=c=l=null,o=i;;){var f=-536870913&o.lane,p=f!==o.lane;if(p?(ic&f)===f:(r&f)===f){0!==f&&f===Ms&&(li=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;f=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(v,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(v,d,f):m)||void 0===f)break e;d=h({},d,f);break e;case 2:ti=!0}}null!==(f=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=s.callbacks)?s.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=f;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(p=o).next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}null===u&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null===i&&(s.shared.lanes=0),fc|=a,e.lanes=a,e.memoizedState=d}}function di(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function hi(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)di(n[e],t)}var fi=U(null),pi=U(0);function mi(e,t){V(pi,e=dc),V(fi,t),dc=e|t.baseLanes}function gi(){V(pi,dc),V(fi,fi.current)}function vi(){dc=pi.current,z(fi),z(pi)}var yi=0,bi=null,xi=null,wi=null,ki=!1,Ni=!1,Si=!1,Ei=0,ji=0,Ci=null,Ti=0;function _i(){throw Error(a(321))}function Ii(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function Ai(e,t,n,r,s,i){return yi=i,bi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=null===e||null===e.memoizedState?Wa:Ka,Si=!1,i=n(r,s),Si=!1,Ni&&(i=Ri(t,n,r,s)),Pi(e),i}function Pi(e){L.H=qa;var t=null!==xi&&null!==xi.next;if(yi=0,wi=xi=bi=null,ki=!1,ji=0,Ci=null,t)throw Error(a(300));null===e||Co||null!==(e=e.dependencies)&&Ss(e)&&(Co=!0)}function Ri(e,t,n,r){bi=e;var s=0;do{if(Ni&&(Ci=null),ji=0,Ni=!1,25<=s)throw Error(a(301));if(s+=1,wi=xi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}L.H=Ga,i=t(n,r)}while(Ni);return i}function Li(){var e=L.H,t=e.useState()[0];return t="function"===typeof t.then?zi(t):t,e=e.useState()[0],(null!==xi?xi.memoizedState:null)!==e&&(bi.flags|=1024),t}function Di(){var e=0!==Ei;return Ei=0,e}function Oi(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Mi(e){if(ki){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ki=!1}yi=0,wi=xi=bi=null,Ni=!1,ji=Ei=0,Ci=null}function Fi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===wi?bi.memoizedState=wi=e:wi=wi.next=e,wi}function Ui(){if(null===xi){var e=bi.alternate;e=null!==e?e.memoizedState:null}else e=xi.next;var t=null===wi?bi.memoizedState:wi.next;if(null!==t)wi=t,xi=e;else{if(null===e){if(null===bi.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(xi=e).memoizedState,baseState:xi.baseState,baseQueue:xi.baseQueue,queue:xi.queue,next:null},null===wi?bi.memoizedState=wi=e:wi=wi.next=e}return wi}function zi(e){var t=ji;return ji+=1,null===Ci&&(Ci=[]),e=$s(Ci,e,t),t=bi,null===(null===wi?t.memoizedState:wi.next)&&(t=t.alternate,L.H=null===t||null===t.memoizedState?Wa:Ka),e}function Vi(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return zi(e);if(e.$$typeof===w)return js(e)}throw Error(a(438,String(e)))}function Bi(e){var t=null,n=bi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=bi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=T;return t.index++,n}function Hi(e,t){return"function"===typeof t?t(e):t}function qi(e){return Wi(Ui(),xi,e)}function Wi(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var s=e.baseQueue,i=r.pending;if(null!==i){if(null!==s){var o=s.next;s.next=i.next,i.next=o}t.baseQueue=s=i,r.pending=null}if(i=e.baseState,null===s)e.memoizedState=i;else{var l=o=null,c=null,u=t=s.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ic&h)===h:(yi&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Ms&&(d=!0);else{if((yi&f)===f){u=u.next,f===Ms&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=i):c=c.next=h,bi.lanes|=f,fc|=f}h=u.action,Si&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=i):c=c.next=f,bi.lanes|=h,fc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=i:c.next=l,!Jn(i,e.memoizedState)&&(Co=!0,d&&null!==(n=Fs)))throw n;e.memoizedState=i,e.baseState=o,e.baseQueue=c,r.lastRenderedState=i}return null===s&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ki(e){var t=Ui(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{i=e(i,o.action),o=o.next}while(o!==s);Jn(i,t.memoizedState)||(Co=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Gi(e,t,n){var r=bi,s=Ui(),i=is;if(i){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!Jn((xi||s).memoizedState,n);if(o&&(s.memoizedState=n,Co=!0),s=s.queue,ga(2048,8,Yi.bind(null,r,s,e),[e]),s.getSnapshot!==t||o||null!==wi&&1&wi.memoizedState.tag){if(r.flags|=2048,fa(9,{destroy:void 0,resource:void 0},Ji.bind(null,r,s,n,t),null),null===rc)throw Error(a(349));i||0!==(124&yi)||Qi(r,t,n)}return n}function Qi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=bi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ji(e,t,n,r){t.value=n,t.getSnapshot=r,$i(t)&&Xi(e)}function Yi(e,t,n){return n(function(){$i(t)&&Xi(e)})}function $i(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(r){return!0}}function Xi(e){var t=Ar(e,2);null!==t&&Oc(t,e,2)}function Zi(e){var t=Fi();if("function"===typeof e){var n=e;if(e=n(),Si){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},t}function ea(e,t,n,r){return e.baseState=n,Wi(e,xi,"function"===typeof r?r:Hi)}function ta(e,t,n,r,s){if(Va(e))throw Error(a(485));if(null!==(e=t.action)){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==L.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,na(t,i)):(i.next=n.next,t.pending=n.next=i)}}function na(e,t){var n=t.action,r=t.payload,s=e.state;if(t.isTransition){var i=L.T,a={};L.T=a;try{var o=n(s,r),l=L.S;null!==l&&l(a,o),ra(e,t,o)}catch(c){ia(e,t,c)}finally{L.T=i}}else try{ra(e,t,i=n(s,r))}catch(u){ia(e,t,u)}}function ra(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){sa(e,t,n)},function(n){return ia(e,t,n)}):sa(e,t,n)}function sa(e,t,n){t.status="fulfilled",t.value=n,aa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,na(e,n)))}function ia(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,aa(t),t=t.next}while(t!==r)}e.action=null}function aa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function oa(e,t){return t}function la(e,t){if(is){var n=rc.formState;if(null!==n){e:{var r=bi;if(is){if(ss){t:{for(var s=ss,i=os;8!==s.nodeType;){if(!i){s=null;break t}if(null===(s=vd(s.nextSibling))){s=null;break t}}s="F!"===(i=s.data)||"F"===i?s:null}if(s){ss=vd(s.nextSibling),r="F!"===s.data;break e}}cs(r)}r=!1}r&&(t=n[0])}}return(n=Fi()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:t},n.queue=r,n=Fa.bind(null,bi,r),r.dispatch=n,r=Zi(!1),i=za.bind(null,bi,!1,r.queue),s={state:t,dispatch:null,action:e,pending:null},(r=Fi()).queue=s,n=ta.bind(null,bi,s,i,n),s.dispatch=n,r.memoizedState=e,[t,n,!1]}function ca(e){return ua(Ui(),xi,e)}function ua(e,t,n){if(t=Wi(e,t,oa)[0],e=qi(Hi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=zi(t)}catch(a){if(a===Ws)throw Gs;throw a}else r=t;var s=(t=Ui()).queue,i=s.dispatch;return n!==t.memoizedState&&(bi.flags|=2048,fa(9,{destroy:void 0,resource:void 0},da.bind(null,s,n),null)),[r,i,e]}function da(e,t){e.action=t}function ha(e){var t=Ui(),n=xi;if(null!==n)return ua(t,n,e);Ui(),t=t.memoizedState;var r=(n=Ui()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fa(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=bi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function pa(){return Ui().memoizedState}function ma(e,t,n,r){var s=Fi();r=void 0===r?null:r,bi.flags|=e,s.memoizedState=fa(1|t,{destroy:void 0,resource:void 0},n,r)}function ga(e,t,n,r){var s=Ui();r=void 0===r?null:r;var i=s.memoizedState.inst;null!==xi&&null!==r&&Ii(r,xi.memoizedState.deps)?s.memoizedState=fa(t,i,n,r):(bi.flags|=e,s.memoizedState=fa(1|t,i,n,r))}function va(e,t){ma(8390656,8,e,t)}function ya(e,t){ga(2048,8,e,t)}function ba(e,t){return ga(4,2,e,t)}function xa(e,t){return ga(4,4,e,t)}function wa(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ka(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ga(4,4,wa.bind(null,t,e),n)}function Na(){}function Sa(e,t){var n=Ui();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ii(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ea(e,t){var n=Ui();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ii(t,r[1]))return r[0];if(r=e(),Si){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function ja(e,t,n){return void 0===n||0!==(1073741824&yi)?e.memoizedState=t:(e.memoizedState=n,e=Dc(),bi.lanes|=e,fc|=e,n)}function Ca(e,t,n,r){return Jn(n,t)?n:null!==fi.current?(e=ja(e,n,r),Jn(e,t)||(Co=!0),e):0===(42&yi)?(Co=!0,e.memoizedState=n):(e=Dc(),bi.lanes|=e,fc|=e,t)}function Ta(e,t,n,r,s){var i=D.p;D.p=0!==i&&8>i?i:8;var a=L.T,o={};L.T=o,za(e,!1,t,n);try{var l=s(),c=L.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Ua(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Lc());else Ua(e,t,r,Lc())}catch(u){Ua(e,t,{then:function(){},status:"rejected",reason:u},Lc())}finally{D.p=i,L.T=a}}function _a(){}function Ia(e,t,n,r){if(5!==e.tag)throw Error(a(476));var s=Aa(e).queue;Ta(e,s,t,O,null===n?_a:function(){return Pa(e),n(r)})}function Aa(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:O},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Pa(e){Ua(e,Aa(e).next.queue,{},Lc())}function Ra(){return js(Qd)}function La(){return Ui().memoizedState}function Da(){return Ui().memoizedState}function Oa(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Lc(),r=ii(t,e=si(n),n);return null!==r&&(Oc(r,t,n),ai(r,t,n)),t={cache:Rs()},void(e.payload=t)}t=t.return}}function Ma(e,t,n){var r=Lc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Va(e)?Ba(t,n):null!==(n=Ir(e,t,n,r))&&(Oc(n,e,r),Ha(n,t,r))}function Fa(e,t,n){Ua(e,t,n,Lc())}function Ua(e,t,n,r){var s={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Va(e))Ba(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,Jn(o,a))return _r(e,t,s,0),null===rc&&Tr(),!1}catch(l){}if(null!==(n=Ir(e,t,s,r)))return Oc(n,e,r),Ha(n,t,r),!0}return!1}function za(e,t,n,r){if(r={lane:2,revertLane:_u(),action:r,hasEagerState:!1,eagerState:null,next:null},Va(e)){if(t)throw Error(a(479))}else null!==(t=Ir(e,n,r,2))&&Oc(t,e,2)}function Va(e){var t=e.alternate;return e===bi||null!==t&&t===bi}function Ba(e,t){Ni=ki=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ha(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}var qa={readContext:js,use:Vi,useCallback:_i,useContext:_i,useEffect:_i,useImperativeHandle:_i,useLayoutEffect:_i,useInsertionEffect:_i,useMemo:_i,useReducer:_i,useRef:_i,useState:_i,useDebugValue:_i,useDeferredValue:_i,useTransition:_i,useSyncExternalStore:_i,useId:_i,useHostTransitionStatus:_i,useFormState:_i,useActionState:_i,useOptimistic:_i,useMemoCache:_i,useCacheRefresh:_i},Wa={readContext:js,use:Vi,useCallback:function(e,t){return Fi().memoizedState=[e,void 0===t?null:t],e},useContext:js,useEffect:va,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ma(4194308,4,wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ma(4194308,4,e,t)},useInsertionEffect:function(e,t){ma(4,2,e,t)},useMemo:function(e,t){var n=Fi();t=void 0===t?null:t;var r=e();if(Si){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Fi();if(void 0!==n){var s=n(t);if(Si){he(!0);try{n(t)}finally{he(!1)}}}else s=t;return r.memoizedState=r.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},r.queue=e,e=e.dispatch=Ma.bind(null,bi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Fi().memoizedState=e},useState:function(e){var t=(e=Zi(e)).queue,n=Fa.bind(null,bi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Na,useDeferredValue:function(e,t){return ja(Fi(),e,t)},useTransition:function(){var e=Zi(!1);return e=Ta.bind(null,bi,e.queue,!0,!1),Fi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=bi,s=Fi();if(is){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===rc)throw Error(a(349));0!==(124&ic)||Qi(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,va(Yi.bind(null,r,i,e),[e]),r.flags|=2048,fa(9,{destroy:void 0,resource:void 0},Ji.bind(null,r,i,n,t),null),n},useId:function(){var e=Fi(),t=rc.identifierPrefix;if(is){var n=Xr;t="\xab"+t+"R"+(n=($r&~(1<<32-fe($r)-1)).toString(32)+n),0<(n=Ei++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ti++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ra,useFormState:la,useActionState:la,useOptimistic:function(e){var t=Fi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=za.bind(null,bi,!0,n),n.dispatch=t,[e,t]},useMemoCache:Bi,useCacheRefresh:function(){return Fi().memoizedState=Oa.bind(null,bi)}},Ka={readContext:js,use:Vi,useCallback:Sa,useContext:js,useEffect:ya,useImperativeHandle:ka,useInsertionEffect:ba,useLayoutEffect:xa,useMemo:Ea,useReducer:qi,useRef:pa,useState:function(){return qi(Hi)},useDebugValue:Na,useDeferredValue:function(e,t){return Ca(Ui(),xi.memoizedState,e,t)},useTransition:function(){var e=qi(Hi)[0],t=Ui().memoizedState;return["boolean"===typeof e?e:zi(e),t]},useSyncExternalStore:Gi,useId:La,useHostTransitionStatus:Ra,useFormState:ca,useActionState:ca,useOptimistic:function(e,t){return ea(Ui(),0,e,t)},useMemoCache:Bi,useCacheRefresh:Da},Ga={readContext:js,use:Vi,useCallback:Sa,useContext:js,useEffect:ya,useImperativeHandle:ka,useInsertionEffect:ba,useLayoutEffect:xa,useMemo:Ea,useReducer:Ki,useRef:pa,useState:function(){return Ki(Hi)},useDebugValue:Na,useDeferredValue:function(e,t){var n=Ui();return null===xi?ja(n,e,t):Ca(n,xi.memoizedState,e,t)},useTransition:function(){var e=Ki(Hi)[0],t=Ui().memoizedState;return["boolean"===typeof e?e:zi(e),t]},useSyncExternalStore:Gi,useId:La,useHostTransitionStatus:Ra,useFormState:ha,useActionState:ha,useOptimistic:function(e,t){var n=Ui();return null!==xi?ea(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Bi,useCacheRefresh:Da},Qa=null,Ja=0;function Ya(e){var t=Ja;return Ja+=1,null===Qa&&(Qa=[]),$s(Qa,e,t)}function $a(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Xa(e,t){if(t.$$typeof===f)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Za(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Br(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===j&&Za(i)===t.type)?($a(t=s(t,n.props),n),t.return=e,t):($a(t=zr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hr(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Vr(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Br(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return $a(n=zr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Hr(t,e.mode,n)).return=e,t;case j:return h(e,t=(0,t._init)(t._payload),n)}if(R(t)||I(t))return(t=Vr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Ya(t),n);if(t.$$typeof===w)return h(e,Cs(e,t),n);Xa(e,t)}return null}function f(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===s?c(e,t,n,r):null;case m:return n.key===s?u(e,t,n,r):null;case j:return f(e,t,n=(s=n._init)(n._payload),r)}if(R(n)||I(n))return null!==s?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Ya(n),r);if(n.$$typeof===w)return f(e,t,Cs(e,n),r);Xa(e,n)}return null}function v(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case j:return v(e,t,n,r=(0,r._init)(r._payload),s)}if(R(r)||I(r))return d(t,e=e.get(n)||null,r,s,null);if("function"===typeof r.then)return v(e,t,n,Ya(r),s);if(r.$$typeof===w)return v(e,t,n,Cs(t,r),s);Xa(t,r)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=s(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===j&&Za(b)===c.type){n(l,c.sibling),$a(d=s(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=Vr(u.props.children,l.mode,d,u.key)).return=l,l=d):($a(d=zr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=s(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Hr(u,l.mode,d)).return=l,l=d}return o(l);case j:return y(l,c,u=(b=u._init)(u._payload),d)}if(R(u))return function(s,a,o,l){for(var c=null,u=null,d=a,p=a=0,m=null;null!==d&&p<o.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var g=f(s,d,o[p],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(s,d),a=i(g,a,p),null===u?c=g:u.sibling=g,u=g,d=m}if(p===o.length)return n(s,d),is&&Zr(s,p),c;if(null===d){for(;p<o.length;p++)null!==(d=h(s,o[p],l))&&(a=i(d,a,p),null===u?c=d:u.sibling=d,u=d);return is&&Zr(s,p),c}for(d=r(d);p<o.length;p++)null!==(m=v(d,s,p,o[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),a=i(m,a,p),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(s,e)}),is&&Zr(s,p),c}(l,c,u,d);if(I(u)){if("function"!==typeof(b=I(u)))throw Error(a(150));return function(s,o,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,p=o,m=o=0,g=null,y=l.next();null!==p&&!y.done;m++,y=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var b=f(s,p,y.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(s,p),o=i(b,o,m),null===d?u=b:d.sibling=b,d=b,p=g}if(y.done)return n(s,p),is&&Zr(s,m),u;if(null===p){for(;!y.done;m++,y=l.next())null!==(y=h(s,y.value,c))&&(o=i(y,o,m),null===d?u=y:d.sibling=y,d=y);return is&&Zr(s,m),u}for(p=r(p);!y.done;m++,y=l.next())null!==(y=v(p,s,m,y.value,c))&&(e&&null!==y.alternate&&p.delete(null===y.key?m:y.key),o=i(y,o,m),null===d?u=y:d.sibling=y,d=y);return e&&p.forEach(function(e){return t(s,e)}),is&&Zr(s,m),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return y(l,c,Ya(u),d);if(u.$$typeof===w)return y(l,c,Cs(l,u),d);Xa(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=s(c,u)).return=l,l=d):(n(l,c),(d=Br(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{Ja=0;var s=y(e,t,n,r);return Qa=null,s}catch(a){if(a===Ws||a===Gs)throw a;var i=Or(29,a,null,e.mode);return i.lanes=r,i.return=e,i}}}var to=eo(!0),no=eo(!1),ro=U(null),so=null;function io(e){var t=e.alternate;V(co,1&co.current),V(ro,e),null===so&&(null===t||null!==fi.current||null!==t.memoizedState)&&(so=e)}function ao(e){if(22===e.tag){if(V(co,co.current),V(ro,e),null===so){var t=e.alternate;null!==t&&null!==t.memoizedState&&(so=e)}}else oo()}function oo(){V(co,co.current),V(ro,ro.current)}function lo(e){z(ro),so===e&&(so=null),z(co)}var co=U(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Lc(),s=si(r);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=ii(e,s,r))&&(Oc(t,e,r),ai(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Lc(),s=si(r);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=ii(e,s,r))&&(Oc(t,e,r),ai(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Lc(),r=si(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ii(e,r,n))&&(Oc(t,e,n),ai(t,e,n))}};function po(e,t,n,r,s,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(s,i))}function mo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function go(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var s in n===t&&(n=h({},n)),e)void 0===n[s]&&(n[s]=e[s]);return n}var vo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function yo(e){vo(e)}function bo(e){console.error(e)}function xo(e){vo(e)}function wo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ko(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function No(e,t,n){return(n=si(n)).tag=3,n.payload={element:null},n.callback=function(){wo(e,t)},n}function So(e){return(e=si(e)).tag=3,e}function Eo(e,t,n,r){var s=n.type.getDerivedStateFromError;if("function"===typeof s){var i=r.value;e.payload=function(){return s(i)},e.callback=function(){ko(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){ko(t,n,r),"function"!==typeof s&&(null===Sc?Sc=new Set([this]):Sc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var jo=Error(a(461)),Co=!1;function To(e,t,n,r){t.child=null===e?no(t,null,n,r):to(t,e.child,n,r)}function _o(e,t,n,r,s){n=n.render;var i=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return Es(t),r=Ai(e,t,n,a,i,s),o=Di(),null===e||Co?(is&&o&&ts(t),t.flags|=1,To(e,t,r,s),t.child):(Oi(e,t,s),Jo(e,t,s))}function Io(e,t,n,r,s){if(null===e){var i=n.type;return"function"!==typeof i||Mr(i)||void 0!==i.defaultProps||null!==n.compare?((e=zr(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ao(e,t,i,r,s))}if(i=e.child,!Yo(e,s)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(a,r)&&e.ref===t.ref)return Jo(e,t,s)}return t.flags|=1,(e=Fr(i,r)).ref=t.ref,e.return=t,t.child=e}function Ao(e,t,n,r,s){if(null!==e){var i=e.memoizedProps;if(Yn(i,r)&&e.ref===t.ref){if(Co=!1,t.pendingProps=r=i,!Yo(e,s))return t.lanes=e.lanes,Jo(e,t,s);0!==(131072&e.flags)&&(Co=!0)}}return Do(e,t,n,r,s)}function Po(e,t,n){var r=t.pendingProps,s=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==i?i.baseLanes|n:n,null!==e){for(s=t.child=e.child,i=0;null!==s;)i=i|s.lanes|s.childLanes,s=s.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return Ro(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ro(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Hs(0,null!==i?i.cachePool:null),null!==i?mi(t,i):gi(),ao(t)}else null!==i?(Hs(0,i.cachePool),mi(t,i),oo(),t.memoizedState=null):(null!==e&&Hs(0,null),gi(),oo());return To(e,t,s,n),t.child}function Ro(e,t,n,r){var s=Bs();return s=null===s?null:{parent:Ps._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Hs(0,null),gi(),ao(t),null!==e&&Ns(e,t,r,!0),null}function Lo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Do(e,t,n,r,s){return Es(t),n=Ai(e,t,n,r,void 0,s),r=Di(),null===e||Co?(is&&r&&ts(t),t.flags|=1,To(e,t,n,s),t.child):(Oi(e,t,s),Jo(e,t,s))}function Oo(e,t,n,r,s,i){return Es(t),t.updateQueue=null,n=Ri(t,r,n,s),Pi(e),r=Di(),null===e||Co?(is&&r&&ts(t),t.flags|=1,To(e,t,n,i),t.child):(Oi(e,t,i),Jo(e,t,i))}function Mo(e,t,n,r,s){if(Es(t),null===t.stateNode){var i=Lr,a=n.contextType;"object"===typeof a&&null!==a&&(i=js(a)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=fo,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},ni(t),a=n.contextType,i.context="object"===typeof a&&null!==a?js(a):Lr,i.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(ho(t,n,a,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(a=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),a!==i.state&&fo.enqueueReplaceState(i,i.state,null),ui(t,r,i,s),ci(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var o=t.memoizedProps,l=go(n,o);i.props=l;var c=i.context,u=n.contextType;a=Lr,"object"===typeof u&&null!==u&&(a=js(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o||c!==a)&&mo(t,i,r,a),ti=!1;var h=t.memoizedState;i.state=h,ui(t,r,i,s),ci(),c=t.memoizedState,o||h!==c||ti?("function"===typeof d&&(ho(t,n,d,r),c=t.memoizedState),(l=ti||po(t,n,l,r,h,c,a))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=a,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,ri(e,t),u=go(n,a=t.memoizedProps),i.props=u,d=t.pendingProps,h=i.context,c=n.contextType,l=Lr,"object"===typeof c&&null!==c&&(l=js(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(a!==d||h!==l)&&mo(t,i,r,l),ti=!1,h=t.memoizedState,i.state=h,ui(t,r,i,s),ci();var f=t.memoizedState;a!==d||h!==f||ti||null!==e&&null!==e.dependencies&&Ss(e.dependencies)?("function"===typeof o&&(ho(t,n,o,r),f=t.memoizedState),(u=ti||po(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Ss(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Lo(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=to(t,e.child,null,s),t.child=to(t,null,n,s)):To(e,t,n,s),t.memoizedState=i.state,e=t.child):e=Jo(e,t,s),e}function Fo(e,t,n,r){return fs(),t.flags|=256,To(e,t,n,r),t.child}var Uo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zo(e){return{baseLanes:e,cachePool:qs()}}function Vo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Bo(e,t,n){var r,s=t.pendingProps,i=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(is){if(i?io(t):oo(),is){var l,c=ss;if(l=c){e:{for(l=c,c=os;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Yr?{id:$r,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},(l=Or(18,null,null,0)).stateNode=c,l.return=t,t.child=l,rs=t,ss=null,l=!0):l=!1}l||cs(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=s.children,s=s.fallback,i?(oo(),c=qo({mode:"hidden",children:c},i=t.mode),s=Vr(s,i,n,null),c.return=t,s.return=t,c.sibling=s,t.child=c,(i=t.child).memoizedState=zo(n),i.childLanes=Vo(e,r,n),t.memoizedState=Uo,s):(io(t),Ho(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(io(t),t.flags&=-257,t=Wo(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),i=s.fallback,c=t.mode,s=qo({mode:"visible",children:s.children},c),(i=Vr(i,c,n,null)).flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,to(t,e.child,null,n),(s=t.child).memoizedState=zo(n),s.childLanes=Vo(e,r,n),t.memoizedState=Uo,t=i);else if(io(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(s=Error(a(419))).stack="",s.digest=r,ms({value:s,source:null,stack:null}),t=Wo(e,t,n)}else if(Co||Ns(e,t,n,!1),r=0!==(n&e.childLanes),Co||r){if(null!==(r=rc)&&(0!==(s=0!==((s=0!==(42&(s=n&-n))?1:Te(s))&(r.suspendedLanes|n))?0:s)&&s!==l.retryLane))throw l.retryLane=s,Ar(e,s),Oc(r,e,s),jo;"$?"===c.data||Gc(),t=Wo(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ss=vd(c.nextSibling),rs=t,is=!0,as=null,os=!1,null!==e&&(Qr[Jr++]=$r,Qr[Jr++]=Xr,Qr[Jr++]=Yr,$r=e.id,Xr=e.overflow,Yr=t),(t=Ho(t,s.children)).flags|=4096);return t}return i?(oo(),i=s.fallback,c=t.mode,u=(l=e.child).sibling,(s=Fr(l,{mode:"hidden",children:s.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?i=Fr(u,i):(i=Vr(i,c,n,null)).flags|=2,i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,null===(c=e.child.memoizedState)?c=zo(n):(null!==(l=c.cachePool)?(u=Ps._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=qs(),c={baseLanes:c.baseLanes|n,cachePool:l}),i.memoizedState=c,i.childLanes=Vo(e,r,n),t.memoizedState=Uo,s):(io(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:s.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Ho(e,t){return(t=qo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function qo(e,t){return(e=Or(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Wo(e,t,n){return to(t,e.child,null,n),(e=Ho(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ko(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ws(e.return,t,n)}function Go(e,t,n,r,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Qo(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(To(e,t,r.children,n),0!==(2&(r=co.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ko(e,n,t);else if(19===e.tag)Ko(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(V(co,r),s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Go(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===uo(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Go(t,!0,n,null,i);break;case"together":Go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ns(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ss(e))}function $o(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Co=!0;else{if(!Yo(e,n)&&0===(128&t.flags))return Co=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),bs(0,Ps,e.memoizedState.cache),fs();break;case 27:case 5:Q(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:bs(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(io(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Bo(e,t,n):(io(t),null!==(e=Jo(e,t,n))?e.sibling:null);io(t);break;case 19:var s=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ns(e,t,n,!1),r=0!==(n&t.childLanes)),s){if(r)return Qo(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),V(co,co.current),r)break;return null;case 22:case 23:return t.lanes=0,Po(e,t,n);case 24:bs(0,Ps,e.memoizedState.cache)}return Jo(e,t,n)}(e,t,n);Co=0!==(131072&e.flags)}else Co=!1,is&&0!==(1048576&t.flags)&&es(t,Gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,s=r._init;if(r=s(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((s=r.$$typeof)===k){t.tag=11,t=_o(null,t,r,e,n);break e}if(s===E){t.tag=14,t=Io(null,t,r,e,n);break e}}throw t=P(r)||r,Error(a(306,t,""))}Mr(r)?(e=go(r,e),t.tag=1,t=Mo(null,t,r,e,n)):(t.tag=0,t=Do(null,t,r,e,n))}return t;case 0:return Do(e,t,t.type,t.pendingProps,n);case 1:return Mo(e,t,r=t.type,s=go(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var i=t.memoizedState;s=i.element,ri(e,t),ui(t,r,null,n);var o=t.memoizedState;if(r=o.cache,bs(0,Ps,r),r!==i.cache&&ks(t,[Ps],n,!0),ci(),r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Fo(e,t,r,n);break e}if(r!==s){ms(s=Sr(Error(a(424)),t)),t=Fo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ss=vd(e.firstChild),rs=t,is=!0,as=null,os=!0,n=no(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===s){t=Jo(e,t,n);break e}To(e,t,r,n)}t=t.child}return t;case 26:return Lo(e,t),null===e?(n=Td(t.type,null,t.pendingProps,null))?t.memoizedState=n:is||(n=t.type,e=t.pendingProps,(r=rd(q.current).createElement(n))[Pe]=t,r[Re]=e,ed(r,n,e),We(r),t.stateNode=r):t.memoizedState=Td(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&is&&(r=t.stateNode=xd(t.type,t.pendingProps,q.current),rs=t,os=!0,s=ss,fd(t.type)?(yd=s,ss=vd(r.firstChild)):ss=s),To(e,t,t.pendingProps.children,n),Lo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&is&&((s=r=ss)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ue])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(null==s.href||""===s.href?null:s.href)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin)||e.getAttribute("title")!==(null==s.title?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==s.src?null:s.src)||e.getAttribute("type")!==(null==s.type?null:s.type)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==s.name?null:""+s.name;if("hidden"===s.type&&e.getAttribute("name")===i)return e}if(null===(e=vd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,os))?(t.stateNode=r,rs=t,ss=vd(r.firstChild),os=!1,s=!0):s=!1),s||cs(t)),Q(t),s=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,r=i.children,ad(s,i)?r=null:null!==o&&ad(s,o)&&(t.flags|=32),null!==t.memoizedState&&(s=Ai(e,t,Li,null,null,n),Qd._currentValue=s),Lo(e,t),To(e,t,r,n),t.child;case 6:return null===e&&is&&((e=n=ss)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vd(e.nextSibling)))return null}return e}(n,t.pendingProps,os))?(t.stateNode=n,rs=t,ss=null,e=!0):e=!1),e||cs(t)),null;case 13:return Bo(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=to(t,null,r,n):To(e,t,r,n),t.child;case 11:return _o(e,t,t.type,t.pendingProps,n);case 7:return To(e,t,t.pendingProps,n),t.child;case 8:case 12:return To(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bs(0,t.type,r.value),To(e,t,r.children,n),t.child;case 9:return s=t.type._context,r=t.pendingProps.children,Es(t),r=r(s=js(s)),t.flags|=1,To(e,t,r,n),t.child;case 14:return Io(e,t,t.type,t.pendingProps,n);case 15:return Ao(e,t,t.type,t.pendingProps,n);case 19:return Qo(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=qo(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Po(e,t,n);case 24:return Es(t),r=js(Ps),null===e?(null===(s=Bs())&&(s=rc,i=Rs(),s.pooledCache=i,i.refCount++,null!==i&&(s.pooledCacheLanes|=n),s=i),t.memoizedState={parent:r,cache:s},ni(t),bs(0,Ps,s)):(0!==(e.lanes&n)&&(ri(e,t),ui(t,null,null,n),ci()),s=e.memoizedState,i=t.memoizedState,s.parent!==r?(s={parent:r,cache:r},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),bs(0,Ps,r)):(r=i.cache,bs(0,Ps,r),r!==s.cache&&ks(t,[Ps],n,!0))),To(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Xo(e){e.flags|=4}function Zo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Vd(t)){if(null!==(t=ro.current)&&((4194048&ic)===ic?null!==so:(62914560&ic)!==ic&&0===(536870912&ic)||t!==so))throw Xs=Qs,Ks;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ne():536870912,e.lanes|=t,vc|=t)}function tl(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=65011712&s.subtreeFlags,r|=65011712&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ns(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),xs(Ps),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hs(t)?Xo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,ps())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Xo(t),null!==n?(nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Xo(t),nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Xo(t),nl(t),t.flags&=-16777217),null;case 27:J(t),n=q.current;var s=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xo(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}e=B.current,hs(t)?us(t):(e=xd(s,r,n),t.stateNode=e,Xo(t))}return nl(t),null;case 5:if(J(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xo(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}if(e=B.current,hs(t))us(t);else{switch(s=rd(q.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?s.createElement(n,{is:r.is}):s.createElement(n)}}e[Pe]=t,e[Re]=r;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xo(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Xo(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=q.current,hs(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(s=rs))switch(s.tag){case 27:case 5:r=s.memoizedProps}e[Pe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Yu(e.nodeValue,n)))||cs(t)}else(e=rd(e).createTextNode(r))[Pe]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[Pe]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),s=!1}else s=ps(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){s=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(s=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==s&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return G(),null===e&&zu(t.stateNode.containerInfo),nl(t),null;case 10:return xs(t.type),nl(t),null;case 19:if(z(co),null===(s=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(i=s.rendering))if(r)tl(s,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=uo(e))){for(t.flags|=128,tl(s,!1),e=i.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ur(n,e),n=n.sibling;return V(co,1&co.current|2),t.child}e=e.sibling}null!==s.tail&&te()>kc&&(t.flags|=128,r=!0,tl(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(s,!0),null===s.tail&&"hidden"===s.tailMode&&!i.alternate&&!is)return nl(t),null}else 2*te()-s.renderingStartTime>kc&&536870912!==n&&(t.flags|=128,r=!0,tl(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=s.last)?e.sibling=i:t.child=i,s.last=i)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=te(),t.sibling=null,e=co.current,V(co,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return lo(t),vi(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&z(Vs),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xs(Ps),nl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function sl(e,t){switch(ns(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return xs(Ps),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(co),null;case 4:return G(),null;case 10:return xs(t.type),null;case 22:case 23:return lo(t),vi(),null!==e&&z(Vs),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return xs(Ps),null;default:return null}}function il(e,t){switch(ns(t),t.tag){case 3:xs(Ps),G();break;case 26:case 27:case 5:J(t);break;case 4:G();break;case 13:lo(t);break;case 19:z(co);break;case 10:xs(t.type);break;case 22:case 23:lo(t),vi(),null!==e&&z(Vs);break;case 24:xs(Ps)}}function al(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var s=r.next;n=s;do{if((n.tag&e)===e){r=void 0;var i=n.create,a=n.inst;r=i(),a.destroy=r}n=n.next}while(n!==s)}}catch(o){uu(t,t.return,o)}}function ol(e,t,n){try{var r=t.updateQueue,s=null!==r?r.lastEffect:null;if(null!==s){var i=s.next;r=i;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,s=t;var l=n,c=o;try{c()}catch(u){uu(s,l,u)}}}r=r.next}while(r!==i)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{hi(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=go(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(s){uu(e,t,s)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(s){uu(e,t,s)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){uu(e,t,i)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(s){uu(e,e.return,s)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,o=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Xu(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":i=p;break;case"name":s=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==h&&Xu(e,t,f,p,r,h)}}return void gt(e,o,l,c,u,d,i,s);case"select":for(i in p=o=l=f=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(i)||Xu(e,t,i,null,r,c)}for(s in r)if(i=r[s],c=n[s],r.hasOwnProperty(s)&&(null!=i||null!=c))switch(s){case"value":f=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==c&&Xu(e,t,s,i,r,c)}return t=l,n=o,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(s=n[l],n.hasOwnProperty(l)&&null!=s&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Xu(e,t,l,null,r,s)}for(o in r)if(s=r[o],i=n[o],r.hasOwnProperty(o)&&(null!=s||null!=i))switch(o){case"value":f=s;break;case"defaultValue":p=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(a(91));break;default:s!==i&&Xu(e,t,o,s,r,i)}return void xt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Xu(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Xu(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Xu(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:Xu(e,t,u,f,r,p)}return;default:if(jt(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&Zu(e,t,v,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Zu(e,t,d,f,r,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&Xu(e,t,y,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Xu(e,t,h,f,r,p)}(r,e.type,n,t),r[Re]=t}catch(s){uu(e,e.return,s)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$u));else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function yl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ed(t,r,n),t[Pe]=e,t[Re]=n}catch(i){uu(e,e.return,i)}}var bl=!1,xl=!1,wl=!1,kl="function"===typeof WeakSet?WeakSet:Set,Nl=null;function Sl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ml(e,n),4&r&&al(5,n);break;case 1:if(Ml(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){uu(n,n.return,a)}else{var s=go(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){uu(n,n.return,o)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Ml(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{hi(e,t)}catch(a){uu(n,n.return,a)}}break;case 27:null===t&&4&r&&yl(n);case 26:case 5:Ml(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:Ml(e,n);break;case 13:Ml(e,n),4&r&&Il(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||xl,s=bl;var i=xl;bl=r,(xl=t)&&!i?Ul(e,n,0!==(8772&n.subtreeFlags)):Ml(e,n),bl=s,xl=i}break;case 30:break;default:Ml(e,n)}}function El(e){var t=e.alternate;null!==t&&(e.alternate=null,El(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ze(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var jl=null,Cl=!1;function Tl(e,t,n){for(n=n.child;null!==n;)_l(e,t,n),n=n.sibling}function _l(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(i){}switch(n.tag){case 26:xl||dl(n,t),Tl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:xl||dl(n,t);var r=jl,s=Cl;fd(n.type)&&(jl=n.stateNode,Cl=!1),Tl(e,t,n),wd(n.stateNode),jl=r,Cl=s;break;case 5:xl||dl(n,t);case 6:if(r=jl,s=Cl,jl=null,Tl(e,t,n),Cl=s,null!==(jl=r))if(Cl)try{(9===jl.nodeType?jl.body:"HTML"===jl.nodeName?jl.ownerDocument.body:jl).removeChild(n.stateNode)}catch(a){uu(n,t,a)}else try{jl.removeChild(n.stateNode)}catch(a){uu(n,t,a)}break;case 18:null!==jl&&(Cl?(pd(9===(e=jl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ch(e)):pd(jl,n.stateNode));break;case 4:r=jl,s=Cl,jl=n.stateNode.containerInfo,Cl=!0,Tl(e,t,n),jl=r,Cl=s;break;case 0:case 11:case 14:case 15:xl||ol(2,n,t),xl||ol(4,n,t),Tl(e,t,n);break;case 1:xl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Tl(e,t,n);break;case 21:Tl(e,t,n);break;case 22:xl=(r=xl)||null!==n.memoizedState,Tl(e,t,n),xl=r;break;default:Tl(e,t,n)}}function Il(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ch(e)}catch(n){uu(t,t.return,n)}}function Al(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r],i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(fd(l.type)){jl=l.stateNode,Cl=!1;break e}break;case 5:jl=l.stateNode,Cl=!1;break e;case 3:case 4:jl=l.stateNode.containerInfo,Cl=!0;break e}l=l.return}if(null===jl)throw Error(a(160));_l(i,o,s),jl=null,Cl=!1,null!==(i=s.alternate)&&(i.return=null),s.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ll(t,e),t=t.sibling}var Rl=null;function Ll(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pl(t,e),Dl(e),4&r&&(ol(3,e,e.return),al(3,e),ol(5,e,e.return));break;case 1:Pl(t,e),Dl(e),512&r&&(xl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var s=Rl;if(Pl(t,e),Dl(e),512&r&&(xl||null===n||dl(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(r){case"title":(!(i=s.getElementsByTagName("title")[0])||i[Ue]||i[Pe]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=s.createElement(r),s.head.insertBefore(i,s.querySelector("head > title"))),ed(i,r,n),i[Pe]=e,We(i),r=i;break e;case"link":var o=Ud("link","href",s).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((i=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}ed(i=s.createElement(r),r,n),s.head.appendChild(i);break;case"meta":if(o=Ud("meta","content",s).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((i=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}ed(i=s.createElement(r),r,n),s.head.appendChild(i);break;default:throw Error(a(468,r))}i[Pe]=e,We(i),r=i}e.stateNode=r}else zd(s,e.type,e.stateNode);else e.stateNode=Ld(s,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?zd(s,e.type,e.stateNode):Ld(s,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Pl(t,e),Dl(e),512&r&&(xl||null===n||dl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Pl(t,e),Dl(e),512&r&&(xl||null===n||dl(n,n.return)),32&e.flags){s=e.stateNode;try{kt(s,"")}catch(p){uu(e,e.return,p)}}4&r&&null!=e.stateNode&&fl(e,s=e.memoizedProps,null!==n?n.memoizedProps:s),1024&r&&(wl=!0);break;case 6:if(Pl(t,e),Dl(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){uu(e,e.return,p)}}break;case 3:if(Fd=null,s=Rl,Rl=Sd(t.containerInfo),Pl(t,e),Rl=s,Dl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ch(t.containerInfo)}catch(p){uu(e,e.return,p)}wl&&(wl=!1,Ol(e));break;case 4:r=Rl,Rl=Sd(e.stateNode.containerInfo),Pl(t,e),Dl(e),Rl=r;break;case 12:default:Pl(t,e),Dl(e);break;case 13:Pl(t,e),Dl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Al(e,r)));break;case 22:s=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=xl;if(bl=u||s,xl=d||c,Pl(t,e),xl=d,bl=u,Dl(e),8192&r)e:for(t=e.stateNode,t._visibility=s?-2&t._visibility:1|t._visibility,s&&(null===n||c||bl||xl||Fl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,s)"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Al(e,n))));break;case 19:Pl(t,e),Dl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Al(e,r)));case 30:case 21:}}function Dl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var s=n.stateNode;vl(e,ml(e),s);break;case 5:var i=n.stateNode;32&n.flags&&(kt(i,""),n.flags&=-33),vl(e,ml(e),i);break;case 3:case 4:var o=n.stateNode.containerInfo;gl(e,ml(e),o);break;default:throw Error(a(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ol(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ol(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ml(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Sl(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Fl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Fl(t);break;case 27:wd(t.stateNode);case 26:case 5:dl(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function Ul(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,s=e,i=t,a=i.flags;switch(i.tag){case 0:case 11:case 15:Ul(s,i,n),al(4,i);break;case 1:if(Ul(s,i,n),"function"===typeof(s=(r=i).stateNode).componentDidMount)try{s.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(s=(r=i).updateQueue)){var o=r.stateNode;try{var l=s.shared.hiddenCallbacks;if(null!==l)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)di(l[s],o)}catch(c){uu(r,r.return,c)}}n&&64&a&&ll(i),ul(i,i.return);break;case 27:yl(i);case 26:case 5:Ul(s,i,n),n&&null===r&&4&a&&hl(i),ul(i,i.return);break;case 12:Ul(s,i,n);break;case 13:Ul(s,i,n),n&&4&a&&Il(s,i);break;case 22:null===i.memoizedState&&Ul(s,i,n),ul(i,i.return);break;case 30:break;default:Ul(s,i,n)}t=t.sibling}}function zl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ls(n))}function Vl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ls(e))}function Bl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hl(e,t,n,r),t=t.sibling}function Hl(e,t,n,r){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Bl(e,t,n,r),2048&s&&al(9,t);break;case 1:case 13:default:Bl(e,t,n,r);break;case 3:Bl(e,t,n,r),2048&s&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ls(e)));break;case 12:if(2048&s){Bl(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,a=i.id,o=i.onPostCommit;"function"===typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Bl(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,a=t.alternate,null!==t.memoizedState?2&i._visibility?Bl(e,t,n,r):Wl(e,t):2&i._visibility?Bl(e,t,n,r):(i._visibility|=2,ql(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&s&&zl(a,t);break;case 24:Bl(e,t,n,r),2048&s&&Vl(t.alternate,t)}}function ql(e,t,n,r,s){for(s=s&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,a=t,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:ql(i,a,o,l,s),al(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?ql(i,a,o,l,s):Wl(i,a):(u._visibility|=2,ql(i,a,o,l,s)),s&&2048&c&&zl(a.alternate,a);break;case 24:ql(i,a,o,l,s),s&&2048&c&&Vl(a.alternate,a);break;default:ql(i,a,o,l,s)}t=t.sibling}}function Wl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,s=r.flags;switch(r.tag){case 22:Wl(n,r),2048&s&&zl(r.alternate,r);break;case 24:Wl(n,r),2048&s&&Vl(r.alternate,r);break;default:Wl(n,r)}t=t.sibling}}var Kl=8192;function Gl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 26:Gl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===Bd)throw Error(a(475));var r=Bd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var s=_d(n.href),i=e.querySelector(Id(s));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=qd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void We(i);i=e.ownerDocument||e,n=Ad(n),(s=kd.get(s))&&Od(n,s),We(i=i.createElement("link"));var o=i;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=qd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Rl,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Rl;Rl=Sd(e.stateNode.containerInfo),Gl(e),Rl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Gl(e),Kl=t):Gl(e))}}function Jl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Nl=r,Zl(r,e)}Jl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)$l(e),e=e.sibling}function $l(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xl(e)):Yl(e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Nl=r,Zl(r,e)}Jl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Xl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Xl(t));break;default:Xl(t)}e=e.sibling}}function Zl(e,t){for(;null!==Nl;){var n=Nl;switch(n.tag){case 0:case 11:case 15:ol(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ls(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Nl=r;else e:for(n=e;null!==Nl;){var s=(r=Nl).sibling,i=r.return;if(El(r),r===n){Nl=null;break e}if(null!==s){s.return=i,Nl=s;break e}Nl=i}}}var ec={getCacheForType:function(e){var t=js(Ps),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,sc=null,ic=0,ac=0,oc=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,fc=0,pc=0,mc=0,gc=0,vc=0,yc=null,bc=null,xc=!1,wc=0,kc=1/0,Nc=null,Sc=null,Ec=0,jc=null,Cc=null,Tc=0,_c=0,Ic=null,Ac=null,Pc=0,Rc=null;function Lc(){if(0!==(2&nc)&&0!==ic)return ic&-ic;if(null!==L.T){return 0!==Ms?Ms:_u()}return Ie()}function Dc(){0===gc&&(gc=0===(536870912&ic)||is?ke():536870912);var e=ro.current;return null!==e&&(e.flags|=32),gc}function Oc(e,t,n){(e!==rc||2!==ac&&9!==ac)&&null===e.cancelPendingCommit||(Hc(e,0),zc(e,ic,gc,!1)),Ee(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(pc|=n),4===hc&&zc(e,ic,gc,!1)),ku(e))}function Mc(e,t,n){if(0!==(6&nc))throw Error(a(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||xe(e,t),s=r?function(e,t){var n=nc;nc|=2;var r=Wc(),s=Kc();rc!==e||ic!==t?(Nc=null,kc=te()+500,Hc(e,t)):cc=xe(e,t);e:for(;;)try{if(0!==ac&&null!==sc){t=sc;var i=oc;t:switch(ac){case 1:ac=0,oc=null,Zc(e,t,i,1);break;case 2:case 9:if(Js(i)){ac=0,oc=null,Xc(t);break}t=function(){2!==ac&&9!==ac||rc!==e||(ac=7),ku(e)},i.then(t,t);break e;case 3:ac=7;break e;case 4:ac=5;break e;case 7:Js(i)?(ac=0,oc=null,Xc(t)):(ac=0,oc=null,Zc(e,t,i,7));break;case 5:var o=null;switch(sc.tag){case 26:o=sc.memoizedState;case 5:case 27:var l=sc;if(!o||Vd(o)){ac=0,oc=null;var c=l.sibling;if(null!==c)sc=c;else{var u=l.return;null!==u?(sc=u,eu(u)):sc=null}break t}}ac=0,oc=null,Zc(e,t,i,5);break;case 6:ac=0,oc=null,Zc(e,t,i,6);break;case 8:Bc(),hc=6;break e;default:throw Error(a(462))}}Yc();break}catch(d){qc(e,d)}return ys=vs=null,L.H=r,L.A=s,nc=n,null!==sc?0:(rc=null,ic=0,Tr(),hc)}(e,t):Qc(e,t,!0),i=r;;){if(0===s){cc&&!r&&zc(e,t,0,!1);break}if(n=e.current.alternate,!i||Uc(n)){if(2===s){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;s=yc;var c=l.current.memoizedState.isDehydrated;if(c&&(Hc(l,o).flags|=256),2!==(o=Qc(l,o,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=i,pc|=i,s=4;break e}i=bc,bc=s,null!==i&&(null===bc?bc=i:bc.push.apply(bc,i))}s=o}if(i=!1,2!==s)continue}}if(1===s){Hc(e,0),zc(e,t,0,!0);break}e:{switch(r=e,i=s){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:zc(r,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(s=wc+300-te())){if(zc(r,t,gc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=ld(Fc.bind(null,r,n,bc,Nc,xc,t,gc,pc,vc,lc,i,2,-0,0),s)}else Fc(r,n,bc,Nc,xc,t,gc,pc,vc,lc,i,0,-0,0)}break}s=Qc(e,t,!1),i=!1}ku(e)}function Fc(e,t,n,r,s,i,o,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Bd={stylesheets:null,count:0,unsuspend:Hd},Ql(t),null!==(h=function(){if(null===Bd)throw Error(a(475));var e=Bd;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,i,n,r,s,o,l,c,d,1,f,p)),void zc(e,i,o,!u);nu(e,t,i,n,r,s,o,l,c)}function Uc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Jn(i(),s))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zc(e,t,n,r){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var s=t;0<s;){var i=31-fe(s),a=1<<i;r[i]=-1,s&=~a}0!==n&&je(e,n,t)}function Vc(){return 0!==(6&nc)||(Nu(0,!1),!1)}function Bc(){if(null!==sc){if(0===ac)var e=sc.return;else ys=vs=null,Mi(e=sc),Qa=null,Ja=0,e=sc;for(;null!==e;)il(e.alternate,e),e=e.return;sc=null}}function Hc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc(),rc=e,sc=n=Fr(e.current,null),ic=t,ac=0,oc=null,lc=!1,cc=xe(e,t),uc=!1,vc=gc=mc=pc=fc=hc=0,bc=yc=null,xc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var s=31-fe(r),i=1<<s;t|=e[s],r&=~i}return dc=t,Tr(),n}function qc(e,t){bi=null,L.H=qa,t===Ws||t===Gs?(t=Zs(),ac=3):t===Ks?(t=Zs(),ac=4):ac=t===jo?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===sc&&(hc=1,wo(e,Sr(t,e.current)))}function Wc(){var e=L.H;return L.H=qa,null===e?qa:e}function Kc(){var e=L.A;return L.A=ec,e}function Gc(){hc=4,lc||(4194048&ic)!==ic&&null!==ro.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===rc||zc(rc,ic,gc,!1)}function Qc(e,t,n){var r=nc;nc|=2;var s=Wc(),i=Kc();rc===e&&ic===t||(Nc=null,Hc(e,t)),t=!1;var a=hc;e:for(;;)try{if(0!==ac&&null!==sc){var o=sc,l=oc;switch(ac){case 8:Bc(),a=6;break e;case 3:case 2:case 9:case 6:null===ro.current&&(t=!0);var c=ac;if(ac=0,oc=null,Zc(e,o,l,c),n&&cc){a=0;break e}break;default:c=ac,ac=0,oc=null,Zc(e,o,l,c)}}Jc(),a=hc;break}catch(u){qc(e,u)}return t&&e.shellSuspendCounter++,ys=vs=null,nc=r,L.H=s,L.A=i,null===sc&&(rc=null,ic=0,Tr()),a}function Jc(){for(;null!==sc;)$c(sc)}function Yc(){for(;null!==sc&&!Z();)$c(sc)}function $c(e){var t=$o(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):sc=t}function Xc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Oo(n,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=Oo(n,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:Mi(t);default:il(n,t),t=$o(n,t=sc=Ur(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):sc=t}function Zc(e,t,n,r){ys=vs=null,Mi(t),Qa=null,Ja=0;var s=t.return;try{if(function(e,t,n,r,s){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ns(t,n,s,!0),null!==(n=ro.current)){switch(n.tag){case 13:return null===so?Gc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=s,r===Qs?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,s)),!1;case 22:return n.flags|=65536,r===Qs?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,s)),!1}throw Error(a(435,n.tag))}return du(e,r,s),Gc(),!1}if(is)return null!==(t=ro.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,r!==ls&&ms(Sr(e=Error(a(422),{cause:r}),n))):(r!==ls&&ms(Sr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,r=Sr(r,n),oi(e,s=No(e.stateNode,r,s)),4!==hc&&(hc=2)),!1;var i=Error(a(520),{cause:r});if(i=Sr(i,n),null===yc?yc=[i]:yc.push(i),4!==hc&&(hc=2),null===t)return!0;r=Sr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,oi(n,e=No(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===Sc||!Sc.has(i))))return n.flags|=65536,s&=-s,n.lanes|=s,Eo(s=So(s),e,n,r),oi(n,s),!1}n=n.return}while(null!==n);return!1}(e,s,t,n,ic))return hc=1,wo(e,Sr(n,e.current)),void(sc=null)}catch(i){if(null!==s)throw sc=s,i;return hc=1,wo(e,Sr(n,e.current)),void(sc=null)}32768&t.flags?(is||1===r?e=!0:cc||0!==(536870912&ic)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ro.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(sc=n);if(null!==(t=t.sibling))return void(sc=t);sc=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=sl(e.alternate,e);if(null!==n)return n.flags&=32767,void(sc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(sc=e);sc=e=n}while(null!==e);hc=6,sc=null}function nu(e,t,n,r,s,i,o,l,c){e.cancelPendingCommit=null;do{ou()}while(0!==Ec);if(0!==(6&nc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,s,i){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-fe(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&je(e,r,0),0!==i&&0===s&&0!==e.tag&&(e.suspendedLanes|=i&~(a&~t))}(e,n,i|=Cr,o,l,c),e===rc&&(sc=rc=null,ic=0),Cc=t,jc=e,Tc=n,_c=i,Ic=s,Ac=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,$(ie,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=L.T,L.T=null,s=D.p,D.p=2,o=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==i||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=o),f===i&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,Nl=t;null!==Nl;)if(e=(t=Nl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Nl=e;else for(;null!==Nl;){switch(i=(t=Nl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,s=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var m=go(n.type,s,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){uu(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Nl=e;break}Nl=t.return}}(e,t)}finally{nc=o,D.p=s,L.T=r}}Ec=1,ru(),su(),iu()}}function ru(){if(1===Ec){Ec=0;var e=jc,t=Cc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=L.T,L.T=null;var r=D.p;D.p=2;var s=nc;nc|=4;try{Ll(t,e);var i=nd,a=er(e.containerInfo),o=i.focusedElem,l=i.selectionRange;if(a!==o&&o&&o.ownerDocument&&Zn(o.ownerDocument.documentElement,o)){if(null!==l&&tr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(a=g,g=m,m=a);var v=Xn(o,m),y=Xn(o,g);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),f.addRange(b))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var x=d[o];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}nh=!!td,nd=td=null}finally{nc=s,D.p=r,L.T=n}}e.current=t,Ec=2}}function su(){if(2===Ec){Ec=0;var e=jc,t=Cc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=L.T,L.T=null;var r=D.p;D.p=2;var s=nc;nc|=4;try{Sl(e,t.alternate,t)}finally{nc=s,D.p=r,L.T=n}}Ec=3}}function iu(){if(4===Ec||3===Ec){Ec=0,ee();var e=jc,t=Cc,n=Tc,r=Ac;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Ec=5:(Ec=0,Cc=jc=null,au(e,e.pendingLanes));var s=e.pendingLanes;if(0===s&&(Sc=null),_e(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=L.T,s=D.p,D.p=2,L.T=null;try{for(var i=e.onRecoverableError,a=0;a<r.length;a++){var o=r[a];i(o.value,{componentStack:o.stack})}}finally{L.T=t,D.p=s}}0!==(3&Tc)&&ou(),ku(e),s=e.pendingLanes,0!==(4194090&n)&&0!==(42&s)?e===Rc?Pc++:(Pc=0,Rc=e):Pc=0,Nu(0,!1)}}function au(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ls(t)))}function ou(e){return ru(),su(),iu(),lu()}function lu(){if(5!==Ec)return!1;var e=jc,t=_c;_c=0;var n=_e(Tc),r=L.T,s=D.p;try{D.p=32>n?32:n,L.T=null,n=Ic,Ic=null;var i=jc,o=Tc;if(Ec=0,Cc=jc=null,Tc=0,0!==(6&nc))throw Error(a(331));var l=nc;if(nc|=4,$l(i.current),Hl(i,i.current,o,n),nc=l,Nu(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,i)}catch(c){}return!0}finally{D.p=s,L.T=r,au(e,t)}}function cu(e,t,n){t=Sr(n,t),null!==(e=ii(e,t=No(e.stateNode,t,2),2))&&(Ee(e,2),ku(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Sc||!Sc.has(r))){e=Sr(n,e),null!==(r=ii(t,n=So(2),2))&&(Eo(n,r,t,e),Ee(r,2),ku(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(uc=!0,s.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(ic&n)===n&&(4===hc||3===hc&&(62914560&ic)===ic&&300>te()-wc?0===(2&nc)&&Hc(e,0):mc|=n,vc===ic&&(vc=0)),ku(e)}function fu(e,t){0===t&&(t=Ne()),null!==(e=Ar(e,t))&&(Ee(e,t),ku(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),fu(e,n)}var gu=null,vu=null,yu=!1,bu=!1,xu=!1,wu=0;function ku(e){e!==vu&&null===e.next&&(null===vu?gu=vu=e:vu=vu.next=e),bu=!0,yu||(yu=!0,dd(function(){0!==(6&nc)?$(re,Su):Eu()}))}function Nu(e,t){if(!xu&&bu){xu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var s=r.pendingLanes;if(0===s)var i=0;else{var a=r.suspendedLanes,o=r.pingedLanes;i=(1<<31-fe(42|e)+1)-1,i=201326741&(i&=s&~(a&~o))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Tu(r,i))}else i=ic,0===(3&(i=be(r,r===rc?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||xe(r,i)||(n=!0,Tu(r,i));r=r.next}}while(n);xu=!1}}function Su(){Eu()}function Eu(){bu=yu=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==od&&(od=e,!0);return od=null,!1}()&&(e=wu),wu=0);for(var t=te(),n=null,r=gu;null!==r;){var s=r.next,i=ju(r,t);0===i?(r.next=null,null===n?gu=s:n.next=s,null===s&&(vu=n)):(n=r,(0!==e||0!==(3&i))&&(bu=!0)),r=s}Nu(e,!1)}function ju(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var a=31-fe(i),o=1<<a,l=s[a];-1===l?0!==(o&n)&&0===(o&r)||(s[a]=we(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}if(n=ic,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ac||9===ac)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&X(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||xe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&X(r),_e(n)){case 2:case 8:n=se;break;case 32:default:n=ie;break;case 268435456:n=oe}return r=Cu.bind(null,e),n=$(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&X(r),e.callbackPriority=2,e.callbackNode=null,2}function Cu(e,t){if(0!==Ec&&5!==Ec)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ou()&&e.callbackNode!==n)return null;var r=ic;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Mc(e,r,t),ju(e,te()),null!=e.callbackNode&&e.callbackNode===n?Cu.bind(null,e):null)}function Tu(e,t){if(ou())return null;Mc(e,t,!0)}function _u(){return 0===wu&&(wu=ke()),wu}function Iu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:_t(""+e)}function Au(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Pu=0;Pu<wr.length;Pu++){var Ru=wr[Pu];kr(Ru.toLowerCase(),"on"+(Ru[0].toUpperCase()+Ru.slice(1)))}kr(fr,"onAnimationEnd"),kr(pr,"onAnimationIteration"),kr(mr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(gr,"onTransitionRun"),kr(vr,"onTransitionStart"),kr(yr,"onTransitionCancel"),kr(br,"onTransitionEnd"),Je("onMouseEnter",["mouseout","mouseover"]),Je("onMouseLeave",["mouseout","mouseover"]),Je("onPointerEnter",["pointerout","pointerover"]),Je("onPointerLeave",["pointerout","pointerover"]),Qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Du=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lu));function Ou(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;i=o,s.currentTarget=c;try{i(s)}catch(u){vo(u)}s.currentTarget=null,i=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;i=o,s.currentTarget=c;try{i(s)}catch(u){vo(u)}s.currentTarget=null,i=l}}}}function Mu(e,t){var n=t[De];void 0===n&&(n=t[De]=new Set);var r=e+"__bubble";n.has(r)||(Vu(t,e,2,!1),n.add(r))}function Fu(e,t,n){var r=0;t&&(r|=4),Vu(n,e,r,t)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function zu(e){if(!e[Uu]){e[Uu]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(Du.has(t)||Fu(t,!1,e),Fu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Uu]||(t[Uu]=!0,Fu("selectionchange",!1,t))}}function Vu(e,t,n,r){switch(ch(t)){case 2:var s=rh;break;case 8:s=sh;break;default:s=ih}n=s.bind(null,t,n,e),s=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Bu(e,t,n,r,s){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===s)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===s)return;a=a.return}for(;null!==o;){if(null===(a=Ve(o)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=i=a;continue e}o=o.parentNode}}r=r.return}Ot(function(){var r=i,s=At(n),a=[];e:{var o=xr.get(e);if(void 0!==o){var c=Zt,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=an;break;case"focusout":u="blur",c=an;break;case"beforeblur":case"afterblur":c=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case fr:case pr:case mr:c=on;break;case br:c=yn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=xn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Mt(m,f))&&d.push(Hu(m,g,p)),h)break;m=m.return}0<d.length&&(o=new c(o,u,null,n,s),a.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===It||!(u=n.relatedTarget||n.fromElement)||!Ve(u)&&!u[Le])&&(c||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ve(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?o:He(c),p=null==u?o:He(u),(o=new d(g,m+"leave",c,n,s)).target=h,o.relatedTarget=p,g=null,Ve(s)===r&&((d=new d(f,m+"enter",u,n,s)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,m=0,p=d=c;p;p=Wu(p))m++;for(p=0,g=f;g;g=Wu(g))p++;for(;0<m-p;)d=Wu(d),m--;for(;0<p-m;)f=Wu(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=Wu(d),f=Wu(f)}d=null}else d=null;null!==c&&Ku(a,o,c,d,!1),null!==u&&null!==h&&Ku(a,h,u,d,!0)}if("select"===(c=(o=r?He(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var v=Fn;else if(Pn(o))if(Un)v=Qn;else{v=Kn;var y=Wn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&jt(r.elementType)&&(v=Fn):v=Gn;switch(v&&(v=v(e,r))?Rn(a,v,n,s):(y&&y(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&yt(o,"number",o.value)),y=r?He(r):window,e){case"focusin":(Pn(y)||"true"===y.contentEditable)&&(rr=y,sr=r,ir=null);break;case"focusout":ir=sr=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,or(a,n,s);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(a,n,s)}var b;if(kn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else In?Tn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(En&&"ko"!==n.locale&&(In||"onCompositionStart"!==x?"onCompositionEnd"===x&&In&&(b=qt()):(Bt="value"in(Vt=s)?Vt.value:Vt.textContent,In=!0)),0<(y=qu(r,x)).length&&(x=new cn(x,e,null,n,s),a.push({event:x,listeners:y}),b?x.data=b:null!==(b=_n(n))&&(x.data=b))),(b=Sn?function(e,t){switch(e){case"compositionend":return _n(t);case"keypress":return 32!==t.which?null:(Cn=!0,jn);case"textInput":return(e=t.data)===jn&&Cn?null:e;default:return null}}(e,n):function(e,t){if(In)return"compositionend"===e||!kn&&Tn(e,t)?(e=qt(),Ht=Bt=Vt=null,In=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=qu(r,"onBeforeInput")).length&&(y=new cn("onBeforeInput","beforeinput",null,n,s),a.push({event:y,listeners:x}),y.data=b)),function(e,t,n,r,s){if("submit"===t&&n&&n.stateNode===s){var i=Iu((s[Re]||null).action),a=r.submitter;a&&null!==(t=(t=a[Re]||null)?Iu(t.formAction):a.getAttribute("formAction"))&&(i=t,a=null);var o=new Zt("action","action",null,r,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wu){var e=a?Au(s,a):new FormData(s);Ia(n,{pending:!0,data:e,method:s.method,action:i},null,e)}}else"function"===typeof i&&(o.preventDefault(),e=a?Au(s,a):new FormData(s),Ia(n,{pending:!0,data:e,method:s.method,action:i},i,e))},currentTarget:s}]})}}(a,e,r,n,s)}Ou(a,t)})}function Hu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qu(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,i=s.stateNode;if(5!==(s=s.tag)&&26!==s&&27!==s||null===i||(null!=(s=Mt(e,n))&&r.unshift(Hu(e,s,i)),null!=(s=Mt(e,t))&&r.push(Hu(e,s,i))),3===e.tag)return r;e=e.return}return[]}function Wu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,n,r,s){for(var i=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,s?null!=(c=Mt(n,i))&&a.unshift(Hu(n,c,l)):s||null!=(c=Mt(n,i))&&a.push(Hu(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Gu=/\r\n?/g,Qu=/\u0000|\uFFFD/g;function Ju(e){return("string"===typeof e?e:""+e).replace(Gu,"\n").replace(Qu,"")}function Yu(e,t){return t=Ju(t),Ju(e)===t}function $u(){}function Xu(e,t,n,r,s,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Et(e,r,i);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=_t(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&Xu(e,t,"name",s.name,s,null),Xu(e,t,"formEncType",s.formEncType,s,null),Xu(e,t,"formMethod",s.formMethod,s,null),Xu(e,t,"formTarget",s.formTarget,s,null)):(Xu(e,t,"encType",s.encType,s,null),Xu(e,t,"method",s.method,s,null),Xu(e,t,"target",s.target,s,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=_t(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=$u);break;case"onScroll":null!=r&&Mu("scroll",e);break;case"onScrollEnd":null!=r&&Mu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=s.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=_t(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Mu("beforetoggle",e),Mu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Ct.get(n)||n,r)}}function Zu(e,t,n,r,s,i){switch(n){case"style":Et(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=s.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?kt(e,r):("number"===typeof r||"bigint"===typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&Mu("scroll",e);break;case"onScrollEnd":null!=r&&Mu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=$u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),"function"===typeof(i=null!=(i=e[Re]||null)?i[n]:null)&&e.removeEventListener(t,i,s),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,s)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mu("error",e),Mu("load",e);var r,s=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":s=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Xu(e,t,r,o,n,null)}}return i&&Xu(e,t,"srcSet",n.srcSet,n,null),void(s&&Xu(e,t,"src",n.src,n,null));case"input":Mu("invalid",e);var l=r=o=i=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(null!=d)switch(s){case"name":i=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:Xu(e,t,s,d,n,null)}}return vt(e,r,l,c,u,o,i,!1),void dt(e);case"select":for(i in Mu("invalid",e),s=o=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":s=l;default:Xu(e,t,i,l,n,null)}return t=r,n=o,e.multiple=!!s,void(null!=t?bt(e,!!s,t,!1):null!=n&&bt(e,!!s,n,!0));case"textarea":for(o in Mu("invalid",e),r=i=s=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":s=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Xu(e,t,o,l,n,null)}return wt(e,s,i,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(s=n[c]))if("selected"===c)e.selected=s&&"function"!==typeof s&&"symbol"!==typeof s;else Xu(e,t,c,s,n,null);return;case"dialog":Mu("beforetoggle",e),Mu("toggle",e),Mu("cancel",e),Mu("close",e);break;case"iframe":case"object":Mu("load",e);break;case"video":case"audio":for(s=0;s<Lu.length;s++)Mu(Lu[s],e);break;case"image":Mu("error",e),Mu("load",e);break;case"details":Mu("toggle",e);break;case"embed":case"source":case"link":Mu("error",e),Mu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(s=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Xu(e,t,u,s,n,null)}return;default:if(jt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(s=n[d])&&Zu(e,t,d,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(s=n[l])&&Xu(e,t,l,s,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function sd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function id(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ad(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var od=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function fd(e){return"head"===e}function pd(e,t){var n=t,r=0,s=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(1&n&&wd(a.documentElement),2&n&&wd(a.body),4&n)for(wd(n=a.head),a=n.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[Ue]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=o}}if(0===s)return e.removeChild(i),void Ch(t);s--}else"$"===n||"$?"===n||"$!"===n?s++:r=n.charCodeAt(0)-48;else r=0;n=i}while(n);Ch(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),ze(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var yd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function xd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ze(e)}var kd=new Map,Nd=new Set;function Sd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ed=D.d;D.d={f:function(){var e=Ed.f(),t=Vc();return e||t},r:function(e){var t=Be(e);null!==t&&5===t.tag&&"form"===t.type?Pa(t):Ed.r(e)},D:function(e){Ed.D(e),Cd("dns-prefetch",e,null)},C:function(e,t){Ed.C(e,t),Cd("preconnect",e,t)},L:function(e,t,n){Ed.L(e,t,n);var r=jd;if(r&&e&&t){var s='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(s+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(s+='[imagesizes="'+mt(n.imageSizes)+'"]')):s+='[href="'+mt(e)+'"]';var i=s;switch(t){case"style":i=_d(e);break;case"script":i=Pd(e)}kd.has(i)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),kd.set(i,e),null!==r.querySelector(s)||"style"===t&&r.querySelector(Id(i))||"script"===t&&r.querySelector(Rd(i))||(ed(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}},m:function(e,t){Ed.m(e,t);var n=jd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",s='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',i=s;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Pd(e)}if(!kd.has(i)&&(e=h({rel:"modulepreload",href:e},t),kd.set(i,e),null===n.querySelector(s))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rd(i)))return}ed(r=n.createElement("link"),"link",e),We(r),n.head.appendChild(r)}}},X:function(e,t){Ed.X(e,t);var n=jd;if(n&&e){var r=qe(n).hoistableScripts,s=Pd(e),i=r.get(s);i||((i=n.querySelector(Rd(s)))||(e=h({src:e,async:!0},t),(t=kd.get(s))&&Md(e,t),We(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(s,i))}},S:function(e,t,n){Ed.S(e,t,n);var r=jd;if(r&&e){var s=qe(r).hoistableStyles,i=_d(e);t=t||"default";var a=s.get(i);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Id(i)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=kd.get(i))&&Od(e,n);var l=a=r.createElement("link");We(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Dd(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},s.set(i,a)}}},M:function(e,t){Ed.M(e,t);var n=jd;if(n&&e){var r=qe(n).hoistableScripts,s=Pd(e),i=r.get(s);i||((i=n.querySelector(Rd(s)))||(e=h({src:e,async:!0,type:"module"},t),(t=kd.get(s))&&Md(e,t),We(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(s,i))}}};var jd="undefined"===typeof document?null:document;function Cd(e,t,n){var r=jd;if(r&&"string"===typeof t&&t){var s=mt(t);s='link[rel="'+e+'"][href="'+s+'"]',"string"===typeof n&&(s+='[crossorigin="'+n+'"]'),Nd.has(s)||(Nd.add(s),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(s)&&(ed(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}}function Td(e,t,n,r){var s,i,o,l,c=(c=q.current)?Sd(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=_d(n.href),(r=(n=qe(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=_d(n.href);var u=qe(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Id(e)))&&!u._p&&(d.instance=u,d.state.loading=5),kd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},kd.set(e,n),u||(s=c,i=e,o=n,l=d.state,s.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=s.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ed(i,"link",o),We(i),s.head.appendChild(i))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Pd(n),(r=(n=qe(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function _d(e){return'href="'+mt(e)+'"'}function Id(e){return'link[rel="stylesheet"]['+e+"]"}function Ad(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Pd(e){return'[src="'+mt(e)+'"]'}function Rd(e){return"script[async]"+e}function Ld(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,We(r),r;var s=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",s),Dd(r,n.precedence,e),t.instance=r;case"stylesheet":s=_d(n.href);var i=e.querySelector(Id(s));if(i)return t.state.loading|=4,t.instance=i,We(i),i;r=Ad(n),(s=kd.get(s))&&Od(r,s),We(i=(e.ownerDocument||e).createElement("link"));var o=i;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(i,"link",r),t.state.loading|=4,Dd(i,n.precedence,e),t.instance=i;case"script":return i=Pd(n.src),(s=e.querySelector(Rd(i)))?(t.instance=s,We(s),s):(r=n,(s=kd.get(i))&&Md(r=h({},n),s),We(s=(e=e.ownerDocument||e).createElement("script")),ed(s,"link",r),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Dd(r,n.precedence,e));return t.instance}function Dd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=r.length?r[r.length-1]:null,i=s,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)i=o;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Od(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Md(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fd=null;function Ud(e,t,n){if(null===Fd){var r=new Map,s=Fd=new Map;s.set(n,r)}else(r=(s=Fd).get(n))||(r=new Map,s.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var i=n[s];if(!(i[Ue]||i[Pe]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var a=i.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(i):r.set(a,[i])}}return r}function zd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Vd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Bd=null;function Hd(){}function qd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wd=new Map,t.forEach(Gd,e),Wd=null,qd.call(e))}function Gd(e,t){if(!(4&t.state.loading)){var n=Wd.get(e);if(n)var r=n.get(null);else{n=new Map,Wd.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var a=s[i];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(s=t.instance).getAttribute("data-precedence"),(i=n.get(a)||r)===r&&n.set(null,s),n.set(a,s),this.count++,r=qd.bind(this),s.addEventListener("load",r),s.addEventListener("error",r),i?i.parentNode.insertBefore(s,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(s,e.firstChild),t.state.loading|=4}}var Qd={$$typeof:w,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function Jd(e,t,n,r,s,i,a,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Se(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Se(0),this.hiddenUpdates=Se(null),this.identifierPrefix=r,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Yd(e,t,n,r,s,i,a,o,l,c,u,d){return e=new Jd(e,t,n,a,o,l,c,d),t=1,!0===i&&(t|=24),i=Or(3,null,null,t),e.current=i,i.stateNode=e,(t=Rs()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},ni(i),e}function $d(e){return e?e=Lr:Lr}function Xd(e,t,n,r,s,i){s=$d(s),null===r.context?r.context=s:r.pendingContext=s,(r=si(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=ii(e,r,t))&&(Oc(n,0,t),ai(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function th(e){if(13===e.tag){var t=Ar(e,67108864);null!==t&&Oc(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var s=L.T;L.T=null;var i=D.p;try{D.p=2,ih(e,t,n,r)}finally{D.p=i,L.T=s}}function sh(e,t,n,r){var s=L.T;L.T=null;var i=D.p;try{D.p=8,ih(e,t,n,r)}finally{D.p=i,L.T=s}}function ih(e,t,n,r){if(nh){var s=ah(r);if(null===s)Bu(e,t,r,oh,n),yh(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return dh=bh(dh,e,t,n,r,s),!0;case"dragenter":return hh=bh(hh,e,t,n,r,s),!0;case"mouseover":return fh=bh(fh,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return ph.set(i,bh(ph.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,mh.set(i,bh(mh.get(i)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(yh(e,r),4&t&&-1<vh.indexOf(e)){for(;null!==s;){var i=Be(s);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var a=ye(i.pendingLanes);if(0!==a){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-fe(a);o.entanglements[1]|=l,a&=~l}ku(i),0===(6&nc)&&(kc=te()+500,Nu(0,!1))}}break;case 13:null!==(o=Ar(i,2))&&Oc(o,0,2),Vc(),eh(i,2)}if(null===(i=ah(r))&&Bu(e,t,r,oh,n),i===s)break;s=i}null!==s&&r.stopPropagation()}else Bu(e,t,r,null,n)}}function ah(e){return lh(e=At(e))}var oh=null;function lh(e){if(oh=null,null!==(e=Ve(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case se:return 8;case ie:case ae:return 32;case oe:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,fh=null,ph=new Map,mh=new Map,gh=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function bh(e,t,n,r,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},null!==t&&(null!==(t=Be(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function xh(e){var t=Ve(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}(e.priority,function(){if(13===n.tag){var e=Lc();e=Te(e);var t=Ar(n,e);null!==t&&Oc(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ah(e.nativeEvent);if(null!==n)return null!==(t=Be(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);It=r,n.target.dispatchEvent(r),It=null,t.shift()}return!0}function kh(e,t,n){wh(e)&&n.delete(t)}function Nh(){uh=!1,null!==dh&&wh(dh)&&(dh=null),null!==hh&&wh(hh)&&(hh=null),null!==fh&&wh(fh)&&(fh=null),ph.forEach(kh),mh.forEach(kh)}function Sh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Nh)))}var Eh=null;function jh(e){Eh!==e&&(Eh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Eh===e&&(Eh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],s=e[t+2];if("function"!==typeof r){if(null===lh(r||n))continue;break}var i=Be(n);null!==i&&(e.splice(t,3),t-=3,Ia(i,{pending:!0,data:s,method:n.method,action:r},r,s))}}))}function Ch(e){function t(t){return Sh(t,e)}null!==dh&&Sh(dh,e),null!==hh&&Sh(hh,e),null!==fh&&Sh(fh,e),ph.forEach(t),mh.forEach(t);for(var n=0;n<gh.length;n++){var r=gh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)xh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var s=n[r],i=n[r+1],a=s[Re]||null;if("function"===typeof i)a||jh(n);else if(a){var o=null;if(i&&i.hasAttribute("formAction")){if(s=i,a=i[Re]||null)o=a.formAction;else if(null!==lh(s))continue}else o=a.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),jh(n)}}}function Th(e){this._internalRoot=e}function _h(e){this._internalRoot=e}_h.prototype.render=Th.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Xd(t.current,Lc(),e,t,null,null)},_h.prototype.unmount=Th.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xd(e.current,2,null,e,null,null),Vc(),t[Le]=null}},_h.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ie();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&xh(e)}};var Ih=s.version;if("19.1.1"!==Ih)throw Error(a(527,Ih,"19.1.1"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var i=s.alternate;if(null===i){if(null!==(r=s.return)){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return u(s),e;if(i===r)return u(s),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Ah={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ph.isDisabled&&Ph.supportsFiber)try{ue=Ph.inject(Ah),de=Ph}catch(Lh){}}t.createRoot=function(e,t){if(!o(e))throw Error(a(299));var n=!1,r="",s=yo,i=bo,l=xo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(s=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yd(e,1,!1,null,0,n,r,s,i,l,0,null),e[Le]=t.current,zu(e),new Th(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(a(299));var r=!1,s="",i=yo,l=bo,c=xo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Yd(e,1,!0,t,0,r,s,i,l,c,0,u)).context=$d(null),n=t.current,(s=si(r=Te(r=Lc()))).callback=null,ii(n,s,r),n=r,t.current.lanes=n,Ee(t,n),ku(t),e[Le]=t.current,zu(e),new _h(t)},t.version="19.1.1"},119:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(863)},340:(e,t,n)=>{"use strict";e.exports=n(487)},352:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(85)},413:e=>{e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},414:(e,t,n)=>{"use strict";e.exports=n(916)},487:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,a=s>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<s&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,S||(S=!0,N());else{var t=r(u);null!==t&&P(k,t.startTime-e)}}var N,S=!1,E=-1,j=5,C=-1;function T(){return!!v||!(t.unstable_now()-C<j)}function _(){if(v=!1,S){var e=t.unstable_now();C=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(E),E=-1),p=!0;var i=f;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&T());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),n=!0;break t}h===r(c)&&s(c),w(e)}else s(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&P(k,l.startTime-e),n=!1}}break e}finally{h=null,f=i,p=!1}n=void 0}}finally{n?N():S=!1}}}if("function"===typeof x)N=function(){x(_)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,A=I.port2;I.port1.onmessage=_,N=function(){A.postMessage(null)}}else N=function(){y(_,0)};function P(e,n){E=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,s,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(b(E),E=-1):g=!0,P(k,i-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,S||(S=!0,N()))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},863:(e,t,n)=>{"use strict";var r=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(s(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(s(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),s="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:s,fetchPriority:i}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:s,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},916:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function s(e,t,r){var s=null;if(void 0!==r&&(s=""+r),void 0!==t.key&&(s=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:s,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=s,t.jsxs=s},950:(e,t,n)=>{"use strict";e.exports=n(983)},983:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function S(e,t,r,s,i,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var j=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(){}function _(e,t,s,i,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return _((u=e._init)(e._payload),t,s,i,a)}}if(u)return a=a(e),u=""===i?"."+C(e,0):i,w(a)?(s="",null!=u&&(s=u.replace(j,"$&/")+"/"),_(a,t,s,"",function(e){return e})):null!=a&&(E(a)&&(l=a,c=s+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(j,"$&/")+"/")+u,a=S(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var d,p=""===i?".":i+":";if(w(e))for(var m=0;m<e.length;m++)u+=_(i=e[m],t,s,o=p+C(i,m),a);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(i=e.next()).done;)u+=_(i=i.value,t,s,o=p+C(i,m++),a);else if("object"===o){if("function"===typeof e.then)return _(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(T,T):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,s,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function I(e,t,n){if(null==e)return e;var r=[],s=0;return _(e,r,"","",function(e){return t.call(n,e,s++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function R(){}t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=s,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),s=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(s=""+t.key),t)!N.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var a=Array(i),o=0;o<i;o++)a[o]=arguments[o+2];r.children=a}return S(e.type,s,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,s={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)N.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(s[r]=t[r]);var a=arguments.length-2;if(1===a)s.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];s.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===s[r]&&(s[r]=a[r]);return S(e,i,void 0,0,0,s)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),s=k.S;null!==s&&s(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(R,P)}catch(i){P(i)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=k.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.1.1"}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".5f1cbf1e.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="campusnex:";n.l=(r,s,i,a)=>{if(e[r])e[r].push(s);else{var o,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+i),o.src=r),e[r]=[s];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var s=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)r.push(s[2]);else{var i=new Promise((n,r)=>s=e[t]=[n,r]);r.push(s[2]=i);var a=n.p+n.u(t),o=new Error;n.l(a,r=>{if(n.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,s[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var s,i,a=r[0],o=r[1],l=r[2],c=0;if(a.some(t=>0!==e[t])){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(l)l(n)}for(t&&t(r);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkcampusnex=self.webpackChunkcampusnex||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Pn,hasStandardBrowserEnv:()=>Ln,hasStandardBrowserWebWorkerEnv:()=>Dn,navigator:()=>Rn,origin:()=>On});var t=n(950),r=n(352);function s(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function o(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const u=["sri"],d=["page"],h=["page","matches"],f=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],p=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],m=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var g="popstate";function v(){return S(function(e,t){let{pathname:n,search:r,hash:s}=e.location;return w("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:k(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function y(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function b(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function x(e,t){return{usr:e.state,key:e.key,idx:t}}function w(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return c(c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?N(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function k(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function N(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function S(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o="POP",l=null,u=d();function d(){return(a.state||{idx:null}).idx}function h(){o="POP";let e=d(),t=null==e?null:e-u;u=e,l&&l({action:o,location:p.location,delta:t})}function f(e){return E(e)}null==u&&(u=0,a.replaceState(c(c({},a.state),{},{idx:u}),""));let p={get action(){return o},get location(){return e(s,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(g,h),l=e,()=>{s.removeEventListener(g,h),l=null}},createHref:e=>t(s,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let r=w(p.location,e,t);n&&n(r,e),u=d()+1;let c=x(r,u),h=p.createHref(r);try{a.pushState(c,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;s.location.assign(h)}i&&l&&l({action:o,location:p.location,delta:1})},replace:function(e,t){o="REPLACE";let r=w(p.location,e,t);n&&n(r,e),u=d();let s=x(r,u),c=p.createHref(r);a.replaceState(s,"",c),i&&l&&l({action:o,location:p.location,delta:0})},go:e=>a.go(e)};return p}function E(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),y(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:k(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function j(e,t){return C(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function C(e,t,n,r){let s=B(("string"===typeof t?N(t):t).pathname||"/",n);if(null==s)return null;let i=T(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let a=null;for(let o=0;null==a&&o<i.length;++o){let e=V(s);a=F(i[o],e,r)}return a}function T(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=function(e,i){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,o=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&a)return;y(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=G([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(y(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),T(e.children,t,u,c,a)),(null!=e.path||e.index)&&t.push({path:c,score:M(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of _(e.path))i(e,t,!0,r);else i(e,t)}),t}function _(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return s?[i,""]:[i];let a=_(r.join("/")),o=[];return o.push(...a.map(e=>""===e?i:[i,e].join("/"))),s&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var I=/^:[\w-]+$/,A=3,P=2,R=1,L=10,D=-2,O=e=>"*"===e;function M(e,t){let n=e.split("/"),r=n.length;return n.some(O)&&(r+=D),t&&(r+=P),n.filter(e=>!O(e)).reduce((e,t)=>e+(I.test(t)?A:""===t?R:L),r)}function F(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,s={},i="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(s,u.params),a.push({params:s,pathname:G([i,u.pathname]),pathnameBase:Q(G([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=G([i,u.pathnameBase]))}return a}function U(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=z(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=o[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:a,pattern:e}}function z(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];b("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function V(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return b(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function B(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function H(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function q(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function W(e){let t=q(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function K(e,t,n){let r,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=N(e):(r=c({},e),y(!r.pathname||!r.pathname.includes("?"),H("?","pathname","search",r)),y(!r.pathname||!r.pathname.includes("#"),H("#","pathname","hash",r)),y(!r.search||!r.search.includes("#"),H("#","search","hash",r)));let i,a=""===e||""===r.pathname,o=a?"/":r.pathname;if(null==o)i=n;else{let e=t.length-1;if(!s&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:s=""}="string"===typeof e?N(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:J(r),hash:Y(s)}}(r,i),u=o&&"/"!==o&&o.endsWith("/"),d=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!d||(l.pathname+="/"),l}var G=e=>e.join("/").replace(/\/\/+/g,"/"),Q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),J=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Y=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function $(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var X=["POST","PUT","PATCH","DELETE"],Z=(new Set(X),["GET",...X]);new Set(Z),Symbol("ResetLoaderData");var ee=t.createContext(null);ee.displayName="DataRouter";var te=t.createContext(null);te.displayName="DataRouterState";var ne=t.createContext(!1);var re=t.createContext({isTransitioning:!1});re.displayName="ViewTransition";var se=t.createContext(new Map);se.displayName="Fetchers";var ie=t.createContext(null);ie.displayName="Await";var ae=t.createContext(null);ae.displayName="Navigation";var oe=t.createContext(null);oe.displayName="Location";var le=t.createContext({outlet:null,matches:[],isDataRoute:!1});le.displayName="Route";var ce=t.createContext(null);ce.displayName="RouteError";function ue(){return null!=t.useContext(oe)}function de(){return y(ue(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(oe).location}var he="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fe(e){t.useContext(ae).static||t.useLayoutEffect(e)}function pe(){let{isDataRoute:e}=t.useContext(le);return e?function(){let{router:e}=Se("useNavigate"),n=je("useNavigate"),r=t.useRef(!1);fe(()=>{r.current=!0});let s=t.useCallback(async function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(r.current,he),r.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,c({fromRouteId:n},s)))},[e,n]);return s}():function(){y(ue(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(ee),{basename:n,navigator:r}=t.useContext(ae),{matches:s}=t.useContext(le),{pathname:i}=de(),a=JSON.stringify(W(s)),o=t.useRef(!1);fe(()=>{o.current=!0});let l=t.useCallback(function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(b(o.current,he),!o.current)return;if("number"===typeof t)return void r.go(t);let l=K(t,JSON.parse(a),i,"path"===s.relative);null==e&&"/"!==n&&(l.pathname="/"===l.pathname?n:G([n,l.pathname])),(s.replace?r.replace:r.push)(l,s.state,s)},[n,r,a,i,e]);return l}()}t.createContext(null);function me(){let{matches:e}=t.useContext(le),n=e[e.length-1];return n?n.params:{}}function ge(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(le),{pathname:s}=de(),i=JSON.stringify(W(r));return t.useMemo(()=>K(e,JSON.parse(i),s,"path"===n),[e,i,s,n])}function ve(e,n,r,s,i){y(ue(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=t.useContext(ae),{matches:o}=t.useContext(le),l=o[o.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let e=f&&f.path||"";_e(d,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,m=de();if(n){var g;let e="string"===typeof n?N(n):n;y("/"===h||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=m;let v=p.pathname||"/",x=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=j(e,{pathname:x});b(f||null!=w,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),b(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let k=ke(w&&w.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:G([h,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:G([h,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,r,s,i);return n&&k?t.createElement(oe.Provider,{value:{location:c({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},k):k}function ye(){let e=Ce(),n=$(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},a={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:a},"ErrorBoundary")," or"," ",t.createElement("code",{style:a},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:i},r):null,o)}var be=t.createElement(ye,null),xe=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?t.createElement(le.Provider,{value:this.props.routeContext},t.createElement(ce.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function we(e){let{routeContext:n,match:r,children:s}=e,i=t.useContext(ee);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(le.Provider,{value:n},s)}function ke(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let i=e,a=null===r||void 0===r?void 0:r.errors;if(null!=a){let e=i.findIndex(e=>e.route.id&&void 0!==(null===a||void 0===a?void 0:a[e.route.id]));y(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(a).join(","))),i=i.slice(0,Math.min(i.length,e+1))}let o=!1,l=-1;if(r)for(let t=0;t<i.length;t++){let e=i[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=t),e.route.id){let{loaderData:t,errors:n}=r,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||s){o=!0,i=l>=0?i.slice(0,l+1):[i[0]];break}}}return i.reduceRight((e,c,u)=>{let d,h=!1,f=null,p=null;r&&(d=a&&c.route.id?a[c.route.id]:void 0,f=c.route.errorElement||be,o&&(l<0&&0===u?(_e("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):l===u&&(h=!0,p=c.route.hydrateFallbackElement||null)));let m=n.concat(i.slice(0,u+1)),g=()=>{let n;return n=d?f:h?p:c.route.Component?t.createElement(c.route.Component,null):c.route.element?c.route.element:e,t.createElement(we,{match:c,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(c.route.ErrorBoundary||c.route.errorElement||0===u)?t.createElement(xe,{location:r.location,revalidation:r.revalidation,component:f,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},unstable_onError:s}):g()},null)}function Ne(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Se(e){let n=t.useContext(ee);return y(n,Ne(e)),n}function Ee(e){let n=t.useContext(te);return y(n,Ne(e)),n}function je(e){let n=function(e){let n=t.useContext(le);return y(n,Ne(e)),n}(e),r=n.matches[n.matches.length-1];return y(r.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),r.route.id}function Ce(){var e;let n=t.useContext(ce),r=Ee("useRouteError"),s=je("useRouteError");return void 0!==n?n:null===(e=r.errors)||void 0===e?void 0:e[s]}var Te={};function _e(e,t,n){t||Te[e]||(Te[e]=!0,b(!1,n))}var Ie={};function Ae(e,t){e||Ie[t]||(Ie[t]=!0,console.warn(t))}t.memo(function(e){let{routes:t,future:n,state:r,unstable_onError:s}=e;return ve(t,void 0,r,s,n)});function Pe(e){let{to:n,replace:r,state:s,relative:i}=e;y(ue(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=t.useContext(ae);b(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=t.useContext(le),{pathname:l}=de(),c=pe(),u=K(n,W(o),l,"path"===i),d=JSON.stringify(u);return t.useEffect(()=>{c(JSON.parse(d),{replace:r,state:s,relative:i})},[c,d,i,r,s]),null}function Re(e){y(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Le(e){let{basename:n="/",children:r=null,location:s,navigationType:i="POP",navigator:a,static:o=!1}=e;y(!ue(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=t.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);"string"===typeof s&&(s=N(s));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=s,m=t.useMemo(()=>{let e=B(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:p},navigationType:i}},[l,u,d,h,f,p,i]);return b(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:t.createElement(ae.Provider,{value:c},t.createElement(oe.Provider,{children:r,value:m}))}function De(e){let{children:t,location:n}=e;return ve(Oe(t),n)}t.Component;function Oe(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return t.Children.forEach(e,(e,s)=>{if(!t.isValidElement(e))return;let i=[...n,s];if(e.type===t.Fragment)return void r.push.apply(r,Oe(e.props.children,i));y(e.type===Re,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),y(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Oe(e.props.children,i)),r.push(a)}),r}var Me="get",Fe="application/x-www-form-urlencoded";function Ue(e){return null!=e&&"string"===typeof e.tagName}function ze(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(e=>[n,e]):[[n,r]])},[]))}var Ve=null;var Be=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function He(e){return null==e||Be.has(e)?e:(b(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Fe,'"')),null)}function qe(e,t){let n,r,s,i,a;if(Ue(o=e)&&"form"===o.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?B(a,t):null,n=e.getAttribute("method")||Me,s=He(e.getAttribute("enctype"))||Fe,i=new FormData(e)}else if(function(e){return Ue(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ue(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||a.getAttribute("action");if(r=o?B(o,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Me,s=He(e.getAttribute("formenctype"))||He(a.getAttribute("enctype"))||Fe,i=new FormData(a,e),!function(){if(null===Ve)try{new FormData(document.createElement("form"),0),Ve=!1}catch(e){Ve=!0}return Ve}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";i.append("".concat(e,"x"),"0"),i.append("".concat(e,"y"),"0")}else t&&i.append(t,r)}}else{if(Ue(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Me,r=null,s=Fe,a=e}var o;return i&&"text/plain"===s&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function We(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Ke(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===B(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function Ge(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Qe(e){return null!=e&&"string"===typeof e.page}function Je(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ye(e,t,n,r,s,i){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===i?t.filter((e,t)=>a(e,t)||o(e,t)):"data"===i?t.filter((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,i)||o(t,i))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function $e(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1),[...new Set(r)];var r}function Xe(e,t){let n=new Set,r=new Set(t);return e.reduce((e,s)=>{if(t&&!Qe(s)&&"script"===s.as&&s.href&&r.has(s.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(s));return n.has(i)||(n.add(i),e.push({key:i,link:s})),e},[])}function Ze(e,t){return"lazy"===e.mode&&!0===t}function et(){let e=t.useContext(ee);return We(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function tt(){let e=t.useContext(te);return We(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var nt=t.createContext(void 0);function rt(){let e=t.useContext(nt);return We(e,"You must render this element inside a <HydratedRouter> element"),e}function st(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function it(e,t,n){if(n&&!ct)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}nt.displayName="FrameworkContext";function at(e){let{page:n}=e,r=s(e,d),{router:i}=et(),a=t.useMemo(()=>j(i.routes,n,i.basename),[i.routes,n,i.basename]);return a?t.createElement(lt,c({page:n,matches:a},r)):null}function ot(e){let{manifest:n,routeModules:r}=rt(),[s,i]=t.useState([]);return t.useEffect(()=>{let t=!1;return async function(e,t,n){return Xe((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Ge(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Je).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?c(c({},e),{},{rel:"prefetch",as:"style"}):c(c({},e),{},{rel:"prefetch"})))}(e,n,r).then(e=>{t||i(e)}),()=>{t=!0}},[e,n,r]),s}function lt(e){let{page:n,matches:r}=e,i=s(e,h),a=de(),{manifest:o,routeModules:l}=rt(),{basename:u}=et(),{loaderData:d,matches:f}=tt(),p=t.useMemo(()=>Ye(n,r,f,o,a,"data"),[n,r,f,o,a]),m=t.useMemo(()=>Ye(n,r,f,o,a,"assets"),[n,r,f,o,a]),g=t.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let e=new Set,t=!1;if(r.forEach(n=>{var r;let s=o.routes[n.route.id];s&&s.hasLoader&&(!p.some(e=>e.route.id===n.route.id)&&n.route.id in d&&null!==(r=l[n.route.id])&&void 0!==r&&r.shouldRevalidate||s.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let s=Ke(n,u,"data");return t&&e.size>0&&s.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[s.pathname+s.search]},[u,d,a,o,p,r,n,l]),v=t.useMemo(()=>$e(m,o),[m,o]),y=ot(m);return t.createElement(t.Fragment,null,g.map(e=>t.createElement("link",c({key:e,rel:"prefetch",as:"fetch",href:e},i))),v.map(e=>t.createElement("link",c({key:e,rel:"modulepreload",href:e},i))),y.map(e=>{let{key:n,link:r}=e;return t.createElement("link",c({key:n,nonce:i.nonce},r))}))}var ct=!1;function ut(e){let{manifest:n,serverHandoffString:r,isSpaMode:i,renderMeta:a,routeDiscovery:o,ssr:l}=rt(),{router:d,static:h,staticContext:f}=et(),{matches:p}=tt(),m=t.useContext(ne),g=Ze(o,l);a&&(a.didRenderScripts=!0);let v=it(p,null,i);t.useEffect(()=>{0},[]);let y=t.useMemo(()=>{var i;if(m)return null;let a=f?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",o=h?"".concat(null!==n.hmr&&void 0!==i&&i.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(v.map((e,t)=>{let r="route".concat(t),s=n.routes[e.route.id];We(s,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:i,clientLoaderModule:a,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=s,u=[...i?[{module:i,varName:"".concat(r,"_clientAction")}]:[],...a?[{module:a,varName:"".concat(r,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=s(e,u),i=new Set(t.state.matches.map(e=>e.route.id)),a=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(a.pop();a.length>0;)o.push("/".concat(a.join("/"))),a.pop();o.forEach(e=>{let n=j(t.routes,e,t.basename);n&&n.forEach(e=>i.add(e.route.id))});let l=[...i].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return c(c({},r),{},{routes:l,sri:!!n||void 0})}(n,d),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return t.createElement(t.Fragment,null,t.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:a},type:void 0})),t.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:o},type:"module",async:!0})))},[]),b=ct||m?[]:(n.entry.imports.concat($e(v,n,{includeHydrateFallback:!0})),[...new Set(x)]);var x;let w="object"===typeof n.sri?n.sri:{};return Ae(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),ct||m?null:t.createElement(t.Fragment,null,"object"===typeof n.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:w})}}):null,g?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin,integrity:w[n.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin,integrity:w[n.entry.module],suppressHydrationWarning:!0}),b.map(n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin,integrity:w[n],suppressHydrationWarning:!0})),y)}function dt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}t.Component;function ht(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let s,i=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if($(n))return t.createElement(ft,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),i);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return t.createElement(ft,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},s.stack),i)}function ft(e){var n;let{title:r,renderScripts:s,isOutsideRemixApp:i,children:a}=e,{routeModules:o}=rt();return null!==o.root&&void 0!==n&&n.Layout&&!i?a:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,r)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},a,s?t.createElement(ut,null):null)))}var pt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{pt&&(window.__reactRouterVersion="7.9.1")}catch(CS){}function mt(e){let{basename:n,children:r,window:s}=e,i=t.useRef();null==i.current&&(i.current=v({window:s,v5Compat:!0}));let a=i.current,[o,l]=t.useState({action:a.action,location:a.location}),c=t.useCallback(e=>{t.startTransition(()=>l(e))},[l]);return t.useLayoutEffect(()=>a.listen(c),[a,c]),t.createElement(Le,{basename:n,children:r,location:o.location,navigationType:o.action,navigator:a})}var gt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vt=t.forwardRef(function(e,n){let r,{onClick:i,discover:a="render",prefetch:o="none",relative:l,reloadDocument:u,replace:d,state:h,target:p,to:m,preventScrollReset:g,viewTransition:v}=e,x=s(e,f),{basename:w}=t.useContext(ae),N="string"===typeof m&&gt.test(m),S=!1;if("string"===typeof m&&N&&(r=m,pt))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=B(t.pathname,w);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:S=!0}catch(CS){b(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let E=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(ue(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=t.useContext(ae),{hash:i,pathname:a,search:o}=ge(e,{relative:n}),l=a;return"/"!==r&&(l="/"===a?r:G([r,a])),s.createHref({pathname:l,search:o,hash:i})}(m,{relative:l}),[j,C,T]=function(e,n){let r=t.useContext(nt),[s,i]=t.useState(!1),[a,o]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,f=t.useRef(null);t.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),t.useEffect(()=>{if(s){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[s]);let p=()=>{i(!0)},m=()=>{i(!1),o(!1)};return r?"intent"!==e?[a,f,{}]:[a,f,{onFocus:st(l,p),onBlur:st(c,m),onMouseEnter:st(u,p),onMouseLeave:st(d,m),onTouchStart:st(h,p)}]:[!1,f,{}]}(o,x),_=function(e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=pe(),c=de(),u=ge(e,{relative:a});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:k(c)===k(u);l(e,{replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[c,l,u,r,s,n,e,i,a,o])}(m,{replace:d,state:h,target:p,preventScrollReset:g,relative:l,viewTransition:v});let I=t.createElement("a",c(c(c({},x),T),{},{href:r||E,onClick:S||u?i:function(e){i&&i(e),e.defaultPrevented||_(e)},ref:dt(n,C),target:p,"data-discover":N||"render"!==a?void 0:"true"}));return j&&!N?t.createElement(t.Fragment,null,I,t.createElement(at,{page:E})):I});vt.displayName="Link";var yt=t.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:o=!1,style:l,to:u,viewTransition:d,children:h}=e,f=s(e,p),m=ge(u,{relative:f.relative}),g=de(),v=t.useContext(te),{navigator:b,basename:x}=t.useContext(ae),w=null!=v&&function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext(re);y(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=wt("useViewTransitionState"),i=ge(e,{relative:n});if(!r.isTransitioning)return!1;let a=B(r.currentLocation.pathname,s)||r.currentLocation.pathname,o=B(r.nextLocation.pathname,s)||r.nextLocation.pathname;return null!=U(i.pathname,o)||null!=U(i.pathname,a)}(m)&&!0===d,k=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,N=g.pathname,S=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(N=N.toLowerCase(),S=S?S.toLowerCase():null,k=k.toLowerCase()),S&&x&&(S=B(S,x)||S);const E="/"!==k&&k.endsWith("/")?k.length-1:k.length;let j,C=N===k||!o&&N.startsWith(k)&&"/"===N.charAt(E),T=null!=S&&(S===k||!o&&S.startsWith(k)&&"/"===S.charAt(k.length)),_={isActive:C,isPending:T,isTransitioning:w},I=C?r:void 0;j="function"===typeof a?a(_):[a,C?"active":null,T?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let A="function"===typeof l?l(_):l;return t.createElement(vt,c(c({},f),{},{"aria-current":I,className:j,ref:n,style:A,to:u,viewTransition:d}),"function"===typeof h?h(_):h)});yt.displayName="NavLink";var bt=t.forwardRef((e,n)=>{let{discover:r="render",fetcherKey:i,navigate:a,reloadDocument:o,replace:l,state:u,method:d=Me,action:h,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:v}=e,b=s(e,m),x=Et(),w=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(ae),s=t.useContext(le);y(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),a=c({},ge(e||".",{relative:n})),o=de();if(null==e){a.search=o.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();a.search=n?"?".concat(n):""}}e&&"."!==e||!i.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(a.pathname="/"===a.pathname?r:G([r,a.pathname]));return k(a)}(h,{relative:p}),N="get"===d.toLowerCase()?"get":"post",S="string"===typeof h&&gt.test(h);return t.createElement("form",c(c({ref:n,method:N,action:w,onSubmit:o?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;x(t||e.currentTarget,{fetcherKey:i,method:n,navigate:a,replace:l,state:u,relative:p,preventScrollReset:g,viewTransition:v})}},b),{},{"data-discover":S||"render"!==r?void 0:"true"}))});function xt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function wt(e){let n=t.useContext(ee);return y(n,xt(e)),n}function kt(e){b("undefined"!==typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=t.useRef(ze(e)),r=t.useRef(!1),s=de(),i=t.useMemo(()=>function(e,t){let n=ze(e);return t&&t.forEach((e,r)=>{n.has(r)||t.getAll(r).forEach(e=>{n.append(r,e)})}),n}(s.search,r.current?null:n.current),[s.search]),a=pe(),o=t.useCallback((e,t)=>{const n=ze("function"===typeof e?e(new URLSearchParams(i)):e);r.current=!0,a("?"+n,t)},[a,i]);return[i,o]}bt.displayName="Form";var Nt=0,St=()=>"__".concat(String(++Nt),"__");function Et(){let{router:e}=wt("useSubmit"),{basename:n}=t.useContext(ae),r=je("useRouteId");return t.useCallback(async function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:a,encType:o,formData:l,body:c}=qe(t,n);if(!1===s.navigate){let t=s.fetcherKey||St();await e.fetch(t,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||a,formEncType:s.encType||o,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||a,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,n,r])}function jt(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ct}=Object.prototype,{getPrototypeOf:Tt}=Object,{iterator:_t,toStringTag:It}=Symbol,At=(Pt=Object.create(null),e=>{const t=Ct.call(e);return Pt[t]||(Pt[t]=t.slice(8,-1).toLowerCase())});var Pt;const Rt=e=>(e=e.toLowerCase(),t=>At(t)===e),Lt=e=>t=>typeof t===e,{isArray:Dt}=Array,Ot=Lt("undefined");function Mt(e){return null!==e&&!Ot(e)&&null!==e.constructor&&!Ot(e.constructor)&&zt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ft=Rt("ArrayBuffer");const Ut=Lt("string"),zt=Lt("function"),Vt=Lt("number"),Bt=e=>null!==e&&"object"===typeof e,Ht=e=>{if("object"!==At(e))return!1;const t=Tt(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(It in e)&&!(_t in e)},qt=Rt("Date"),Wt=Rt("File"),Kt=Rt("Blob"),Gt=Rt("FileList"),Qt=Rt("URLSearchParams"),[Jt,Yt,$t,Xt]=["ReadableStream","Request","Response","Headers"].map(Rt);function Zt(e,t){let n,r,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Dt(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(Mt(e))return;const r=s?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let a;for(n=0;n<i;n++)a=r[n],t.call(null,e[a],a,e)}}function en(e,t){if(Mt(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const tn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,nn=e=>!Ot(e)&&e!==tn;const rn=(sn="undefined"!==typeof Uint8Array&&Tt(Uint8Array),e=>sn&&e instanceof sn);var sn;const an=Rt("HTMLFormElement"),on=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),ln=Rt("RegExp"),cn=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Zt(n,(n,s)=>{let i;!1!==(i=t(n,s,e))&&(r[s]=i||n)}),Object.defineProperties(e,r)};const un=Rt("AsyncFunction"),dn=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],tn.addEventListener("message",e=>{let{source:t,data:s}=e;t===tn&&s===n&&r.length&&r.shift()()},!1),e=>{r.push(e),tn.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,zt(tn.postMessage)),hn="undefined"!==typeof queueMicrotask?queueMicrotask.bind(tn):"undefined"!==typeof process&&process.nextTick||dn,fn={isArray:Dt,isArrayBuffer:Ft,isBuffer:Mt,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||zt(e.append)&&("formdata"===(t=At(e))||"object"===t&&zt(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ft(e.buffer),t},isString:Ut,isNumber:Vt,isBoolean:e=>!0===e||!1===e,isObject:Bt,isPlainObject:Ht,isEmptyObject:e=>{if(!Bt(e)||Mt(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(CS){return!1}},isReadableStream:Jt,isRequest:Yt,isResponse:$t,isHeaders:Xt,isUndefined:Ot,isDate:qt,isFile:Wt,isBlob:Kt,isRegExp:ln,isFunction:zt,isStream:e=>Bt(e)&&zt(e.pipe),isURLSearchParams:Qt,isTypedArray:rn,isFileList:Gt,forEach:Zt,merge:function e(){const{caseless:t,skipUndefined:n}=nn(this)&&this||{},r={},s=(s,i)=>{const a=t&&en(r,i)||i;Ht(r[a])&&Ht(s)?r[a]=e(r[a],s):Ht(s)?r[a]=e({},s):Dt(s)?r[a]=s.slice():n&&Ot(s)||(r[a]=s)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Zt(arguments[i],s);return r},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Zt(t,(t,r)=>{n&&zt(t)?e[r]=jt(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,i,a;const o={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)a=s[i],r&&!r(a,e,t)||o[a]||(t[a]=e[a],o[a]=!0);e=!1!==n&&Tt(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:At,kindOfTest:Rt,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Dt(e))return e;let t=e.length;if(!Vt(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[_t]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:an,hasOwnProperty:on,hasOwnProp:on,reduceDescriptors:cn,freezeMethods:e=>{cn(e,(t,n)=>{if(zt(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];zt(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return Dt(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:en,global:tn,isContextDefined:nn,isSpecCompliantForm:function(e){return!!(e&&zt(e.append)&&"FormData"===e[It]&&e[_t])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Bt(e)){if(t.indexOf(e)>=0)return;if(Mt(e))return e;if(!("toJSON"in e)){t[r]=e;const s=Dt(e)?[]:{};return Zt(e,(e,t)=>{const i=n(e,r+1);!Ot(i)&&(s[t]=i)}),t[r]=void 0,s}}return e};return n(e,0)},isAsyncFn:un,isThenable:e=>e&&(Bt(e)||zt(e))&&zt(e.then)&&zt(e.catch),setImmediate:dn,asap:hn,isIterable:e=>null!=e&&zt(e[_t])};function pn(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}fn.inherits(pn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:fn.toJSONObject(this.config),code:this.code,status:this.status}}});const mn=pn.prototype,gn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{gn[e]={value:e}}),Object.defineProperties(pn,gn),Object.defineProperty(mn,"isAxiosError",{value:!0}),pn.from=(e,t,n,r,s,i)=>{const a=Object.create(mn);fn.toFlatObject(e,a,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return pn.call(a,o,l,n,r,s),e&&null==a.cause&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",i&&Object.assign(a,i),a};const vn=pn;function yn(e){return fn.isPlainObject(e)||fn.isArray(e)}function bn(e){return fn.endsWith(e,"[]")?e.slice(0,-2):e}function xn(e,t,n){return e?e.concat(t).map(function(e,t){return e=bn(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const wn=fn.toFlatObject(fn,{},null,function(e){return/^is[A-Z]/.test(e)});const kn=function(e,t,n){if(!fn.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=fn.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!fn.isUndefined(t[e])})).metaTokens,s=n.visitor||c,i=n.dots,a=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&fn.isSpecCompliantForm(t);if(!fn.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(fn.isDate(e))return e.toISOString();if(fn.isBoolean(e))return e.toString();if(!o&&fn.isBlob(e))throw new vn("Blob is not supported. Use a Buffer instead.");return fn.isArrayBuffer(e)||fn.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,s){let o=e;if(e&&!s&&"object"===typeof e)if(fn.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(fn.isArray(e)&&function(e){return fn.isArray(e)&&!e.some(yn)}(e)||(fn.isFileList(e)||fn.endsWith(n,"[]"))&&(o=fn.toArray(e)))return n=bn(n),o.forEach(function(e,r){!fn.isUndefined(e)&&null!==e&&t.append(!0===a?xn([n],r,i):null===a?n:n+"[]",l(e))}),!1;return!!yn(e)||(t.append(xn(s,n,i),l(e)),!1)}const u=[],d=Object.assign(wn,{defaultVisitor:c,convertValue:l,isVisitable:yn});if(!fn.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!fn.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),fn.forEach(n,function(n,i){!0===(!(fn.isUndefined(n)||null===n)&&s.call(t,n,fn.isString(i)?i.trim():i,r,d))&&e(n,r?r.concat(i):[i])}),u.pop()}}(e),t};function Nn(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Sn(e,t){this._pairs=[],e&&kn(e,this,t)}const En=Sn.prototype;En.append=function(e,t){this._pairs.push([e,t])},En.toString=function(e){const t=e?function(t){return e.call(this,t,Nn)}:Nn;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const jn=Sn;function Cn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Tn(e,t,n){if(!t)return e;const r=n&&n.encode||Cn;fn.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(i=s?s(t,n):fn.isURLSearchParams(t)?t.toString():new jn(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const _n=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){fn.forEach(this.handlers,function(t){null!==t&&e(t)})}},In={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},An={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:jn,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Pn="undefined"!==typeof window&&"undefined"!==typeof document,Rn="object"===typeof navigator&&navigator||void 0,Ln=Pn&&(!Rn||["ReactNative","NativeScript","NS"].indexOf(Rn.product)<0),Dn="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,On=Pn&&window.location.href||"http://localhost",Mn=c(c({},e),An);const Fn=function(e){function t(e,n,r,s){let i=e[s++];if("__proto__"===i)return!0;const a=Number.isFinite(+i),o=s>=e.length;if(i=!i&&fn.isArray(r)?r.length:i,o)return fn.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a;r[i]&&fn.isObject(r[i])||(r[i]=[]);return t(e,n,r[i],s)&&fn.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}(r[i])),!a}if(fn.isFormData(e)&&fn.isFunction(e.entries)){const n={};return fn.forEachEntry(e,(e,r)=>{t(function(e){return fn.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const Un={transitional:In,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=fn.isObject(e);s&&fn.isHTMLForm(e)&&(e=new FormData(e));if(fn.isFormData(e))return r?JSON.stringify(Fn(e)):e;if(fn.isArrayBuffer(e)||fn.isBuffer(e)||fn.isStream(e)||fn.isFile(e)||fn.isBlob(e)||fn.isReadableStream(e))return e;if(fn.isArrayBufferView(e))return e.buffer;if(fn.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return kn(e,new Mn.classes.URLSearchParams,c({visitor:function(e,t,n,r){return Mn.isNode&&fn.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=fn.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return kn(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(e,t,n){if(fn.isString(e))try{return(t||JSON.parse)(e),fn.trim(e)}catch(CS){if("SyntaxError"!==CS.name)throw CS}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Un.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(fn.isResponse(e)||fn.isReadableStream(e))return e;if(e&&fn.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(CS){if(n){if("SyntaxError"===CS.name)throw vn.from(CS,vn.ERR_BAD_RESPONSE,this,null,this.response);throw CS}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mn.classes.FormData,Blob:Mn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};fn.forEach(["delete","get","head","post","put","patch"],e=>{Un.headers[e]={}});const zn=Un,Vn=fn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Bn=Symbol("internals");function Hn(e){return e&&String(e).trim().toLowerCase()}function qn(e){return!1===e||null==e?e:fn.isArray(e)?e.map(qn):String(e)}function Wn(e,t,n,r,s){return fn.isFunction(r)?r.call(this,t,n):(s&&(t=n),fn.isString(t)?fn.isString(r)?-1!==t.indexOf(r):fn.isRegExp(r)?r.test(t):void 0:void 0)}class Kn{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(e,t,n){const s=Hn(t);if(!s)throw new Error("header name must be a non-empty string");const i=fn.findKey(r,s);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=qn(e))}const i=(e,t)=>fn.forEach(e,(e,n)=>s(e,n,t));if(fn.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(fn.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,s;return e&&e.split("\n").forEach(function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!n||t[n]&&Vn[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(fn.isObject(e)&&fn.isIterable(e)){let n,r,s={};for(const t of e){if(!fn.isArray(t))throw TypeError("Object iterator must return a key-value pair");s[r=t[0]]=(n=s[r])?fn.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}i(s,t)}else null!=e&&s(t,e,n);return this}get(e,t){if(e=Hn(e)){const n=fn.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(fn.isFunction(t))return t.call(this,e,n);if(fn.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Hn(e)){const n=fn.findKey(this,e);return!(!n||void 0===this[n]||t&&!Wn(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function s(e){if(e=Hn(e)){const s=fn.findKey(n,e);!s||t&&!Wn(0,n[s],s,t)||(delete n[s],r=!0)}}return fn.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];e&&!Wn(0,this[s],s,e,!0)||(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return fn.forEach(this,(r,s)=>{const i=fn.findKey(n,s);if(i)return t[i]=qn(r),void delete t[s];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(s):String(s).trim();a!==s&&delete t[s],t[a]=qn(r),n[a]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return fn.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&fn.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Bn]=this[Bn]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Hn(e);t[r]||(!function(e,t){const n=fn.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,s){return this[r].call(this,t,e,n,s)},configurable:!0})})}(n,e),t[r]=!0)}return fn.isArray(e)?e.forEach(r):r(e),this}}Kn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),fn.reduceDescriptors(Kn.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),fn.freezeMethods(Kn);const Gn=Kn;function Qn(e,t){const n=this||zn,r=t||n,s=Gn.from(r.headers);let i=r.data;return fn.forEach(e,function(e){i=e.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function Jn(e){return!(!e||!e.__CANCEL__)}function Yn(e,t,n){vn.call(this,null==e?"canceled":e,vn.ERR_CANCELED,t,n),this.name="CanceledError"}fn.inherits(Yn,vn,{__CANCEL__:!0});const $n=Yn;function Xn(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new vn("Request failed with status code "+n.status,[vn.ERR_BAD_REQUEST,vn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Zn=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s,i=0,a=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[a];s||(s=l),n[i]=o,r[i]=l;let u=a,d=0;for(;u!==i;)d+=n[u++],u%=e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),l-s<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const er=function(e,t){let n,r,s=0,i=1e3/t;const a=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=i,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-s;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=i?a(l,e):(n=l,r||(r=setTimeout(()=>{r=null,a(n)},i-t)))},()=>n&&a(n)]},tr=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const s=Zn(50,250);return er(n=>{const i=n.loaded,a=n.lengthComputable?n.total:void 0,o=i-r,l=s(o);r=i;e({loaded:i,total:a,progress:a?i/a:void 0,bytes:o,rate:l||void 0,estimated:l&&a&&i<=a?(a-i)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})},n)},nr=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},rr=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return fn.asap(()=>e(...n))},sr=Mn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Mn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Mn.origin),Mn.navigator&&/(msie|trident)/i.test(Mn.navigator.userAgent)):()=>!0,ir=Mn.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const a=[e+"="+encodeURIComponent(t)];fn.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),fn.isString(r)&&a.push("path="+r),fn.isString(s)&&a.push("domain="+s),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function ar(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const or=e=>e instanceof Gn?c({},e):e;function lr(e,t){t=t||{};const n={};function r(e,t,n,r){return fn.isPlainObject(e)&&fn.isPlainObject(t)?fn.merge.call({caseless:r},e,t):fn.isPlainObject(t)?fn.merge({},t):fn.isArray(t)?t.slice():t}function s(e,t,n,s){return fn.isUndefined(t)?fn.isUndefined(e)?void 0:r(void 0,e,0,s):r(e,t,0,s)}function i(e,t){if(!fn.isUndefined(t))return r(void 0,t)}function a(e,t){return fn.isUndefined(t)?fn.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,s,i){return i in t?r(n,s):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(e,t,n)=>s(or(e),or(t),0,!0)};return fn.forEach(Object.keys(c(c({},e),t)),function(r){const i=l[r]||s,a=i(e[r],t[r],r);fn.isUndefined(a)&&i!==o||(n[r]=a)}),n}const cr=e=>{const t=lr({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:o}=t;if(t.headers=a=Gn.from(a),t.url=Tn(ar(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),fn.isFormData(n))if(Mn.hasStandardBrowserEnv||Mn.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(fn.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,r]=e;t.includes(n.toLowerCase())&&a.set(n,r)})}if(Mn.hasStandardBrowserEnv&&(r&&fn.isFunction(r)&&(r=r(t)),r||!1!==r&&sr(t.url))){const e=s&&i&&ir.read(i);e&&a.set(s,e)}return t},ur="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=cr(e);let s=r.data;const i=Gn.from(r.headers).normalize();let a,o,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=Gn.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Xn(function(e){t(e),p()},function(e){n(e),p()},{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new vn("Request aborted",vn.ECONNABORTED,e,m)),m=null)},m.onerror=function(t){const r=t&&t.message?t.message:"Network Error",s=new vn(r,vn.ERR_NETWORK,e,m);s.event=t||null,n(s),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const s=r.transitional||In;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new vn(t,s.clarifyTimeoutError?vn.ETIMEDOUT:vn.ECONNABORTED,e,m)),m=null},void 0===s&&i.setContentType(null),"setRequestHeader"in m&&fn.forEach(i.toJSON(),function(e,t){m.setRequestHeader(t,e)}),fn.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),f&&([l,u]=tr(f,!0),m.addEventListener("progress",l)),h&&m.upload&&([o,c]=tr(h),m.upload.addEventListener("progress",o),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{m&&(n(!t||t.type?new $n(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);v&&-1===Mn.protocols.indexOf(v)?n(new vn("Unsupported protocol "+v+":",vn.ERR_BAD_REQUEST,e)):m.send(s||null)})},dr=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const s=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof vn?t:new $n(t instanceof Error?t.message:t))}};let i=t&&setTimeout(()=>{i=null,s(new vn("timeout ".concat(t," of ms exceeded"),vn.ETIMEDOUT))},t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)}),e=null)};e.forEach(e=>e.addEventListener("abort",s));const{signal:o}=r;return o.unsubscribe=()=>fn.asap(a),o}};function hr(e,t){this.v=e,this.k=t}function fr(e){return function(){return new pr(e.apply(this,arguments))}}function pr(e){var t,n;function r(t,n){try{var i=e[t](n),a=i.value,o=a instanceof hr;Promise.resolve(o?a.v:a).then(function(n){if(o){var l="return"===t?"return":"next";if(!a.k||n.done)return r(l,n);n=e[l](n).value}s(i.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){s("throw",e)}}function s(e,s){switch(e){case"return":t.resolve({value:s,done:!0});break;case"throw":t.reject(s);break;default:t.resolve({value:s,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,s){return new Promise(function(i,a){var o={key:e,arg:s,resolve:i,reject:a,next:null};n?n=n.next=o:(t=n=o,r(e,s))})},"function"!=typeof e.return&&(this.return=void 0)}function mr(e){return new hr(e,0)}function gr(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new hr(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function vr(e){var t,n,r,s=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);s--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new yr(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function yr(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return yr=function(e){this.s=e,this.n=e.next},yr.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new yr(e)}pr.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},pr.prototype.next=function(e){return this._invoke("next",e)},pr.prototype.throw=function(e){return this._invoke("throw",e)},pr.prototype.return=function(e){return this._invoke("return",e)};const br=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,s=0;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},xr=function(){var e=fr(function*(e,t){var n,r=!1,s=!1;try{for(var i,a=vr(wr(e));r=!(i=yield mr(a.next())).done;r=!1){const e=i.value;yield*gr(vr(br(e,t)))}}catch(o){s=!0,n=o}finally{try{r&&null!=a.return&&(yield mr(a.return()))}finally{if(s)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),wr=function(){var e=fr(function*(e){if(e[Symbol.asyncIterator])return void(yield*gr(vr(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield mr(t.read());if(e)break;yield n}}finally{yield mr(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),kr=(e,t,n,r)=>{const s=xr(e,t);let i,a=0,o=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await s.next();if(t)return o(),void e.close();let i=r.byteLength;if(n){let e=a+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),s.return())},{highWaterMark:2})},{isFunction:Nr}=fn,Sr=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(fn.global),{ReadableStream:Er,TextEncoder:jr}=fn.global,Cr=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(CS){return!1}},Tr=e=>{e=fn.merge.call({skipUndefined:!0},Sr,e);const{fetch:t,Request:n,Response:r}=e,s=t?Nr(t):"function"===typeof fetch,i=Nr(n),a=Nr(r);if(!s)return!1;const o=s&&Nr(Er),l=s&&("function"===typeof jr?(u=new jr,e=>u.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var u;const d=i&&o&&Cr(()=>{let e=!1;const t=new n(Mn.origin,{body:new Er,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),h=a&&o&&Cr(()=>fn.isReadableStream(new r("").body)),f={stream:h&&(e=>e.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!f[e]&&(f[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new vn("Response type '".concat(e,"' is not supported"),vn.ERR_NOT_SUPPORT,n)})});const p=async(e,t)=>{const r=fn.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(fn.isBlob(e))return e.size;if(fn.isSpecCompliantForm(e)){const t=new n(Mn.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return fn.isArrayBufferView(e)||fn.isArrayBuffer(e)?e.byteLength:(fn.isURLSearchParams(e)&&(e+=""),fn.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:s,method:a,data:o,signal:l,cancelToken:u,timeout:m,onDownloadProgress:g,onUploadProgress:v,responseType:y,headers:b,withCredentials:x="same-origin",fetchOptions:w}=cr(e),k=t||fetch;y=y?(y+"").toLowerCase():"text";let N=dr([l,u&&u.toAbortSignal()],m),S=null;const E=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let j;try{if(v&&d&&"get"!==a&&"head"!==a&&0!==(j=await p(b,o))){let e,t=new n(s,{method:"POST",body:o,duplex:"half"});if(fn.isFormData(o)&&(e=t.headers.get("content-type"))&&b.setContentType(e),t.body){const[e,n]=nr(j,tr(rr(v)));o=kr(t.body,65536,e,n)}}fn.isString(x)||(x=x?"include":"omit");const t=i&&"credentials"in n.prototype,l=c(c({},w),{},{signal:N,method:a.toUpperCase(),headers:b.normalize().toJSON(),body:o,duplex:"half",credentials:t?x:void 0});S=i&&new n(s,l);let u=await(i?k(S,w):k(s,l));const m=h&&("stream"===y||"response"===y);if(h&&(g||m&&E)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=u[t]});const t=fn.toFiniteNumber(u.headers.get("content-length")),[n,s]=g&&nr(t,tr(rr(g),!0))||[];u=new r(kr(u.body,65536,n,()=>{s&&s(),E&&E()}),e)}y=y||"text";let C=await f[fn.findKey(f,y)||"text"](u,e);return!m&&E&&E(),await new Promise((t,n)=>{Xn(t,n,{data:C,headers:Gn.from(u.headers),status:u.status,statusText:u.statusText,config:e,request:S})})}catch(C){if(E&&E(),C&&"TypeError"===C.name&&/Load failed|fetch/i.test(C.message))throw Object.assign(new vn("Network Error",vn.ERR_NETWORK,e,S),{cause:C.cause||C});throw vn.from(C,C&&C.code,e,S)}}},_r=new Map,Ir=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let a,o,l=i.length,c=_r;for(;l--;)a=i[l],o=c.get(a),void 0===o&&c.set(a,o=l?new Map:Tr(t)),c=o;return o},Ar=(Ir(),{http:null,xhr:ur,fetch:{get:Ir}});fn.forEach(Ar,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(CS){}Object.defineProperty(e,"adapterName",{value:t})}});const Pr=e=>"- ".concat(e),Rr=e=>fn.isFunction(e)||null===e||!1===e,Lr=(e,t)=>{e=fn.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let a=0;a<n;a++){let n;if(r=e[a],s=r,!Rr(r)&&(s=Ar[(n=String(r)).toLowerCase()],void 0===s))throw new vn("Unknown adapter '".concat(n,"'"));if(s&&(fn.isFunction(s)||(s=s.get(t))))break;i[n||"#"+a]=s}if(!s){const e=Object.entries(i).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(Pr).join("\n"):" "+Pr(e[0]):"as no adapter specified";throw new vn("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return s};function Dr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new $n(null,e)}function Or(e){Dr(e),e.headers=Gn.from(e.headers),e.data=Qn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Lr(e.adapter||zn.adapter,e)(e).then(function(t){return Dr(e),t.data=Qn.call(e,e.transformResponse,t),t.headers=Gn.from(t.headers),t},function(t){return Jn(t)||(Dr(e),t&&t.response&&(t.response.data=Qn.call(e,e.transformResponse,t.response),t.response.headers=Gn.from(t.response.headers))),Promise.reject(t)})}const Mr="1.12.2",Fr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Fr[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Ur={};Fr.transitional=function(e,t,n){function r(e,t){return"[Axios v"+Mr+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,i)=>{if(!1===e)throw new vn(r(s," has been removed"+(t?" in "+t:"")),vn.ERR_DEPRECATED);return t&&!Ur[s]&&(Ur[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,i)}},Fr.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const zr={assertOptions:function(e,t,n){if("object"!==typeof e)throw new vn("options must be an object",vn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],a=t[i];if(a){const t=e[i],n=void 0===t||a(t,i,e);if(!0!==n)throw new vn("option "+i+" must be "+n,vn.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new vn("Unknown option "+i,vn.ERR_BAD_OPTION)}},validators:Fr},Vr=zr.validators;class Br{constructor(e){this.defaults=e||{},this.interceptors={request:new _n,response:new _n}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(CS){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=lr(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;void 0!==n&&zr.assertOptions(n,{silentJSONParsing:Vr.transitional(Vr.boolean),forcedJSONParsing:Vr.transitional(Vr.boolean),clarifyTimeoutError:Vr.transitional(Vr.boolean)},!1),null!=r&&(fn.isFunction(r)?t.paramsSerializer={serialize:r}:zr.assertOptions(r,{encode:Vr.function,serialize:Vr.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),zr.assertOptions(t,{baseUrl:Vr.spelling("baseURL"),withXsrfToken:Vr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=s&&fn.merge(s.common,s[t.method]);s&&fn.forEach(["delete","get","head","post","put","patch","common"],e=>{delete s[e]}),t.headers=Gn.concat(i,s);const a=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,a.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!o){const e=[Or.bind(this),void 0];for(e.unshift(...a),e.push(...l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=a.length;let h=t;for(;d<u;){const e=a[d++],t=a[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=Or.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Tn(ar((e=lr(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}fn.forEach(["delete","get","head","options"],function(e){Br.prototype[e]=function(t,n){return this.request(lr(n||{},{method:e,url:t,data:(n||{}).data}))}}),fn.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,s){return this.request(lr(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Br.prototype[e]=t(),Br.prototype[e+"Form"]=t(!0)});const Hr=Br;class qr{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,s){n.reason||(n.reason=new $n(e,r,s),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new qr(function(t){e=t});return{token:t,cancel:e}}}const Wr=qr;const Kr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Kr).forEach(e=>{let[t,n]=e;Kr[n]=t});const Gr=Kr;const Qr=function e(t){const n=new Hr(t),r=jt(Hr.prototype.request,n);return fn.extend(r,Hr.prototype,n,{allOwnKeys:!0}),fn.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(lr(t,n))},r}(zn);Qr.Axios=Hr,Qr.CanceledError=$n,Qr.CancelToken=Wr,Qr.isCancel=Jn,Qr.VERSION=Mr,Qr.toFormData=kn,Qr.AxiosError=vn,Qr.Cancel=Qr.CanceledError,Qr.all=function(e){return Promise.all(e)},Qr.spread=function(e){return function(t){return e.apply(null,t)}},Qr.isAxiosError=function(e){return fn.isObject(e)&&!0===e.isAxiosError},Qr.mergeConfig=lr,Qr.AxiosHeaders=Gn,Qr.formToJSON=e=>Fn(fn.isHTMLForm(e)?new FormData(e):e),Qr.getAdapter=Lr,Qr.HttpStatusCode=Gr,Qr.default=Qr;const Jr=Qr.create({baseURL:"https://campusnex-production.up.railway.app/api",headers:{"Content-Type":"application/json"}});Jr.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),Jr.interceptors.response.use(e=>e,e=>(e.response&&401===e.response.status&&"/auth/login"!==e.config.url&&"/auth/register"!==e.config.url&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)));const Yr=Jr,$r=()=>{localStorage.removeItem("token"),localStorage.removeItem("user")},Xr=async()=>{try{return(await Yr.get("/events")).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||{message:"Failed to get events"}}},Zr=async(e,t)=>{try{return(await Yr.post("/events/".concat(e,"/rsvp"),{status:t})).data}catch(r){var n;throw(null===(n=r.response)||void 0===n?void 0:n.data)||{message:"Failed to RSVP to event"}}},es=async()=>{try{return(await Yr.get("/users/me/events")).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||{message:"Failed to get your events"}}};var ts=n(414);const ns=(0,t.createContext)();function rs(){return(0,t.useContext)(ns)}function ss(e){let{children:n}=e;const[r,s]=(0,t.useState)(null),[i,a]=(0,t.useState)(!0);(0,t.useEffect)(()=>{const e=(()=>{const e=localStorage.getItem("user");return e?JSON.parse(e):null})();e&&s(e);(async()=>{try{if(localStorage.getItem("token")){const{user:e}=await(async()=>{try{return(await Yr.get("/auth/me")).data}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||{message:"Failed to get user profile"}}})();s(e)}}catch(e){console.error("Token validation failed:",e),$r(),s(null)}finally{a(!1)}})()},[]);return(0,ts.jsx)(ns.Provider,{value:{user:r,loading:i,login:async(e,t)=>{try{const{user:n}=await(async(e,t)=>{try{const n=await Yr.post("/auth/login",{email:e,password:t});return n.data.token&&(localStorage.setItem("token",n.data.token),localStorage.setItem("user",JSON.stringify(n.data.user))),n.data}catch(r){var n;throw(null===(n=r.response)||void 0===n?void 0:n.data)||{message:"Login failed"}}})(e,t);return s(n),n}catch(n){throw n}},register:async e=>{try{const{user:t}=await(async e=>{try{return(await Yr.post("/auth/register",e)).data}catch(n){var t;throw(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Registration failed"}}})(e);return s(t),t}catch(t){throw t}},logout:()=>{$r(),s(null)},setUser:s,isAuthenticated:!!r},children:n})}const is=e=>{let{children:t,requiredRole:n=null}=e;const{isAuthenticated:r,user:s,loading:i}=rs(),a=de();return i?(0,ts.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,ts.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):r?n&&(null===s||void 0===s?void 0:s.role)!==n?(0,ts.jsx)(Pe,{to:"/",replace:!0}):t:(0,ts.jsx)(Pe,{to:"/login",state:{from:a},replace:!0})},as={fadeIn:"animate-fadeIn",fadeOut:"animate-fadeOut",slideInFromTop:"animate-slideInFromTop",slideInFromBottom:"animate-slideInFromBottom",slideInFromLeft:"animate-slideInFromLeft",slideInFromRight:"animate-slideInFromRight",slideOutToTop:"animate-slideOutToTop",slideOutToBottom:"animate-slideOutToBottom",slideOutToLeft:"animate-slideOutToLeft",slideOutToRight:"animate-slideOutToRight",scaleIn:"animate-scaleIn",scaleOut:"animate-scaleOut",pulse:"animate-pulse",bounce:"animate-bounce",spin:"animate-spin",ping:"animate-ping",fadeInUp:"animate-fadeInUp",fadeInDown:"animate-fadeInDown",fadeInLeft:"animate-fadeInLeft",fadeInRight:"animate-fadeInRight"},os=function(){let{threshold:e=.1,animation:n="fadeInUp",rootMargin:r="0px",triggerOnce:s=!0,delay:i=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[a,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{if(!a)return;const t=new IntersectionObserver(e=>{let[t]=e;const n=t.isIntersecting;!n||s&&u?n||s||c(!1):setTimeout(()=>{c(!0),d(!0)},i)},{threshold:e,rootMargin:r});return t.observe(a),()=>{a&&t.unobserve(a)}},[a,e,r,s,u,i]),{ref:o,inView:l,animationClass:l?as[n]||n:"",hasAnimated:u}},ls=e=>t.forwardRef((t,n)=>{const r={role:t.role||void 0,"aria-label":t["aria-label"]||void 0,"aria-labelledby":t["aria-labelledby"]||void 0,"aria-describedby":t["aria-describedby"]||void 0,"aria-disabled":t.disabled||void 0,tabIndex:t.tabIndex||void 0};return(0,ts.jsx)(e,c(c({ref:n},t),r))}),cs=["children","animation","delay","variant","padding","className"],us=(ls(e=>{let{children:t,animation:n="fadeInUp",delay:r=0,variant:i="default",padding:a="default",className:o=""}=e,l=s(e,cs);const{ref:u,animationClass:d}=os({animation:n,delay:r,triggerOnce:!0,threshold:.1});return(0,ts.jsx)("div",{ref:u,className:"".concat(d," ").concat(o),children:(0,ts.jsx)(ms,c(c({variant:i,padding:a},l),{},{children:t}))})}),["children","variant","size","className"]),ds=e=>{let{children:t,variant:n="default",size:r="md",className:i=""}=e,a=s(e,us);return(0,ts.jsx)("span",c(c({className:"\n        ".concat("inline-flex items-center justify-center font-medium rounded-full","\n        ").concat({default:"bg-neutral-100 text-neutral-800",primary:"bg-primary-50 text-primary-800",secondary:"bg-secondary-50 text-secondary-800",success:"bg-success-50 text-success-800",danger:"bg-error-50 text-error-800",warning:"bg-warning-50 text-warning-800",info:"bg-info-50 text-info-800"}[n],"\n        ").concat({sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-0.5",lg:"text-base px-3 py-1"}[r],"\n        ").concat(i,"\n      ")},a),{},{children:t}))},hs=["children","variant","size","fullWidth","disabled","loading","type","onClick","className"],fs=e=>{let{children:t,variant:n="primary",size:r="md",fullWidth:i=!1,disabled:a=!1,loading:o=!1,type:l="button",onClick:u,className:d=""}=e,h=s(e,hs);const f=o?"opacity-80 cursor-wait":"",p=i?"w-full":"";return(0,ts.jsx)("button",c(c({type:l,onClick:u,disabled:a||o,className:"\n        ".concat("flex items-center justify-center rounded-lg transition-all duration-200 font-medium focus:outline-none focus:ring-2 focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed","\n        ").concat({primary:"bg-primary text-white hover:bg-primary-dark focus:ring-primary",secondary:"bg-secondary text-white hover:bg-secondary-dark focus:ring-secondary",tertiary:"bg-white border border-neutral-300 text-neutral-800 hover:bg-neutral-50 focus:ring-neutral-400",danger:"bg-error text-white hover:bg-error-dark focus:ring-error"}[n],"\n        ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-5 py-2.5 text-lg"}[r],"\n        ").concat(p,"\n        ").concat(f,"\n        ").concat(d,"\n      ")},h),{},{children:o?(0,ts.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ts.jsxs)("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ts.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ts.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,ts.jsx)("span",{children:t})]}):t}))},ps=["children","variant","padding","className"],ms=e=>{let{children:t,variant:n="default",padding:r="default",className:i=""}=e,a=s(e,ps);return(0,ts.jsx)("div",c(c({className:"\n        ".concat("rounded-lg overflow-hidden transition-shadow duration-200","\n        ").concat({default:"bg-white border border-neutral-200 shadow-sm hover:shadow",elevated:"bg-white border border-neutral-200 shadow-md hover:shadow-lg",flat:"bg-white border border-neutral-200",outlined:"bg-transparent border border-neutral-300"}[n],"\n        ").concat({none:"",small:"p-3",default:"p-4",large:"p-6"}[r],"\n        ").concat(i,"\n      ")},a),{},{children:t}))},gs=e=>{let{footerColumns:t=[],bottomLinks:n=[],copyright:r="\xa9 2025 CampusNex. All rights reserved.",logo:s=null,className:i=""}=e;return(0,ts.jsx)("footer",{className:"bg-slate-900 text-white w-full py-12 px-4 ".concat(i),children:(0,ts.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12",children:[s&&(0,ts.jsxs)("div",{className:"col-span-1 md:col-span-2 lg:col-span-1 mb-8 md:mb-0",children:[(0,ts.jsx)("div",{className:"mb-4",children:s}),(0,ts.jsx)("p",{className:"text-gray-400 mt-4 max-w-xs",children:"Connecting students with campus events and opportunities for a richer university experience."})]}),t.map((e,t)=>(0,ts.jsxs)("div",{className:"flex flex-col",children:[(0,ts.jsx)("h3",{className:"font-semibold text-lg mb-4",children:e.title}),(0,ts.jsx)("ul",{className:"space-y-3",children:e.links.map((e,t)=>(0,ts.jsx)("li",{children:e.href?(0,ts.jsx)(vt,{to:e.href,className:"text-gray-400 hover:text-white transition-colors duration-200",children:e.label}):(0,ts.jsx)("span",{className:"text-gray-400",children:e.label})},t))})]},t))]}),(0,ts.jsxs)("div",{className:"pt-8 border-t border-gray-800 flex flex-col md:flex-row justify-between items-center",children:[(0,ts.jsx)("div",{className:"text-gray-400 mb-4 md:mb-0",children:r}),n.length>0&&(0,ts.jsx)("div",{className:"flex flex-wrap gap-x-6 gap-y-2 justify-center",children:n.map((e,t)=>(0,ts.jsx)(vt,{to:e.href||"#",className:"text-gray-400 hover:text-white transition-colors duration-200",children:e.label},t))})]})]})})},vs=["children","onSubmit","className"],ys=e=>{let{children:t,onSubmit:n,className:r=""}=e,i=s(e,vs);return(0,ts.jsx)("form",c(c({onSubmit:e=>{e.preventDefault(),n&&n(e)},className:"w-full ".concat(r)},i),{},{children:(0,ts.jsx)("div",{className:"space-y-6",children:t})}))};ys.Section=e=>{let{title:t,description:n,children:r,className:s=""}=e;return(0,ts.jsxs)("div",{className:"border-b border-neutral-200 pb-6 ".concat(s),children:[(t||n)&&(0,ts.jsxs)("div",{className:"mb-4",children:[t&&(0,ts.jsx)("h3",{className:"text-lg font-medium text-neutral-900",children:t}),n&&(0,ts.jsx)("p",{className:"text-sm text-neutral-500 mt-1",children:n})]}),(0,ts.jsx)("div",{className:"space-y-4",children:r})]})},ys.Group=e=>{let{children:t,cols:n=1,className:r=""}=e;return(0,ts.jsx)("div",{className:"grid ".concat({1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-4"}[n]," gap-4 ").concat(r),children:t})};const bs=["id","name","type","label","placeholder","helper","error","disabled","required","className","onChange","value"],xs=(0,t.forwardRef)((e,t)=>{let{id:n,name:r,type:i="text",label:a,placeholder:o,helper:l,error:u,disabled:d=!1,required:h=!1,className:f="",onChange:p,value:m}=e,g=s(e,bs);const v=n||"input-".concat(r||Math.random().toString(36).substr(2,9));return(0,ts.jsxs)("div",{className:"flex flex-col w-full",children:[a&&(0,ts.jsxs)("label",{htmlFor:v,className:"block text-sm font-medium text-neutral-700 mb-1",children:[a,h&&(0,ts.jsx)("span",{className:"text-error ml-1",children:"*"})]}),(0,ts.jsx)("input",c({ref:t,id:v,name:r,type:i,value:m,onChange:p,disabled:d,placeholder:o,required:h,className:"\n          w-full rounded-lg border-neutral-300 shadow-sm\n          focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-20\n          disabled:bg-neutral-100 disabled:text-neutral-500 disabled:cursor-not-allowed\n          ".concat(u?"border-error focus:border-error focus:ring-error":"","\n          ").concat(f,"\n        ")},g)),(l||u)&&(0,ts.jsx)("p",{className:"mt-1 text-sm ".concat(u?"text-error":"text-neutral-500"),children:u||l})]})});xs.displayName="Input";const ws=e=>{let{rank:t,name:n,avatarUrl:r,department:s,count:i,unit:a="Attended",className:o="",highlight:l=!1}=e,c="bg-white",u="bg-gray-100",d="text-gray-600";return l&&(1===t?(c="bg-gradient-to-r from-yellow-50 to-yellow-100",u="bg-yellow-100",d="text-yellow-700"):2===t?(c="bg-gradient-to-r from-gray-50 to-gray-100",u="bg-gray-200",d="text-gray-700"):3===t&&(c="bg-gradient-to-r from-amber-50 to-amber-100",u="bg-amber-100",d="text-amber-700")),(0,ts.jsx)("div",{className:"".concat(c," ").concat(o," transition-all duration-300 hover:shadow-lg hover:scale-102 rounded-xl overflow-hidden border border-neutral-200 shadow-sm"),children:(0,ts.jsxs)("div",{className:"flex items-center p-3 md:p-4",children:[(0,ts.jsx)("div",{className:"flex-shrink-0 mr-3 md:mr-4 w-8 h-8 md:w-10 md:h-10 rounded-full bg-primary text-white flex items-center justify-center font-bold text-sm md:text-base",children:t}),(0,ts.jsx)("div",{className:"flex-shrink-0 mr-3 md:mr-4",children:r?(0,ts.jsx)("img",{src:r,alt:n,className:"w-10 h-10 md:w-12 md:h-12 rounded-full object-cover border-2 border-gray-200"}):(0,ts.jsx)("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 font-bold text-lg md:text-xl",children:(null===n||void 0===n?void 0:n.charAt(0))||"?"})}),(0,ts.jsxs)("div",{className:"flex-grow min-w-0",children:[(0,ts.jsx)("h3",{className:"font-bold text-base md:text-lg truncate",children:n}),(0,ts.jsx)("p",{className:"text-xs md:text-sm text-gray-500 truncate",children:s})]}),(0,ts.jsx)("div",{className:"ml-auto flex-shrink-0",children:(0,ts.jsxs)("div",{className:"".concat(u," ").concat(d," px-2 py-1 md:px-3 md:py-1 text-xs md:text-sm font-medium rounded-full"),children:[i," ",a]})})]})})},ks=e=>{var t,n,r;let{leaders:s=[],className:i=""}=e;const a=s.slice(0,3);for(;a.length<3;)a.push({name:"Position Available",department:"Join events to rank",count:0});const[o,l,c]=[a[1],a[0],a[2]];return(0,ts.jsx)("div",{className:"flex flex-col items-center ".concat(i),children:(0,ts.jsxs)("div",{className:"flex flex-wrap justify-center items-end gap-4 md:gap-8",children:[(0,ts.jsxs)("div",{className:"flex flex-col items-center order-1 md:order-1 mt-8 md:mt-16",children:[(0,ts.jsxs)("div",{className:"relative mb-4",children:[(0,ts.jsx)("div",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2 text-4xl",children:"\ud83e\udd48"}),o.profileImage||o.avatarUrl?(0,ts.jsx)("img",{src:o.profileImage||o.avatarUrl,alt:o.name,className:"w-24 h-24 md:w-28 md:h-28 rounded-full object-cover border-4 border-gray-300 shadow-lg"}):(0,ts.jsx)("div",{className:"w-24 h-24 md:w-28 md:h-28 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 font-bold text-3xl border-4 border-gray-300 shadow-lg",children:(null===(t=o.name)||void 0===t?void 0:t.charAt(0))||"?"})]}),(0,ts.jsxs)("div",{className:"w-full max-w-[250px] bg-gradient-to-b from-gray-200 to-gray-100 rounded-lg p-4 text-center shadow-md",children:[(0,ts.jsx)("h3",{className:"font-bold text-lg truncate",children:o.name}),(0,ts.jsx)("p",{className:"text-gray-600 text-sm",children:o.department}),(0,ts.jsxs)("div",{className:"mt-2 bg-gray-300 text-gray-700 px-3 py-1 text-sm font-medium rounded-full inline-block",children:[o.totalEvents||o.count," Events"]})]})]}),(0,ts.jsxs)("div",{className:"flex flex-col items-center order-0 md:order-0 scale-110 z-10",children:[(0,ts.jsxs)("div",{className:"relative mb-4",children:[(0,ts.jsx)("div",{className:"absolute -top-12 left-1/2 transform -translate-x-1/2 text-5xl",children:"\ud83d\udc51"}),l.profileImage||l.avatarUrl?(0,ts.jsx)("img",{src:l.profileImage||l.avatarUrl,alt:l.name,className:"w-28 h-28 md:w-32 md:h-32 rounded-full object-cover border-4 border-yellow-400 shadow-lg"}):(0,ts.jsx)("div",{className:"w-28 h-28 md:w-32 md:h-32 rounded-full bg-yellow-100 flex items-center justify-center text-yellow-800 font-bold text-4xl border-4 border-yellow-400 shadow-lg",children:(null===(n=l.name)||void 0===n?void 0:n.charAt(0))||"?"})]}),(0,ts.jsxs)("div",{className:"w-full max-w-[280px] bg-gradient-to-b from-yellow-300 to-yellow-100 rounded-lg p-5 text-center shadow-lg",children:[(0,ts.jsx)("h3",{className:"font-bold text-xl truncate",children:l.name}),(0,ts.jsx)("p",{className:"text-yellow-800 text-sm",children:l.department}),(0,ts.jsxs)("div",{className:"mt-2 bg-yellow-200 text-yellow-800 px-3 py-1 text-sm font-medium rounded-full inline-block",children:[l.totalEvents||l.count," Events"]})]})]}),(0,ts.jsxs)("div",{className:"flex flex-col items-center order-2 md:order-2 mt-8 md:mt-24",children:[(0,ts.jsxs)("div",{className:"relative mb-4",children:[(0,ts.jsx)("div",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2 text-4xl",children:"\ud83e\udd49"}),c.profileImage||c.avatarUrl?(0,ts.jsx)("img",{src:c.profileImage||c.avatarUrl,alt:c.name,className:"w-20 h-20 md:w-24 md:h-24 rounded-full object-cover border-4 border-amber-600 shadow-lg"}):(0,ts.jsx)("div",{className:"w-20 h-20 md:w-24 md:h-24 rounded-full bg-amber-100 flex items-center justify-center text-amber-800 font-bold text-2xl border-4 border-amber-600 shadow-lg",children:(null===(r=c.name)||void 0===r?void 0:r.charAt(0))||"?"})]}),(0,ts.jsxs)("div",{className:"w-full max-w-[220px] bg-gradient-to-b from-amber-200 to-amber-100 rounded-lg p-3 text-center shadow-md",children:[(0,ts.jsx)("h3",{className:"font-bold text-lg truncate",children:c.name}),(0,ts.jsx)("p",{className:"text-amber-800 text-sm",children:c.department}),(0,ts.jsxs)("div",{className:"mt-2 bg-amber-200 text-amber-800 px-3 py-1 text-sm font-medium rounded-full inline-block",children:[c.totalEvents||c.count," Events"]})]})]})]})})},Ns=e=>{let{page:t,currentPage:n,onPageChange:r,disabled:s=!1,children:i}=e;return(0,ts.jsx)("button",{onClick:()=>!s&&r(t),disabled:s,className:"px-2 py-1.5 md:px-3 md:py-2 mx-0.5 md:mx-1 rounded-lg text-xs md:text-sm font-medium transition-all duration-200 ".concat(t===n?"bg-primary text-white shadow-md transform scale-105":s?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-100 text-gray-700 hover:bg-gray-200 hover:shadow-sm"),children:i})},Ss=e=>{let{currentPage:t,totalPages:n,onPageChange:r,hasNextPage:s,hasPrevPage:i,onLoadMore:a,showLoadMore:o=!1}=e;return n<=1&&!o?null:(0,ts.jsx)("div",{className:"flex flex-wrap justify-center items-center mt-8 gap-2 px-4",children:o?(0,ts.jsx)("button",{onClick:a,disabled:!s,className:"px-6 py-3 md:px-8 md:py-4 rounded-xl font-medium text-sm md:text-base transition-all duration-300 transform ".concat(s?"bg-primary text-white hover:bg-primary-dark hover:scale-105 shadow-lg hover:shadow-xl":"bg-gray-200 text-gray-500 cursor-not-allowed opacity-60"),children:s?"\ud83d\udcc8 Load More Results":"\ud83c\udfc1 No More Results"}):(0,ts.jsxs)(ts.Fragment,{children:[(0,ts.jsx)(Ns,{page:t-1,currentPage:t,onPageChange:r,disabled:!i,children:"Previous"}),[...Array(Math.min(5,n))].map((e,n)=>{const s=n+1;return(0,ts.jsx)(Ns,{page:s,currentPage:t,onPageChange:r,children:s},s)}),(0,ts.jsx)(Ns,{page:t+1,currentPage:t,onPageChange:r,disabled:!s,children:"Next"})]})})},Es=e=>{let{title:t="Leaderboard",subtitle:n="",leaders:r=[],className:s="",showTop3:i=!0,activeCategory:a="",categories:o=[],onCategoryChange:l=()=>{},unit:c="Events",currentPage:u=1,totalPages:d=1,onPageChange:h=()=>{},hasNextPage:f=!1,hasPrevPage:p=!1,onLoadMore:m=()=>{},showLoadMore:g=!1,loading:v=!1}=e;return(0,ts.jsxs)("div",{className:"".concat(s," w-full"),children:[(0,ts.jsxs)("div",{className:"text-center mb-8 px-4",children:[(0,ts.jsx)("h2",{className:"text-2xl md:text-3xl font-bold mb-2 text-gray-800",children:t}),n&&(0,ts.jsx)("p",{className:"text-gray-600 text-sm md:text-base max-w-2xl mx-auto",children:n}),o.length>0&&(0,ts.jsx)("div",{className:"flex flex-wrap justify-center gap-2 mt-6",children:o.map(e=>(0,ts.jsx)("button",{onClick:()=>l(e.value),className:"px-3 py-1.5 md:px-4 md:py-2 rounded-full text-xs md:text-sm font-medium transition-all duration-200 ".concat(a===e.value?"bg-primary text-white shadow-md transform scale-105":"bg-gray-100 text-gray-700 hover:bg-gray-200 hover:shadow-sm"),children:e.label},e.value))})]}),i&&r.length>0&&(0,ts.jsx)(ks,{leaders:r,className:"mb-12"}),(0,ts.jsx)("div",{className:"space-y-3 max-w-3xl mx-auto",children:v?(0,ts.jsxs)("div",{className:"text-center py-8",children:[(0,ts.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),(0,ts.jsx)("p",{className:"mt-2 text-gray-500",children:"Loading leaderboard..."})]}):(0,ts.jsxs)(ts.Fragment,{children:[r.slice(i?3:0).map((e,t)=>(0,ts.jsx)(ws,{rank:i?t+4:t+1,name:e.name,avatarUrl:e.profileImage||e.avatarUrl,department:e.department,count:e.totalEvents||e.count,unit:c},e.id||t)),0===r.length&&(0,ts.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No data available"})]})}),(0,ts.jsx)(Ss,{currentPage:u,totalPages:d,onPageChange:h,hasNextPage:f,hasPrevPage:p,onLoadMore:m,showLoadMore:g})]})};n(119);const js=["logo","menuItems","rightMenuItems","className","onMenuToggle"],Cs=e=>{let{logo:n,menuItems:r,rightMenuItems:i,className:a="",onMenuToggle:o}=e,l=s(e,js);const[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!1),p=de();(0,t.useEffect)(()=>{const e=()=>{const e=window.scrollY;f(e>50)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]),(0,t.useEffect)(()=>{d(!1)},[p.pathname]);const m=e=>"/"===e?"/"===p.pathname:p.pathname.startsWith(e);return(0,ts.jsxs)("nav",c(c({className:"\n        fixed top-0 left-0 w-full z-50 transition-all duration-200\n        ".concat(h?"bg-white shadow-md py-2":"bg-white/95 py-4","\n        ").concat(a,"\n      ")},l),{},{children:[(0,ts.jsx)("div",{className:"container mx-auto px-4",children:(0,ts.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ts.jsx)("div",{className:"flex-shrink-0",children:"string"===typeof n?(0,ts.jsx)(vt,{to:"/",className:"text-primary text-2xl font-bold",children:n}):n}),(0,ts.jsx)("div",{className:"hidden md:flex items-center space-x-1",children:null===r||void 0===r?void 0:r.map((e,t)=>(0,ts.jsx)(vt,{to:e.path,className:"\n                  px-3 py-2 rounded-md text-sm font-medium transition-colors\n                  ".concat(m(e.path)?"text-primary bg-primary-50 font-semibold":"text-neutral-700 hover:text-primary hover:bg-primary-50","\n                "),children:e.label},"menu-item-".concat(t)))}),(0,ts.jsx)("div",{className:"hidden md:flex items-center space-x-2",children:null===i||void 0===i?void 0:i.map((e,t)=>"button"===e.type?(0,ts.jsx)(fs,{variant:e.variant||"primary",size:"sm",onClick:e.onClick,children:e.label},"right-menu-item-".concat(t)):(0,ts.jsx)(vt,{to:e.path,className:"\n                    px-3 py-2 rounded-md text-sm font-medium transition-colors\n                    ".concat(m(e.path)?"text-primary":"text-neutral-700 hover:text-primary","\n                  "),children:e.label},"right-menu-item-".concat(t)))}),(0,ts.jsx)("div",{className:"md:hidden flex items-center",children:(0,ts.jsxs)("button",{onClick:()=>{d(!u),o&&o(!u)},className:"inline-flex items-center justify-center p-2 rounded-md text-neutral-700 hover:text-primary hover:bg-primary-50 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary","aria-expanded":u,children:[(0,ts.jsx)("span",{className:"sr-only",children:"Open main menu"}),u?(0,ts.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):(0,ts.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]})})]})}),(0,ts.jsx)("div",{className:"\n          md:hidden transition-all duration-200 ease-in-out overflow-hidden\n          ".concat(u?"max-h-96 opacity-100":"max-h-0 opacity-0","\n        "),children:(0,ts.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white shadow-lg",children:[null===r||void 0===r?void 0:r.map((e,t)=>(0,ts.jsx)(vt,{to:e.path,className:"\n                block px-3 py-2 rounded-md text-base font-medium\n                ".concat(m(e.path)?"text-primary bg-primary-50":"text-neutral-700 hover:text-primary hover:bg-primary-50","\n              "),children:e.label},"mobile-menu-item-".concat(t))),(0,ts.jsx)("div",{className:"border-t border-neutral-200 pt-4 mt-4",children:null===i||void 0===i?void 0:i.map((e,t)=>"button"===e.type?(0,ts.jsx)(fs,{variant:e.variant||"primary",size:"sm",onClick:e.onClick,className:"w-full justify-center mt-2",children:e.label},"mobile-right-menu-item-".concat(t)):(0,ts.jsx)(vt,{to:e.path,className:"\n                    block px-3 py-2 rounded-md text-base font-medium\n                    ".concat(m(e.path)?"text-primary bg-primary-50":"text-neutral-700 hover:text-primary hover:bg-primary-50","\n                  "),children:e.label},"mobile-right-menu-item-".concat(t)))})]})})]}))},Ts=()=>{const{isAuthenticated:e,user:t,logout:n}=rs(),r=pe(),s=de(),i=[{label:"Home",path:"/"},{label:"Events",path:"/discovery"},{label:"About",path:"/about"},...e?[{label:"Leaderboard",path:"/leaderboard"}]:[]],a=e?[{label:"Profile",path:"/profile"},..."organizer"===(null===t||void 0===t?void 0:t.role)?[{label:"Create Event",path:"/create-event"}]:[{label:"My Events",path:"/interested-events"}],{label:"Logout",onClick:()=>{n(),r("/login")},type:"button",variant:"primary"}]:[{label:"Login",path:"/login"},{label:"Sign Up",path:"/signup",type:"button",variant:"primary",onClick:()=>r("/signup")}];return(0,ts.jsx)(Cs,{logo:(0,ts.jsxs)(vt,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[(0,ts.jsx)("img",{src:"/CampusNex LOGO.svg",alt:"CampusNex",className:"h-8 md:h-10"}),(0,ts.jsx)("span",{className:"text-blue-800 text-2xl md:text-3xl font-bold",children:"CampusNex"})]}),menuItems:i,rightMenuItems:a,currentPath:s.pathname})},_s=()=>(0,ts.jsx)(gs,{footerColumns:[{title:"Company Info",links:[{label:"About Us",href:"/about"},{label:"Contact Us",href:"/contact"},{label:"Careers",href:"/careers"},{label:"FAQs",href:"/faqs"},{label:"Terms of Service",href:"/terms"},{label:"Privacy Policy",href:"/privacy"}]},{title:"Campus Events",links:[{label:"Academic Conferences",href:"/discovery?category=academic"},{label:"Student Activities",href:"/discovery?category=student-activities"},{label:"Sports & Recreation",href:"/discovery?category=sports"},{label:"Cultural Events",href:"/discovery?category=cultural"},{label:"Career & Networking",href:"/discovery?category=career"},{label:"Workshops & Seminars",href:"/discovery?category=workshops"},{label:"Campus Festivals",href:"/discovery?category=festivals"},{label:"Club Events",href:"/discovery?category=clubs"}]},{title:"Help",links:[{label:"Account Support",href:"/support"},{label:"Listing Events",href:"/list-event"},{label:"Terms & Conditions",href:"/purchase-terms"}]}],bottomLinks:[{label:"Facebook",href:"https://facebook.com"},{label:"Instagram",href:"https://instagram.com"},{label:"Twitter",href:"https://twitter.com"},{label:"YouTube",href:"https://youtube.com"}],copyright:"\xa9 2025 CampusNex. All rights reserved.",logo:(0,ts.jsx)(vt,{to:"/",className:"text-white text-2xl font-bold",children:"CampusNex"})}),Is=["children","className"],As=e=>{let{children:t,className:n=""}=e,r=s(e,Is);return(0,ts.jsx)(fs,c(c({variant:"primary",size:"lg",className:n},r),{},{children:t}))},Ps=["https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=2070&auto=format&fit=crop","https://images.unsplash.com/photo-1523240795612-9a054b0db644?q=80&w=2070&auto=format&fit=crop","https://images.unsplash.com/photo-1517486808906-6ca8b3f04846?q=80&w=2070&auto=format&fit=crop","https://images.unsplash.com/photo-1511632765486-a01980e01a18?q=80&w=2070&auto=format&fit=crop","https://images.unsplash.com/photo-1521737604893-d14cc237f11d?q=80&w=2070&auto=format&fit=crop","https://images.unsplash.com/photo-1529156069898-49953e39b3ac?q=80&w=2070&auto=format&fit=crop","https://images.unsplash.com/photo-1578662996442-48f60103fc96?q=80&w=2070&auto=format&fit=crop","https://images.unsplash.com/photo-1587825140708-dfaf72ae4b04?q=80&w=2070&auto=format&fit=crop","https://images.unsplash.com/photo-1515187029135-18ee286d815b?q=80&w=2070&auto=format&fit=crop","https://images.unsplash.com/photo-1461896836934-ffe607ba8211?q=80&w=2070&auto=format&fit=crop"],Rs=[{id:"1",title:"RUPP Annual Science Fair 2025",description:"Royal University of Phnom Penh presents innovative research projects from students across all faculties. Featuring AI, renewable energy, biotechnology, and sustainable development projects.",category:"Academic",location:"Royal University of Phnom Penh, Russian Blvd, Phnom Penh",date:"2025-10-15",startDate:"2025-10-15T08:00:00",endDate:"2025-10-15T17:00:00",imageUrl:"https://images.unsplash.com/photo-1532094349884-543bc11b234d?q=80&w=2070&auto=format&fit=crop",capacity:500,featured:!0,organizerId:"rupp_admin",RSVPs:[{status:"attending"},{status:"attending"},{status:"interested"}]},{id:"2",title:"Cambodia-Japan University Tech Symposium",description:"Join CJU's premier technology conference featuring presentations on digital transformation, smart cities, and Industry 4.0 in Cambodia.",category:"Technology",location:"Cambodia-Japan University, Pochentong, Phnom Penh",date:"2025-10-18",startDate:"2025-10-18T13:00:00",endDate:"2025-10-18T18:00:00",imageUrl:"https://images.unsplash.com/photo-1485827404703-89b55fcc595e?q=80&w=2070&auto=format&fit=crop",capacity:300,featured:!0,organizerId:"cju_admin",RSVPs:[{status:"attending"},{status:"attending"}]},{id:"3",title:"Norton University Business Competition",description:"Annual business plan competition for undergraduate students. Present your startup ideas to industry experts and win cash prizes up to $5,000.",category:"Business & Networking",location:"Norton University, St. 214, Phnom Penh",date:"2025-10-22",startDate:"2025-10-22T14:00:00",endDate:"2025-10-22T18:00:00",imageUrl:"https://images.unsplash.com/photo-1556761175-b413da4baf72?q=80&w=2070&auto=format&fit=crop",capacity:150,featured:!0,organizerId:"norton_admin",RSVPs:[{status:"attending"}]},{id:"4",title:"IFL Cultural Festival - Khmer Heritage Day",description:"Institute of Foreign Languages celebrates Cambodian culture with traditional dance performances, poetry recitations, and cultural exhibitions.",category:"Performing Arts",location:"Institute of Foreign Languages, Russian Blvd, Phnom Penh",date:"2025-10-25",startDate:"2025-10-25T16:00:00",endDate:"2025-10-25T21:00:00",imageUrl:"https://images.unsplash.com/photo-1504196606672-aef5c9cefc92?q=80&w=2070&auto=format&fit=crop",capacity:400,featured:!0,organizerId:"ifl_admin",RSVPs:[]},{id:"5",title:"Build Bright University Career Fair",description:"Connect with top employers in Cambodia including banks, NGOs, tech companies, and government agencies. Resume workshops and interview sessions included.",category:"Career Development",location:"Build Bright University, St. 271, Phnom Penh",date:"2025-10-28",startDate:"2025-10-28T09:00:00",endDate:"2025-10-28T16:00:00",imageUrl:"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?q=80&w=2070&auto=format&fit=crop",capacity:600,featured:!0,organizerId:"bbu_admin",RSVPs:[]},{id:"6",title:"University of Cambodia Debate Tournament",description:"Inter-university English debate competition focusing on contemporary issues affecting Southeast Asia. Teams from across Phnom Penh will compete.",category:"Academic",location:"University of Cambodia, Northbridge Rd, Phnom Penh",date:"2025-11-02",startDate:"2025-11-02T08:30:00",endDate:"2025-11-02T17:00:00",imageUrl:"https://images.unsplash.com/photo-1553028826-f4804a6dba3b?q=80&w=2070&auto=format&fit=crop",capacity:200,featured:!1,organizerId:"uc_admin",RSVPs:[]},{id:"7",title:"PPIU Medical Conference - Healthcare Innovation",description:"Phnom Penh International University Medical Faculty hosts a conference on modern healthcare solutions and medical technology in Cambodia.",category:"Health & Medicine",location:"Phnom Penh International University, St. 169, Phnom Penh",date:"2025-11-05",startDate:"2025-11-05T13:00:00",endDate:"2025-11-05T18:00:00",imageUrl:"https://images.unsplash.com/photo-1576091160399-112ba8d25d1f?q=80&w=2070&auto=format&fit=crop",capacity:250,featured:!1,organizerId:"ppiu_admin",RSVPs:[]},{id:"8",title:"RULE Law Student Moot Court Competition",description:"Royal University of Law and Economics presents an annual moot court competition simulating Supreme Court cases with real judges presiding.",category:"Academic",location:"Royal University of Law and Economics, St. 184, Phnom Penh",date:"2025-11-08",startDate:"2025-11-08T14:00:00",endDate:"2025-11-08T18:00:00",imageUrl:"https://images.unsplash.com/photo-1505663912202-ac22d4cb3412?q=80&w=2070&auto=format&fit=crop",capacity:180,featured:!1,organizerId:"rule_admin",RSVPs:[]},{id:"9",title:"AUPP International Student Festival",description:"American University of Phnom Penh celebrates diversity with food from 20+ countries, cultural performances, and international student showcases.",category:"Cultural",location:"American University of Phnom Penh, St. 184, Phnom Penh",date:"2025-11-12",startDate:"2025-11-12T17:00:00",endDate:"2025-11-12T22:00:00",imageUrl:"https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6c3?q=80&w=2070&auto=format&fit=crop",capacity:350,featured:!0,organizerId:"aupp_admin",RSVPs:[]},{id:"10",title:"Pa\xf1\xf1\u0101s\u0101stra University Engineering Expo",description:"Showcase of final year engineering projects including robotics, civil engineering models, and computer science applications.",category:"Technology",location:"Pa\xf1\xf1\u0101s\u0101stra University, St. 184, Phnom Penh",date:"2025-11-15",startDate:"2025-11-15T09:00:00",endDate:"2025-11-15T16:00:00",imageUrl:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?q=80&w=2070&auto=format&fit=crop",capacity:300,featured:!1,organizerId:"puc_admin",RSVPs:[]},{id:"11",title:"Cambodia University for Specialties Art Exhibition",description:"Annual fine arts exhibition featuring paintings, sculptures, photography, and digital art from CUS students and faculty.",category:"Arts & Culture",location:"Cambodia University for Specialties, St. 123, Phnom Penh",date:"2025-11-18",startDate:"2025-11-18T15:00:00",endDate:"2025-11-18T20:00:00",imageUrl:"https://images.unsplash.com/photo-1541961017774-22349e4a1262?q=80&w=2070&auto=format&fit=crop",capacity:200,featured:!1,organizerId:"cus_admin",RSVPs:[]},{id:"12",title:"SETEC Green Technology Workshop",description:"Svay Rieng University Institute of Technology presents sustainable technology solutions for Cambodia's environmental challenges.",category:"Environment",location:"SETEC Institute, Russian Blvd, Phnom Penh",date:"2025-11-20",startDate:"2025-11-20T13:30:00",endDate:"2025-11-20T17:30:00",imageUrl:"https://images.unsplash.com/photo-1473341304170-971dccb5ac1e?q=80&w=2070&auto=format&fit=crop",capacity:120,featured:!1,organizerId:"setec_admin",RSVPs:[]},{id:"13",title:"NIPTICT Cybersecurity Summit",description:"National Institute of Posts, Telecoms & ICT hosts cybersecurity experts discussing digital threats and protection strategies for Cambodia.",category:"Technology",location:"NIPTICT, St. 184, Phnom Penh",date:"2025-11-25",startDate:"2025-11-25T08:00:00",endDate:"2025-11-25T17:00:00",imageUrl:"https://images.unsplash.com/photo-1563013544-824ae1b704d3?q=80&w=2070&auto=format&fit=crop",capacity:200,featured:!0,organizerId:"niptict_admin",RSVPs:[]},{id:"14",title:"Zaman University Literature Night",description:"Evening of poetry, short story readings, and literary discussions featuring both Khmer and English literature from student writers.",category:"Literature",location:"Zaman University, St. 315, Phnom Penh",date:"2025-11-28",startDate:"2025-11-28T18:00:00",endDate:"2025-11-28T21:00:00",imageUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=2070&auto=format&fit=crop",capacity:100,featured:!1,organizerId:"zaman_admin",RSVPs:[]},{id:"15",title:"Royal University of Agriculture Food Security Forum",description:"Experts discuss sustainable agriculture practices and food security challenges in Cambodia. Includes organic farming demonstrations.",category:"Agriculture",location:"Royal University of Agriculture, Chamkar Daung, Phnom Penh",date:"2025-12-01",startDate:"2025-12-01T14:00:00",endDate:"2025-12-01T18:00:00",imageUrl:"https://images.unsplash.com/photo-1574323347407-f5e1ad6d020b?q=80&w=2070&auto=format&fit=crop",capacity:180,featured:!1,organizerId:"rua_admin",RSVPs:[]},{id:"16",title:"Cambodia Mekong University Sports Day",description:"Annual inter-faculty sports competition featuring football, volleyball, basketball, badminton, and traditional Khmer games.",category:"Sports & Recreation",location:"Cambodia Mekong University, St. 271, Phnom Penh",date:"2025-12-05",startDate:"2025-12-05T07:00:00",endDate:"2025-12-05T18:00:00",imageUrl:"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?q=80&w=2070&auto=format&fit=crop",capacity:800,featured:!0,organizerId:"cmu_admin",RSVPs:[]},{id:"17",title:"Institute of Technology Model UN Conference",description:"Three-day Model United Nations conference addressing global issues with special focus on ASEAN regional cooperation and development.",category:"Academic",location:"Institute of Technology of Cambodia, Russian Blvd, Phnom Penh",date:"2025-12-08",startDate:"2025-12-08T08:00:00",endDate:"2025-12-10T17:00:00",imageUrl:"https://images.unsplash.com/photo-1540910419892-4a36d2c3266c?q=80&w=2070&auto=format&fit=crop",capacity:150,featured:!0,organizerId:"itc_admin",RSVPs:[]},{id:"18",title:"Royal Academy of Cambodia Historical Symposium",description:"Scholarly presentations on Cambodian history, archaeology, and cultural preservation. Features newly discovered artifacts and research.",category:"History & Culture",location:"Royal Academy of Cambodia, St. 184, Phnom Penh",date:"2025-12-12",startDate:"2025-12-12T13:00:00",endDate:"2025-12-12T17:00:00",imageUrl:"https://images.unsplash.com/photo-1518998053901-5348d3961a04?q=80&w=2070&auto=format&fit=crop",capacity:120,featured:!1,organizerId:"rac_admin",RSVPs:[]},{id:"19",title:"University of South-East Asia Entrepreneurship Bootcamp",description:"Intensive 2-day bootcamp for aspiring entrepreneurs. Learn business planning, funding strategies, and startup essentials from successful Cambodian entrepreneurs.",category:"Business & Networking",location:"University of South-East Asia, St. 184, Phnom Penh",date:"2025-12-15",startDate:"2025-12-15T09:00:00",endDate:"2025-12-16T17:00:00",imageUrl:"https://images.unsplash.com/photo-1552581234-26160f608093?q=80&w=2070&auto=format&fit=crop",capacity:80,featured:!0,organizerId:"usea_admin",RSVPs:[]},{id:"20",title:"International University Fashion Show",description:"Annual fashion show featuring designs by International University students, showcasing modern interpretations of traditional Cambodian clothing.",category:"Fashion & Design",location:"International University, St. 371, Phnom Penh",date:"2025-12-18",startDate:"2025-12-18T19:00:00",endDate:"2025-12-18T22:00:00",imageUrl:"https://images.unsplash.com/photo-1594736797933-d0501ba2fe65?q=80&w=2070&auto=format&fit=crop",capacity:300,featured:!0,organizerId:"iu_admin",RSVPs:[]}],Ls=Rs.reduce((e,t)=>(e[t.id]=t,e),{}),Ds=e=>e.map((e,t)=>c(c({},e),{},{imageUrl:e.imageUrl||Ps[t%Ps.length]})),Os=e=>{let{highlightedEvents:n,navigate:r}=e;const[s,i]=(0,t.useState)(0);(0,t.useEffect)(()=>{const e=setInterval(()=>{n.length>0&&i(e=>e===n.length-1?0:e+1)},5e3);return()=>clearInterval(e)},[n]);return n.length?(0,ts.jsx)("section",{className:"relative bg-gradient-to-br from-blue-50 to-indigo-100 pt-24 pb-16",children:(0,ts.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,ts.jsxs)("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[(0,ts.jsxs)("div",{className:"space-y-6",children:[(0,ts.jsxs)("h1",{className:"text-4xl lg:text-6xl font-bold text-gray-900 leading-tight font-poppins",children:["Discover Amazing",(0,ts.jsx)("span",{className:"text-blue-600 block",children:"Campus Events"})]}),(0,ts.jsx)("p",{className:"text-lg text-gray-600 leading-relaxed font-inter",children:"Connect with your community through exciting events, workshops, and activities. From academic conferences to social gatherings, find your next adventure on campus."}),(0,ts.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,ts.jsx)(As,{onClick:()=>r("/discovery"),className:"text-lg px-8 py-3",children:"Explore Events"}),(0,ts.jsx)("button",{onClick:()=>r("/signup"),className:"text-lg px-8 py-3 border-2 border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 transition-colors font-medium",children:"Join Community"})]}),(0,ts.jsxs)("div",{className:"flex items-center space-x-8 text-sm text-gray-500",children:[(0,ts.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ts.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,ts.jsx)("span",{children:"Live Events"})]}),(0,ts.jsx)("div",{className:"flex items-center space-x-2",children:(0,ts.jsx)("span",{children:"2,500+ Students"})}),(0,ts.jsx)("div",{className:"flex items-center space-x-2",children:(0,ts.jsx)("span",{children:"100+ Events Monthly"})})]})]}),(0,ts.jsx)("div",{className:"relative",children:(0,ts.jsxs)("div",{className:"relative h-96 bg-white rounded-2xl shadow-2xl overflow-hidden",children:[(0,ts.jsx)("button",{onClick:()=>{i(e=>0===e?n.length-1:e-1)},className:"absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/80 hover:bg-white rounded-full flex items-center justify-center transition-colors z-20 shadow-lg","aria-label":"Previous event",children:(0,ts.jsx)("svg",{className:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,ts.jsx)("button",{onClick:()=>{i(e=>e===n.length-1?0:e+1)},className:"absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/80 hover:bg-white rounded-full flex items-center justify-center transition-colors z-20 shadow-lg","aria-label":"Next event",children:(0,ts.jsx)("svg",{className:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),n.map((e,t)=>(0,ts.jsxs)("div",{className:"absolute inset-0 transition-opacity duration-500 cursor-pointer ".concat(t===s?"opacity-100":"opacity-0"),onClick:()=>r("/events/".concat(e.id)),children:[(0,ts.jsx)("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover",onError:e=>{e.target.src=Ps[0]}}),(0,ts.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6",children:[(0,ts.jsx)("h3",{className:"text-white text-xl font-semibold mb-1",children:e.title}),(0,ts.jsx)("p",{className:"text-white/90 text-sm",children:new Date(e.startDate||e.date).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})})]})]},e.id)),(0,ts.jsx)("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 flex space-x-3 z-10",children:n.map((e,t)=>(0,ts.jsx)("button",{onClick:e=>{e.stopPropagation(),(e=>{i(e)})(t)},className:"w-3 h-3 rounded-full transition-colors duration-300 ".concat(t===s?"bg-white":"bg-white/40"),"aria-label":"Go to slide ".concat(t+1)},t))})]})})]})})}):null},Ms=[{icon:(0,ts.jsx)("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),title:"Smart Discovery",description:"AI-powered recommendations based on your interests, academic major, and past attendance. Never miss events that matter to you.",bgColor:"bg-blue-100",hoverColor:"group-hover:bg-blue-200"},{icon:(0,ts.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),title:"Seamless Integration",description:"Sync with Google Calendar, receive smart notifications, and get reminders. Your schedule, perfectly organized.",bgColor:"bg-green-100",hoverColor:"group-hover:bg-green-200"},{icon:(0,ts.jsx)("svg",{className:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),title:"Community Building",description:"Connect with like-minded peers, build your professional network, and create meaningful relationships that last beyond graduation.",bgColor:"bg-purple-100",hoverColor:"group-hover:bg-purple-200"},{icon:(0,ts.jsx)("svg",{className:"w-8 h-8 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),title:"Real-time Updates",description:"Get instant notifications about event changes, new opportunities, and last-minute updates. Stay connected and informed.",bgColor:"bg-orange-100",hoverColor:"group-hover:bg-orange-200"},{icon:(0,ts.jsx)("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})}),title:"Easy Organization",description:"Create and manage events effortlessly with our intuitive tools. Track RSVPs, send updates, and analyze attendance.",bgColor:"bg-indigo-100",hoverColor:"group-hover:bg-indigo-200"},{icon:(0,ts.jsx)("svg",{className:"w-8 h-8 text-pink-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),title:"Personalized Experience",description:"Tailored recommendations, custom preferences, and personalized dashboard. Make CampusNex truly yours.",bgColor:"bg-pink-100",hoverColor:"group-hover:bg-pink-200"}],Fs=()=>(0,ts.jsx)("section",{className:"py-16 bg-white",children:(0,ts.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,ts.jsxs)("div",{className:"text-center mb-16",children:[(0,ts.jsx)("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4 font-poppins",children:"Why Choose CampusNex?"}),(0,ts.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto font-inter",children:"Designed specifically for university students, by students. Experience the most intuitive way to discover, join, and organize campus events."})]}),(0,ts.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:Ms.map((e,t)=>(0,ts.jsxs)("div",{className:"text-center group",children:[(0,ts.jsx)("div",{className:"w-16 h-16 ".concat(e.bgColor," rounded-xl flex items-center justify-center mx-auto mb-6 ").concat(e.hoverColor," transition-colors"),children:e.icon}),(0,ts.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-3 font-poppins",children:e.title}),(0,ts.jsx)("p",{className:"text-gray-600 font-inter",children:e.description})]},t))})]})}),Us=[{number:"2,500+",label:"Active Students",description:"Engaged community members"},{number:"150+",label:"Events Monthly",description:"Diverse opportunities"},{number:"95%",label:"Satisfaction Rate",description:"Happy participants"},{number:"50+",label:"Partner Organizations",description:"Collaborative network"}],zs=()=>(0,ts.jsx)("section",{className:"py-16 bg-gradient-to-r from-blue-600 to-indigo-700",children:(0,ts.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,ts.jsxs)("div",{className:"text-center mb-12",children:[(0,ts.jsx)("h2",{className:"text-3xl lg:text-4xl font-bold text-white mb-4 font-poppins",children:"Join the Movement"}),(0,ts.jsx)("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto font-inter",children:"Thousands of students are already discovering amazing opportunities through CampusNex"})]}),(0,ts.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:Us.map((e,t)=>(0,ts.jsxs)("div",{className:"text-center",children:[(0,ts.jsx)("div",{className:"text-4xl lg:text-5xl font-bold text-white mb-2 font-poppins",children:e.number}),(0,ts.jsx)("div",{className:"text-lg font-semibold text-blue-100 mb-1",children:e.label}),(0,ts.jsx)("div",{className:"text-blue-200 text-sm",children:e.description})]},t))}),(0,ts.jsx)("div",{className:"mt-12 text-center",children:(0,ts.jsxs)("div",{className:"inline-flex items-center space-x-2 text-blue-100",children:[(0,ts.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,ts.jsx)("span",{className:"text-sm",children:"Growing every day"})]})})]})}),Vs=[{id:1,name:"Technology",icon:"\ud83d\udcbb",color:"bg-blue-100"},{id:2,name:"Business",icon:"\ud83d\udcbc",color:"bg-green-100"},{id:3,name:"Education",icon:"\ud83c\udf93",color:"bg-purple-100"},{id:4,name:"Sports",icon:"\u26bd",color:"bg-orange-100"},{id:5,name:"Photography",icon:"\ud83d\udcf8",color:"bg-pink-100"},{id:6,name:"Food & Drinks",icon:"\ud83c\udf55",color:"bg-yellow-100"},{id:7,name:"Performing Arts",icon:"\ud83c\udfad",color:"bg-red-100"},{id:8,name:"Workshops",icon:"\ud83d\udee0\ufe0f",color:"bg-indigo-100"}],Bs=e=>{let{navigate:t}=e;return(0,ts.jsx)("section",{className:"py-16 bg-gray-50",children:(0,ts.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,ts.jsxs)("div",{className:"text-center mb-12",children:[(0,ts.jsx)("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4 font-poppins",children:"Explore Categories"}),(0,ts.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto font-inter",children:"Find events that match your interests and academic goals"})]}),(0,ts.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:Vs.map(e=>(0,ts.jsxs)("button",{onClick:()=>t("/discovery"),className:"".concat(e.color," rounded-xl p-6 text-center hover:shadow-lg transition-all duration-300 group border-2 border-transparent hover:border-gray-200"),children:[(0,ts.jsx)("div",{className:"text-3xl mb-3 group-hover:scale-110 transition-transform",children:e.icon}),(0,ts.jsx)("h3",{className:"font-semibold text-gray-900 group-hover:text-gray-800",children:e.name})]},e.id))}),(0,ts.jsx)("div",{className:"text-center mt-8",children:(0,ts.jsxs)("button",{onClick:()=>t("/discovery"),className:"text-blue-600 hover:text-blue-800 font-medium inline-flex items-center space-x-2 transition-colors",children:[(0,ts.jsx)("span",{children:"View All Categories"}),(0,ts.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})})},Hs=()=>{const e=pe(),{highlightedEvents:n,loading:r}=(()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)([]),[i,a]=(0,t.useState)([]),[o,l]=(0,t.useState)(!0),[c,u]=(0,t.useState)(null),d=e=>{const t=new Date,n=[],r=[];return e.forEach(e=>{new Date(e.startDate||e.date)<=t?n.push(e):r.push(e)}),{current:n.slice(0,4),upcoming:r.slice(0,4)}};return(0,t.useEffect)(()=>{(async()=>{try{var e;l(!0),console.log("Fetching events from API...");const t=await Xr();if(!((null===t||void 0===t||null===(e=t.events)||void 0===e?void 0:e.length)>0))throw new Error("No events found");{const e=Ds(t.events),{current:r,upcoming:i}=d(e);n(e.slice(0,3)),s(r),a(i),console.log("Successfully loaded events from API")}}catch(t){console.error("Failed to fetch events:",t),console.log("Using mock events...");const e=Ds(Rs),{current:r,upcoming:i}=d(e);n(e.slice(0,3)),s(r),a(i),u(null)}finally{l(!1)}})()},[]),{highlightedEvents:e,currentEvents:r,upcomingEvents:i,loading:o,error:c}})();return r?(0,ts.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,ts.jsx)(Ts,{}),(0,ts.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,ts.jsxs)("div",{className:"text-center",children:[(0,ts.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,ts.jsx)("p",{className:"text-gray-600",children:"Loading amazing events..."})]})}),(0,ts.jsx)(_s,{})]}):(0,ts.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,ts.jsx)(Ts,{}),(0,ts.jsx)(Os,{highlightedEvents:n,navigate:e}),(0,ts.jsx)(Fs,{}),(0,ts.jsx)(zs,{}),(0,ts.jsx)(Bs,{navigate:e}),(0,ts.jsx)("section",{className:"py-16 bg-blue-600",children:(0,ts.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,ts.jsx)("h2",{className:"text-3xl lg:text-4xl font-bold text-white mb-6 font-poppins",children:"Ready to Get Started?"}),(0,ts.jsx)("p",{className:"text-xl text-blue-100 mb-8 font-inter",children:"Join thousands of students who are already discovering amazing events and building meaningful connections."}),(0,ts.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,ts.jsx)("button",{onClick:()=>e("/signup"),className:"bg-white text-blue-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Create Account"}),(0,ts.jsx)("button",{onClick:()=>e("/discovery"),className:"border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-blue-600 transition-colors",children:"Browse Events"})]})]})}),(0,ts.jsx)(_s,{})]})},qs=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Ws=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var Ks={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Gs=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Qs=(0,t.forwardRef)((e,n)=>{let{color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:u,iconNode:d}=e,h=s(e,Gs);return(0,t.createElement)("svg",c(c(c({ref:n},Ks),{},{width:i,height:i,stroke:r,strokeWidth:o?24*Number(a)/Number(i):a,className:Ws("lucide",l)},!u&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"}),h),[...d.map(e=>{let[n,r]=e;return(0,t.createElement)(n,r)}),...Array.isArray(u)?u:[u]])}),Js=["className"],Ys=(e,n)=>{const r=(0,t.forwardRef)((r,i)=>{let{className:a}=r,o=s(r,Js);return(0,t.createElement)(Qs,c({ref:i,iconNode:n,className:Ws("lucide-".concat((l=qs(e),l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),a)},o));var l});return r.displayName=qs(e),r},$s=Ys("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),Xs=Ys("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Zs=Ys("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),ei=e=>{let{id:t,title:n,date:r,time:s,venue:i,category:a,description:o,registered:l,image:c,onJoin:u,isAuthenticated:d=!1}=e;const h=pe(),f=(null===o||void 0===o?void 0:o.length)>120?"".concat(o.substring(0,120),"..."):o;return(0,ts.jsxs)(ms,{variant:"elevated",className:"w-full flex flex-col bg-neutral-50 h-[420px] overflow-hidden",padding:"none",children:[(0,ts.jsxs)("div",{className:"relative h-48 w-full bg-neutral-200 overflow-hidden",children:[c?(0,ts.jsx)("img",{src:c,alt:n,className:"w-full h-full object-cover"}):(0,ts.jsx)("div",{className:"w-full h-full bg-gradient-to-r from-primary-50 to-secondary-50 flex items-center justify-center",children:(0,ts.jsx)("span",{className:"text-neutral-500",children:"No image available"})}),(0,ts.jsx)("div",{className:"absolute top-4 left-4",children:(0,ts.jsx)(ds,{variant:"primary",size:"md",children:a})})]}),(0,ts.jsxs)("div",{className:"flex flex-col flex-grow p-4",children:[(0,ts.jsx)("h3",{className:"text-xl font-bold text-neutral-900 mb-2",children:n}),(0,ts.jsx)("p",{className:"text-sm text-neutral-600 mb-4 flex-grow",children:f}),(0,ts.jsxs)("div",{className:"flex flex-col space-y-2 mb-4",children:[(0,ts.jsxs)("div",{className:"flex items-center text-sm text-neutral-700",children:[(0,ts.jsx)("svg",{className:"w-4 h-4 mr-2 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ts.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),i]}),(0,ts.jsxs)("div",{className:"flex items-center text-sm text-neutral-700",children:[(0,ts.jsx)("svg",{className:"w-4 h-4 mr-2 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ts.jsx)("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),r," \u2022 ",s]}),(0,ts.jsxs)("div",{className:"flex items-center text-sm font-medium text-primary-700",children:[(0,ts.jsx)("svg",{className:"w-4 h-4 mr-2 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ts.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),l," registered"]})]}),(0,ts.jsxs)("div",{className:"flex space-x-2 mt-auto",children:[(0,ts.jsx)(fs,{variant:"tertiary",size:"sm",onClick:()=>{h("/events/".concat(t))},className:"flex-1",children:"View Details"}),(0,ts.jsx)(fs,{variant:"primary",size:"sm",onClick:u,className:"flex-1",title:d?"":"Login required to join events",children:d?"Join Now":"Join (Login Required)"})]})]})]})},ti=e=>{let{result:t,onClose:n}=e;if(!t||!t.success)return null;const r="attending"===t.type;return(0,ts.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ts.jsx)("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full",children:(0,ts.jsxs)("div",{className:"p-8 text-center",children:[(0,ts.jsx)("div",{className:"w-20 h-20 rounded-full mx-auto mb-6 flex items-center justify-center ".concat(r?"bg-green-100":"bg-orange-100"),children:r?(0,ts.jsx)("svg",{className:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):(0,ts.jsx)("svg",{className:"w-10 h-10 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,ts.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:r?"RSVP Confirmed!":"Response Recorded"}),(0,ts.jsx)("div",{className:"border rounded-lg p-4 mb-6 ".concat(r?"bg-green-50 border-green-200":"bg-orange-50 border-orange-200"),children:(0,ts.jsx)("p",{className:"text-lg font-medium ".concat(r?"text-green-800":"text-orange-800"),children:t.message})}),r&&(0,ts.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-6",children:(0,ts.jsx)("p",{className:"text-sm text-blue-800",children:"\ud83d\udcc5 Don't forget to add this event to your calendar!"})}),(0,ts.jsx)("button",{onClick:n,className:"w-full font-semibold py-3 px-6 rounded-lg transition-colors ".concat(r?"bg-green-600 hover:bg-green-700 text-white":"bg-orange-600 hover:bg-orange-700 text-white"),children:r?"Great, See You There!":"Got It"})]})})})},ni=e=>{let{isOpen:t,onClose:n,event:r,onConfirm:s}=e;if(!t||!r)return null;return(0,ts.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ts.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[(0,ts.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-t-2xl relative",children:[(0,ts.jsx)("button",{onClick:n,className:"absolute top-4 right-4 text-white hover:text-gray-200 transition-colors",children:(0,ts.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,ts.jsxs)("div",{className:"flex items-center gap-4",children:[(0,ts.jsx)("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:(0,ts.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("h2",{className:"text-xl font-bold",children:"Join Event"}),(0,ts.jsx)("p",{className:"text-blue-100 text-sm",children:"Confirm your attendance"})]})]})]}),(0,ts.jsxs)("div",{className:"p-6",children:[(0,ts.jsxs)("div",{className:"mb-6",children:[(0,ts.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:r.title}),r.imageUrl&&(0,ts.jsx)("div",{className:"mb-4",children:(0,ts.jsx)("img",{src:r.imageUrl,alt:r.title,className:"w-full h-48 object-cover rounded-lg"})}),(0,ts.jsxs)("div",{className:"space-y-3",children:[(0,ts.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ts.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,ts.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("div",{className:"font-semibold text-gray-900",children:(i=r.startDate,new Date(i).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}))}),(0,ts.jsx)("div",{className:"text-sm text-gray-600",children:((e,t)=>{const n=new Date(e),r=new Date(t);return"".concat(n.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})," - ").concat(r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}))})(r.startDate,r.endDate)})]})]}),(0,ts.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ts.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:(0,ts.jsxs)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("div",{className:"font-semibold text-gray-900",children:r.location}),(0,ts.jsx)("div",{className:"text-sm text-gray-600",children:"Event Location"})]})]}),(0,ts.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ts.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,ts.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("div",{className:"font-semibold text-gray-900",children:r.category}),(0,ts.jsx)("div",{className:"text-sm text-gray-600",children:"Category"})]})]})]}),r.description&&(0,ts.jsx)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:(0,ts.jsx)("p",{className:"text-gray-700 text-sm",children:r.description})})]}),(0,ts.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:(0,ts.jsxs)("div",{className:"flex items-start gap-3",children:[(0,ts.jsx)("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:(0,ts.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("h4",{className:"font-semibold text-blue-900 mb-1",children:"Ready to join this event?"}),(0,ts.jsx)("p",{className:"text-blue-800 text-sm",children:"By confirming, you'll be added to the attendee list and receive updates about this event."})]})]})}),(0,ts.jsxs)("div",{className:"flex gap-3",children:[(0,ts.jsxs)("button",{onClick:()=>s(r.id,"attending"),className:"flex-1 bg-green-500 hover:bg-green-600 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,ts.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Yes, I'll Join!"]}),(0,ts.jsx)("button",{onClick:n,className:"flex-1 bg-gray-400 hover:bg-gray-500 text-white font-semibold py-3 px-6 rounded-lg transition-colors",children:"Cancel"})]}),(0,ts.jsx)("div",{className:"mt-4 text-center",children:(0,ts.jsx)("button",{onClick:()=>s(r.id,"not-attending"),className:"text-orange-600 hover:text-orange-700 text-sm font-medium underline",children:"Not interested in this event"})})]})]})});var i},ri=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(!0),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)({category:"All",location:"All",date:"All",search:""}),[u,d]=(0,t.useState)(0),[h,f]=(0,t.useState)(!1),[p,m]=(0,t.useState)({success:!1,message:""}),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(""),[x,w]=(0,t.useState)(!1),[k,N]=(0,t.useState)(null),[S,E]=(0,t.useState)(!1),[j,C]=(0,t.useState)(["All"]),[T,_]=(0,t.useState)(["All"]),I=pe(),{isAuthenticated:A}=rs();(0,t.useEffect)(()=>{(async()=>{try{s(!0),console.log("Attempting to fetch events from API...");const e=await Xr();n(e.events);const t=["All",...new Set(e.events.map(e=>e.category))];C(t.filter(Boolean));const r=["All",...new Set(e.events.map(e=>e.location))];_(r.filter(Boolean)),a(""),console.log("Successfully loaded events from API:",e.events.length)}catch(e){console.error("Error fetching events from API:",e),console.log("Using mock data instead..."),n(Rs),C(["All","Academic","Sports","Cultural","Social","Career","Workshop"]),_(["All","Main Campus","Library","Auditorium","Sports Complex","Student Center"]),a("")}finally{s(!1)}})()},[]);const P=()=>{u<F.length-1&&!g&&(v(!0),b("left"),setTimeout(()=>{d(e=>e+1),b(""),setTimeout(()=>v(!1),100)},200))},R=()=>{u>0&&!g&&(v(!0),b("right"),setTimeout(()=>{d(e=>e-1),b(""),setTimeout(()=>v(!1),100)},200))},[L,D]=(0,t.useState)(null),[O,M]=(0,t.useState)(null),F=e.filter(e=>{const t="All"===o.category||e.category===o.category,n="All"===o.location||e.location===o.location;let r=!0;if(o.search&&""!==o.search.trim()){var s,i,a,l,c;const t=o.search.toLowerCase().trim(),n=(null===(s=e.title)||void 0===s?void 0:s.toLowerCase())||"",u=(null===(i=e.description)||void 0===i?void 0:i.toLowerCase())||"",d=(null===(a=e.organizer)||void 0===a?void 0:a.toLowerCase())||"",h=(null===(l=e.location)||void 0===l?void 0:l.toLowerCase())||"",f=(null===(c=e.category)||void 0===c?void 0:c.toLowerCase())||"";r=n.includes(t)||u.includes(t)||d.includes(t)||h.includes(t)||f.includes(t)}let u=!0;if("All"!==o.date){const t=new Date(e.startDate),n=new Date;if("Today"===o.date)u=t.toDateString()===n.toDateString();else if("This Week"===o.date){const e=new Date(n);e.setDate(n.getDate()-n.getDay());const r=new Date(e);r.setDate(e.getDate()+6),u=t>=e&&t<=r}else"This Month"===o.date&&(u=t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear())}return t&&n&&u&&r});return r?(0,ts.jsxs)("div",{className:"min-h-screen bg-white flex flex-col",children:[(0,ts.jsx)(Ts,{}),(0,ts.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,ts.jsx)("p",{className:"text-xl",children:"Loading events..."})}),(0,ts.jsx)(_s,{})]}):i?(0,ts.jsxs)("div",{className:"min-h-screen bg-white flex flex-col",children:[(0,ts.jsx)(Ts,{}),(0,ts.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center",children:[(0,ts.jsx)("p",{className:"text-xl text-red-500 mb-4",children:i}),(0,ts.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-orange-500 text-white px-6 py-2 rounded font-semibold",children:"Try Again"})]}),(0,ts.jsx)(_s,{})]}):(0,ts.jsxs)("div",{className:"min-h-screen bg-white flex flex-col",children:[(0,ts.jsx)(Ts,{}),(0,ts.jsxs)("main",{className:"flex-1 pt-24 pb-12 px-4",children:[(0,ts.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,ts.jsx)("h1",{className:"text-4xl font-bold text-royal-blue mb-8 text-center",children:"Discover Events"}),!A&&(0,ts.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:(0,ts.jsxs)("p",{className:"text-blue-800 text-center",children:[(0,ts.jsx)("span",{className:"font-semibold",children:"Welcome!"})," You can browse all events below.",(0,ts.jsxs)("span",{className:"ml-1",children:[(0,ts.jsx)("a",{href:"/login",className:"text-blue-600 hover:text-blue-800 underline",children:"Sign in"})," or",(0,ts.jsx)("a",{href:"/signup",className:"text-blue-600 hover:text-blue-800 underline ml-1",children:"create an account"})," to join events."]})]})}),(0,ts.jsxs)("div",{className:"mb-6",children:[(0,ts.jsxs)("div",{className:"relative max-w-lg mx-auto mb-4",children:[(0,ts.jsx)($s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,ts.jsx)("input",{type:"text",placeholder:"Search events by name, description, organizer...",value:o.search||"",onChange:e=>l(c(c({},o),{},{search:e.target.value})),className:"w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",disabled:r}),o.search&&(0,ts.jsx)("button",{onClick:()=>l(c(c({},o),{},{search:""})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:r,children:(0,ts.jsx)(Xs,{size:20})})]}),(0,ts.jsx)("div",{className:"text-center mb-4",children:(0,ts.jsxs)("button",{onClick:()=>E(!S),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-lg transition-all duration-300 border border-blue-200",children:[(0,ts.jsx)(Zs,{size:18}),(0,ts.jsx)("span",{children:S?"Hide Filters":"Show Filters"})]})}),S&&(0,ts.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,ts.jsxs)("div",{className:"flex flex-wrap gap-4 justify-center items-center",children:[(0,ts.jsxs)("div",{className:"flex flex-col",children:[(0,ts.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,ts.jsx)("select",{className:"px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[140px]",value:o.category,onChange:e=>l(c(c({},o),{},{category:e.target.value})),disabled:r,children:j.map(e=>(0,ts.jsx)("option",{value:e,children:e},e))})]}),(0,ts.jsxs)("div",{className:"flex flex-col",children:[(0,ts.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"Location"}),(0,ts.jsx)("select",{className:"px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[140px]",value:o.location,onChange:e=>l(c(c({},o),{},{location:e.target.value})),disabled:r,children:T.map(e=>(0,ts.jsx)("option",{value:e,children:e},e))})]}),(0,ts.jsxs)("div",{className:"flex flex-col",children:[(0,ts.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"Date"}),(0,ts.jsx)("select",{className:"px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[140px]",value:o.date,onChange:e=>l(c(c({},o),{},{date:e.target.value})),disabled:r,children:["All","Today","This Week","This Month"].map(e=>(0,ts.jsx)("option",{value:e,children:e},e))})]}),(0,ts.jsx)("div",{className:"flex flex-col justify-end",children:(0,ts.jsx)("button",{onClick:()=>l({category:"All",location:"All",date:"All",search:""}),className:"px-4 py-2 bg-red-50 hover:bg-red-100 text-red-700 rounded-lg transition-all duration-300 border border-red-200 whitespace-nowrap",disabled:r,children:"Clear All"})})]}),("All"!==o.category||"All"!==o.location||"All"!==o.date||o.search)&&(0,ts.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,ts.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:"Active filters:"}),(0,ts.jsxs)("div",{className:"flex flex-wrap gap-2",children:[o.search&&(0,ts.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:['Search: "',o.search,'"',(0,ts.jsx)("button",{onClick:()=>l(c(c({},o),{},{search:""})),className:"hover:text-blue-900",children:(0,ts.jsx)(Xs,{size:14})})]}),"All"!==o.category&&(0,ts.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm",children:["Category: ",o.category,(0,ts.jsx)("button",{onClick:()=>l(c(c({},o),{},{category:"All"})),className:"hover:text-green-900",children:(0,ts.jsx)(Xs,{size:14})})]}),"All"!==o.location&&(0,ts.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm",children:["Location: ",o.location,(0,ts.jsx)("button",{onClick:()=>l(c(c({},o),{},{location:"All"})),className:"hover:text-purple-900",children:(0,ts.jsx)(Xs,{size:14})})]}),"All"!==o.date&&(0,ts.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm",children:["Date: ",o.date,(0,ts.jsx)("button",{onClick:()=>l(c(c({},o),{},{date:"All"})),className:"hover:text-orange-900",children:(0,ts.jsx)(Xs,{size:14})})]})]})]})]})]}),F.length>0?(0,ts.jsxs)("div",{className:"relative max-w-xl mx-auto mt-10",children:[(0,ts.jsx)("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-20",children:(0,ts.jsx)("button",{onClick:R,disabled:0===u||g,className:"w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 shadow-lg ".concat(u>0&&!g?"bg-white hover:bg-blue-50 text-blue-600 hover:scale-110 cursor-pointer":"bg-gray-100 text-gray-400 cursor-not-allowed"),children:(0,ts.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})}),(0,ts.jsx)("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 z-20",children:(0,ts.jsx)("button",{onClick:P,disabled:u===F.length-1||g,className:"w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 shadow-lg ".concat(u<F.length-1&&!g?"bg-white hover:bg-blue-50 text-blue-600 hover:scale-110 cursor-pointer":"bg-gray-100 text-gray-400 cursor-not-allowed"),children:(0,ts.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})}),(0,ts.jsxs)("div",{className:"relative h-[700px] overflow-hidden rounded-2xl",onTouchStart:e=>{M(null),D(e.targetTouches[0].clientX)},onTouchMove:e=>{M(e.targetTouches[0].clientX)},onTouchEnd:()=>{if(!L||!O)return;const e=L-O,t=e<-50;e>50?P():t&&R()},children:[(0,ts.jsx)("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-30",children:(0,ts.jsx)("div",{className:"bg-black/20 backdrop-blur-sm text-white px-3 py-1 rounded-full text-sm",children:"Swipe or use arrows to navigate"})}),F.map((t,n)=>{var r,s,i;let a="translateX(100%)",o="0",l="0.9",c="0";return n===u?(a="left"===y?"translateX(-100%)":"right"===y?"translateX(100%)":"translateX(0)",o=y?"0":"1",l="1",c="10"):n===u-1?(a="right"===y?"translateX(0)":"translateX(-100%)",o="right"===y?"1":"0",l="right"===y?"1":"0.9",c="right"===y?"10":"0"):n===u+1&&(a="left"===y?"translateX(0)":"translateX(100%)",o="left"===y?"1":"0",l="left"===y?"1":"0.9",c="left"===y?"10":"0"),(0,ts.jsx)("div",{className:"absolute inset-0 transition-all duration-300 ease-out",style:{transform:"".concat(a," scale(").concat(l,")"),opacity:o,zIndex:c},children:(0,ts.jsx)(ei,{id:t.id,title:t.title,date:new Date(t.startDate).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"}),time:"".concat(new Date(t.startDate).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})," - ").concat(new Date(t.endDate).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})),venue:t.location,category:t.category,description:(null===(r=t.description)||void 0===r?void 0:r.substring(0,150))+((null===(s=t.description)||void 0===s?void 0:s.length)>150?"...":""),registered:(null===(i=t.RSVPs)||void 0===i?void 0:i.filter(e=>"attending"===e.status).length)||0,image:t.imageUrl,onJoin:()=>(t=>{if(!A)return void I("/login",{state:{from:"/discovery"}});const n=e.find(e=>e.id===t);N(n),w(!0)})(t.id),isAuthenticated:A})},t.id)})]}),(0,ts.jsxs)("p",{className:"text-center mt-4",children:["Event ",u+1," of ",F.length]})]}):(0,ts.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,ts.jsx)("p",{className:"text-xl text-gray-500",children:"No events match your filters."})})]}),h&&(0,ts.jsx)(ti,{result:p,onClose:()=>{f(!1),m({success:!1,message:""})}}),x&&(0,ts.jsx)(ni,{isOpen:x,onClose:()=>w(!1),event:k,onConfirm:async(e,t)=>{w(!1);try{await Zr(e,t),m({success:!0,message:"attending"===t?"RSVP Confirmed! We're Excited To See You There.":"Thank For Letting Us Know We'll Miss You",type:t}),f(!0)}catch(n){console.log("RSVP failed, showing mock success for demo:",n),m({success:!0,message:"attending"===t?"RSVP Confirmed! We're Excited To See You There. (Demo mode)":"Thank For Letting Us Know We'll Miss You (Demo mode)",type:t}),f(!0)}}})]}),(0,ts.jsx)(_s,{})]})},si=e=>{if(!e)return"";const t=e=>new Date(e).toISOString().replace(/[-:]/g,"").replace(/\.\d{3}/,""),n=t(e.startDate),r=t(e.endDate),s=new URLSearchParams({text:e.title||"Event",dates:"".concat(n,"/").concat(r),details:e.description||"Event created via CampusNex",location:e.location||"",ctz:Intl.DateTimeFormat().resolvedOptions().timeZone});return"".concat("https://calendar.google.com/calendar/render?action=TEMPLATE","&").concat(s.toString())},ii=e=>{const t=si(e);window.open(t,"_blank","width=600,height=600")},ai=e=>{if(!e)return"";const t=e=>new Date(e).toISOString().replace(/[-:]/g,"").replace(/\.\d{3}/,""),n=t(e.startDate),r=t(e.endDate),s=t(new Date);return"BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//CampusNex//Event Calendar//EN\nBEGIN:VEVENT\nUID:".concat(e.id||Date.now(),"@campusnex.com\nDTSTAMP:").concat(s,"\nDTSTART:").concat(n,"\nDTEND:").concat(r,"\nSUMMARY:").concat(e.title||"Event","\nDESCRIPTION:").concat(e.description||"Event created via CampusNex","\nLOCATION:").concat(e.location||"","\nSTATUS:CONFIRMED\nEND:VEVENT\nEND:VCALENDAR")},oi=e=>{const t=ai(e),n=new Blob([t],{type:"text/calendar;charset=utf-8"}),r=document.createElement("a");r.href=window.URL.createObjectURL(n),r.download="".concat(e.title||"event",".ics"),r.click(),window.URL.revokeObjectURL(r.href)},li=e=>[{name:"Google Calendar",icon:"\ud83d\udcc5",action:()=>ii(e),color:"bg-blue-600 hover:bg-blue-700"},{name:"Download .ics",icon:"\ud83d\udce5",action:()=>oi(e),color:"bg-green-600 hover:bg-green-700"},{name:"Apple Calendar",icon:"\ud83c\udf4e",action:()=>oi(e),color:"bg-gray-600 hover:bg-gray-700"}],ci=e=>{let{isOpen:n,onClose:r,event:s,onConfirm:i,onCancel:a}=e;const[o,l]=(0,t.useState)({eventReminders:!0,scheduleUpdate:!0,emailUpdate:!0}),[u,d]=(0,t.useState)(!0),[h,f]=(0,t.useState)(!1),p=e=>{l(t=>c(c({},t),{},{[e]:!t[e]}))};return n?(0,ts.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ts.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[(0,ts.jsxs)("div",{className:"bg-blue-600 text-white p-6 rounded-t-2xl relative",children:[(0,ts.jsx)("button",{onClick:r,className:"absolute top-4 right-4 text-white hover:text-gray-200 transition-colors",children:(0,ts.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,ts.jsx)("h2",{className:"text-xl font-bold mb-1",children:null===s||void 0===s?void 0:s.title}),(0,ts.jsx)("p",{className:"text-blue-100 text-sm",children:"Join For An Amazing Event"})]}),(0,ts.jsxs)("div",{className:"p-6",children:[(0,ts.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,ts.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ts.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,ts.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("div",{className:"font-semibold text-gray-900",children:(m=null===s||void 0===s?void 0:s.startDate,new Date(m).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric",year:"numeric"}))}),(0,ts.jsx)("div",{className:"text-sm text-gray-600",children:((e,t)=>{const n=new Date(e),r=new Date(t);return"".concat(n.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})," - ").concat(r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}))})(null===s||void 0===s?void 0:s.startDate,null===s||void 0===s?void 0:s.endDate)})]})]}),(0,ts.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ts.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:(0,ts.jsxs)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("div",{className:"font-semibold text-gray-900",children:null===s||void 0===s?void 0:s.location}),(0,ts.jsx)("div",{className:"text-sm text-gray-600",children:"Event Location"})]})]})]}),(0,ts.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[(0,ts.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,ts.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:(0,ts.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("div",{className:"font-semibold text-gray-900",children:"Add to Calendar"}),(0,ts.jsx)("div",{className:"text-xs text-gray-600",children:"Save this event to your calendar with all details and reminders"})]})]}),h?(0,ts.jsxs)("div",{className:"space-y-2",children:[li(s).map((e,t)=>(0,ts.jsxs)("button",{onClick:()=>(e=>{e.action(),f(!1)})(e),className:"w-full py-2 px-4 rounded-lg font-medium transition-colors text-white ".concat(e.color," flex items-center justify-center gap-2"),children:[(0,ts.jsx)("span",{children:e.icon}),e.name]},t)),(0,ts.jsx)("button",{onClick:()=>f(!1),className:"w-full py-1 px-4 rounded-lg font-medium transition-colors bg-gray-200 text-gray-700 hover:bg-gray-300 text-sm",children:"Cancel"})]}):(0,ts.jsx)("button",{onClick:()=>f(!0),className:"w-full py-2 px-4 rounded-lg font-medium transition-colors bg-blue-600 text-white hover:bg-blue-700",children:(0,ts.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,ts.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Choose Calendar"]})}),(0,ts.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[(0,ts.jsx)("input",{type:"checkbox",id:"addToCalendar",checked:u,onChange:e=>d(e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,ts.jsx)("label",{htmlFor:"addToCalendar",className:"text-sm text-gray-700",children:"Automatically open calendar when confirming RSVP"})]})]}),(0,ts.jsxs)("div",{className:"mb-6",children:[(0,ts.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Notification Preference"}),(0,ts.jsxs)("div",{className:"space-y-3",children:[(0,ts.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ts.jsx)("span",{className:"text-gray-700",children:"Event Reminders"}),(0,ts.jsx)("button",{onClick:()=>p("eventReminders"),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(o.eventReminders?"bg-green-500":"bg-gray-300"),children:(0,ts.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(o.eventReminders?"translate-x-6":"translate-x-1")})})]}),(0,ts.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ts.jsx)("span",{className:"text-gray-700",children:"Schedule Update"}),(0,ts.jsx)("button",{onClick:()=>p("scheduleUpdate"),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(o.scheduleUpdate?"bg-green-500":"bg-gray-300"),children:(0,ts.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(o.scheduleUpdate?"translate-x-6":"translate-x-1")})})]}),(0,ts.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ts.jsx)("span",{className:"text-gray-700",children:"Email Update"}),(0,ts.jsx)("button",{onClick:()=>p("emailUpdate"),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(o.emailUpdate?"bg-green-500":"bg-gray-300"),children:(0,ts.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(o.emailUpdate?"translate-x-6":"translate-x-1")})})]})]})]}),(0,ts.jsxs)("div",{className:"flex gap-3",children:[(0,ts.jsxs)("button",{onClick:()=>{u&&s&&ii(s),i({notifications:o,addToCalendar:u})},className:"flex-1 bg-green-500 hover:bg-green-600 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,ts.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Yes, I'll Attend"]}),(0,ts.jsxs)("button",{onClick:()=>a("not-attending"),className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,ts.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),"Can't Make It"]})]})]})]})}):null;var m},ui=e=>{let{isOpen:t,onClose:n,event:r,rsvpType:s="attending"}=e;if(!t)return null;const i="attending"===s;return(0,ts.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ts.jsx)("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full",children:(0,ts.jsxs)("div",{className:"p-8 text-center",children:[(0,ts.jsx)("div",{className:"w-16 h-16 rounded-full mx-auto mb-6 flex items-center justify-center ".concat(i?"bg-green-100":"bg-orange-100"),children:i?(0,ts.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):(0,ts.jsx)("svg",{className:"w-8 h-8 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,ts.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:i?"RSVP Confirmed!":"Thanks for Letting Us Know"}),(0,ts.jsxs)("div",{className:"border rounded-lg p-4 mb-6 ".concat(i?"bg-green-50 border-green-200":"bg-orange-50 border-orange-200"),children:[(0,ts.jsx)("p",{className:"text-lg font-medium ".concat(i?"text-green-800":"text-orange-800"),children:i?"RSVP Confirmed! We're Excited To See You There.":"Thank For Letting Us Know We'll Miss You"}),r&&(0,ts.jsxs)("div",{className:"mt-3 pt-3 border-t border-opacity-20 border-current",children:[(0,ts.jsxs)("p",{className:"text-sm ".concat(i?"text-green-700":"text-orange-700"),children:["Event: ",(0,ts.jsx)("span",{className:"font-semibold",children:r.title})]}),r.startDate&&(0,ts.jsxs)("p",{className:"text-sm ".concat(i?"text-green-700":"text-orange-700"),children:["Date: ",new Date(r.startDate).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})]})]})]}),i&&(0,ts.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-6",children:(0,ts.jsx)("p",{className:"text-sm text-blue-800",children:"\ud83d\udcc5 Don't forget to add this event to your calendar!"})}),(0,ts.jsx)("button",{onClick:n,className:"w-full font-semibold py-3 px-6 rounded-lg transition-colors ".concat(i?"bg-green-600 hover:bg-green-700 text-white":"bg-orange-600 hover:bg-orange-700 text-white"),children:i?"Great, See You There!":"Got It"})]})})})},di=()=>{var e;const{id:n}=me(),r=pe(),{user:s,isAuthenticated:i}=rs(),[a,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(!0),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)(""),[p,m]=(0,t.useState)(!1),[g,v]=(0,t.useState)({success:!1,message:""}),[y,b]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=async()=>{try{c(!0),console.log("Attempting to fetch event from API..."),console.log("Event ID from useParams:",n),console.log("Event ID type:",typeof n);const e=await(async e=>{try{return(await Yr.get("/events/".concat(e))).data}catch(u){var t;throw(null===(t=u.response)||void 0===t?void 0:t.data)||{message:"Failed to get event details"}}})(n);if(o(e.event),i&&e.event.RSVPs){const t=e.event.RSVPs.find(e=>e.userId===(null===s||void 0===s?void 0:s.id));t&&f(t.status)}console.log("Successfully loaded event from API")}catch(u){console.error("Error fetching event from API:",u),console.log("Using mock event data...");const t=(e=>Ls[e]||null)(n);if(t){if(o(t),i&&t.RSVPs){const e=t.RSVPs.find(e=>e.userId===(null===s||void 0===s?void 0:s.id));e&&f(e.status)}d("")}else d("Event not found.")}finally{c(!1)}};n?e():(d("Event ID is missing."),c(!1))},[n,i,s]);const x=e=>{i?"attending"===e&&"attending"!==h?b(!0):w(e):r("/login",{state:{from:"/events/".concat(n)}})},w=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{await Zr(n,e),f(e),v({success:!0,message:"attending"===e?"You are now attending this event!":"interested"===e?"You've marked interest in this event!":"You've declined this event."}),m(!0),t.addToCalendar&&"attending"===e&&console.log("Adding to Google Calendar with preferences:",t.notifications)}catch(u){console.log("RSVP failed, showing demo success:",u),f(e),v({success:!0,message:"attending"===e?"You are now attending this event! (Demo mode)":"interested"===e?"You've marked interest in this event! (Demo mode)":"You've declined this event. (Demo mode)"}),m(!0)}};return l?(0,ts.jsxs)("div",{className:"min-h-screen bg-white flex flex-col",children:[(0,ts.jsx)(Ts,{}),(0,ts.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,ts.jsx)("p",{className:"text-xl",children:"Loading event details..."})}),(0,ts.jsx)(_s,{})]}):u||!a?(0,ts.jsxs)("div",{className:"min-h-screen bg-white flex flex-col",children:[(0,ts.jsx)(Ts,{}),(0,ts.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center",children:[(0,ts.jsx)("p",{className:"text-xl text-red-500 mb-4",children:u||"Event not found"}),(0,ts.jsx)("button",{onClick:()=>r("/discovery"),className:"bg-orange-500 text-white px-6 py-2 rounded font-semibold",children:"Back to Events"})]}),(0,ts.jsx)(_s,{})]}):(0,ts.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,ts.jsx)(Ts,{}),(0,ts.jsxs)("main",{className:"flex-1 pt-24 pb-8 px-4",children:[(0,ts.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,ts.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,ts.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-lg shadow-sm p-8",children:[(0,ts.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:a.title}),(0,ts.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ts.jsx)("div",{className:"w-2 h-2 bg-gray-900 rounded-full mr-3"}),(0,ts.jsxs)("div",{className:"text-gray-900",children:[(0,ts.jsx)("div",{className:"font-semibold",children:new Date(a.startDate).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric",year:"numeric"})}),(0,ts.jsxs)("div",{className:"text-sm text-gray-600",children:[new Date(a.startDate).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})," - ",new Date(a.endDate).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})]})]})]}),(0,ts.jsxs)("div",{className:"text-gray-600 mb-6",children:["Located in ",(0,ts.jsx)("span",{className:"font-medium text-gray-900",children:a.location})]}),(0,ts.jsx)("div",{className:"lg:hidden mb-6",children:(0,ts.jsx)("button",{className:"w-full py-3 px-6 rounded-lg font-semibold transition-colors ".concat("attending"===h?"bg-green-600 text-white":"bg-orange-500 hover:bg-orange-600 text-white"," ").concat(i?"":"opacity-75"),onClick:()=>x("attending"===h?"not_attending":"attending"),title:i?"":"Please login to RSVP",children:"attending"===h?"Attending \u2713":i?"Join Now":"Join Now (Login Required)"})}),(0,ts.jsxs)("div",{className:"mb-8",children:[(0,ts.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"About"}),(0,ts.jsx)("div",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:a.description})]}),a.requirements&&a.requirements.length>0&&(0,ts.jsxs)("div",{className:"mb-8",children:[(0,ts.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Requirements"}),(0,ts.jsx)("ul",{className:"space-y-2",children:a.requirements.map((e,t)=>(0,ts.jsx)("li",{className:"text-gray-700",children:e},t))})]}),a.benefits&&a.benefits.length>0&&(0,ts.jsxs)("div",{className:"mb-8",children:[(0,ts.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Benefit"}),(0,ts.jsx)("ul",{className:"space-y-2",children:a.benefits.map((e,t)=>(0,ts.jsx)("li",{className:"text-gray-700",children:e},t))})]}),(0,ts.jsxs)("div",{className:"border-t pt-6",children:[(0,ts.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Organizer"}),(0,ts.jsxs)("div",{className:"flex items-center gap-4",children:[(0,ts.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:(0,ts.jsx)("svg",{className:"w-6 h-6 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("div",{className:"font-semibold text-gray-900",children:a.organizer?"".concat(a.organizer.firstName||""," ").concat(a.organizer.lastName||"").trim()||a.organizer.name:"CampusNex Organizer"}),(0,ts.jsx)("div",{className:"text-sm text-gray-600",children:"Event Organizer"})]})]}),(0,ts.jsx)("button",{className:"mt-4 text-blue-600 hover:text-blue-800 font-medium",children:"Contact Us"})]})]}),(0,ts.jsx)("div",{className:"lg:col-span-1",children:(0,ts.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden sticky top-8",children:[(0,ts.jsx)("div",{className:"aspect-video bg-gray-200",children:a.imageUrl?(0,ts.jsx)("img",{src:a.imageUrl,alt:a.title,className:"w-full h-full object-cover"}):(0,ts.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,ts.jsx)("svg",{className:"w-16 h-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),(0,ts.jsxs)("div",{className:"p-6",children:[!i&&(0,ts.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:(0,ts.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,ts.jsx)("a",{href:"/login",className:"font-medium text-blue-600 hover:text-blue-800 underline",children:"Sign in"})," or",(0,ts.jsx)("a",{href:"/signup",className:"font-medium text-blue-600 hover:text-blue-800 underline ml-1",children:"create account"})," to RSVP"]})}),a.capacity&&(0,ts.jsxs)("div",{className:"mb-4 text-center",children:[(0,ts.jsx)("div",{className:"text-2xl font-bold text-orange-500",children:a.capacity-((null===(e=a.RSVPs)||void 0===e?void 0:e.filter(e=>"attending"===e.status).length)||0)}),(0,ts.jsx)("div",{className:"text-sm text-gray-600",children:"Spots Left"})]}),(0,ts.jsxs)("div",{className:"space-y-3",children:[(0,ts.jsx)("button",{className:"w-full py-3 px-6 rounded-lg font-semibold transition-colors ".concat("attending"===h?"bg-green-600 text-white":"bg-orange-500 hover:bg-orange-600 text-white"," ").concat(i?"":"opacity-75"),onClick:()=>x("attending"===h?"not_attending":"attending"),title:i?"":"Please login to RSVP",children:"attending"===h?"Attending \u2713":i?"Join Now":"Join Now (Login Required)"}),"attending"!==h&&(0,ts.jsx)("button",{className:"w-full py-2 px-6 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50 transition-colors ".concat(i?"":"opacity-75"),onClick:()=>x("interested"),title:i?"":"Please login to show interest",children:"interested"===h?"Interested \u2713":i?"Interested":"Interested (Login Required)"})]}),(0,ts.jsx)("div",{className:"mt-4 pt-4 border-t",children:(0,ts.jsx)("span",{className:"inline-block bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full",children:a.category})})]})]})})]})}),p&&(0,ts.jsx)(ui,{isOpen:p,onClose:()=>{m(!1)},event:a,result:g}),y&&(0,ts.jsx)(ci,{isOpen:y,onClose:()=>b(!1),event:a,onConfirm:e=>{b(!1),w("attending",e)},onCancel:()=>{b(!1),w("not_attending")}})]}),(0,ts.jsx)(_s,{})]})},hi=Ys("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),fi=Ys("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),pi=Ys("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),mi=Ys("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),gi=Ys("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),vi=e=>{let{to:t="/"}=e;const n=pe();return(0,ts.jsxs)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),console.log("BackButton clicked, navigating to:",t),n(t)},className:"fixed top-6 left-6 z-50 flex items-center gap-2 px-4 py-2 bg-blue-600 text-white border border-blue-700 rounded-lg hover:bg-blue-700 hover:shadow-lg transition-all duration-300 hover:scale-105 cursor-pointer shadow-md",style:{position:"fixed"},children:[(0,ts.jsx)(gi,{size:18}),(0,ts.jsx)("span",{className:"font-medium",children:"Back to Home"})]})},yi=()=>{var e;const[n,r]=(0,t.useState)(""),[s,i]=(0,t.useState)(""),[a,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(!1),h=pe(),f=de(),{login:p}=rs(),m=(null===(e=f.state)||void 0===e?void 0:e.from)||"/discovery",g=async e=>{c(""),d(!0);try{"Google"===e?await(async()=>{try{const e="https://campusnex-production.up.railway.app/api";window.location.href="".concat(e,"/auth/google")}catch(l){throw console.error("Google login error:",l),new Error("Failed to initiate Google login")}})():"Facebook"===e&&await(async()=>{c("Not implemented in the new API yet. Please use email login.")})()}catch(t){c(t.message||"Failed to login with ".concat(e,". Please try again."))}finally{d(!1)}};return(0,ts.jsxs)("div",{className:"min-h-screen flex relative",children:[(0,ts.jsx)(vi,{}),(0,ts.jsxs)("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-blue-900 via-blue-800 to-indigo-900 relative overflow-hidden",children:[(0,ts.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,ts.jsx)("div",{className:"absolute top-20 left-20 w-72 h-72 bg-white rounded-full mix-blend-overlay filter blur-xl animate-pulse-slow"}),(0,ts.jsx)("div",{className:"absolute top-40 right-20 w-72 h-72 bg-purple-300 rounded-full mix-blend-overlay filter blur-xl animate-pulse-slow",style:{animationDelay:"2s"}}),(0,ts.jsx)("div",{className:"absolute -bottom-8 left-40 w-72 h-72 bg-blue-300 rounded-full mix-blend-overlay filter blur-xl animate-pulse-slow",style:{animationDelay:"4s"}})]}),(0,ts.jsx)("div",{className:"relative z-10 flex flex-col justify-center items-start px-16 text-white",children:(0,ts.jsxs)("div",{className:"animate-fadeInUp",children:[(0,ts.jsxs)("h1",{className:"text-5xl font-bold mb-6 leading-tight",children:["Discover Your",(0,ts.jsx)("br",{}),(0,ts.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-200 to-purple-200",children:"Future"}),(0,ts.jsx)("br",{}),"One Swipe at a Time!"]}),(0,ts.jsx)("p",{className:"text-xl opacity-90 leading-relaxed",children:"Connect with opportunities that match your ambitions. Your next career breakthrough is just a login away."})]})})]}),(0,ts.jsx)("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-gray-50",children:(0,ts.jsx)("div",{className:"w-full max-w-md animate-fadeInUp",style:{animationDelay:"0.3s"},children:(0,ts.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 border border-gray-100 hover:shadow-3xl transition-shadow duration-300",children:[(0,ts.jsxs)("div",{className:"text-center mb-8",children:[(0,ts.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),(0,ts.jsx)("p",{className:"text-gray-600",children:"Sign in to your account"})]}),(0,ts.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,ts.jsxs)("button",{onClick:()=>g("Google"),className:"w-full flex items-center justify-center gap-3 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-all duration-300 hover:scale-105 hover:shadow-md",disabled:u,children:[(0,ts.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,ts.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,ts.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,ts.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,ts.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),(0,ts.jsx)("span",{className:"font-medium text-gray-700",children:"Continue with Google"})]}),(0,ts.jsxs)("button",{onClick:()=>g("Facebook"),className:"w-full flex items-center justify-center gap-3 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-all duration-300 hover:scale-105 hover:shadow-md",disabled:u,children:[(0,ts.jsx)("div",{className:"w-5 h-5 bg-blue-600 rounded flex items-center justify-center",children:(0,ts.jsx)("span",{className:"text-white text-xs font-bold",children:"f"})}),(0,ts.jsx)("span",{className:"font-medium text-gray-700",children:"Continue with Facebook"})]})]}),(0,ts.jsxs)("div",{className:"relative mb-6",children:[(0,ts.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,ts.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,ts.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,ts.jsx)("span",{className:"px-4 bg-white text-gray-500 font-medium",children:"OR"})})]}),(0,ts.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(""),d(!0);try{await p(n,s),h(m,{replace:!0})}catch(t){c(t.message||"Failed to log in. Please check your credentials.")}finally{d(!1)}},className:"space-y-6",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,ts.jsxs)("div",{className:"relative",children:[(0,ts.jsx)(hi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,ts.jsx)("input",{type:"email",id:"email",value:n,onChange:e=>r(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"Enter your email",required:!0,disabled:u})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,ts.jsxs)("div",{className:"relative",children:[(0,ts.jsx)(fi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,ts.jsx)("input",{type:a?"text":"password",id:"password",value:s,onChange:e=>i(e.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"Enter your password",required:!0,disabled:u}),(0,ts.jsx)("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:u,children:a?(0,ts.jsx)(pi,{size:20}):(0,ts.jsx)(mi,{size:20})})]})]}),(0,ts.jsx)("div",{className:"text-right",children:(0,ts.jsx)(vt,{to:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Forgot your password?"})}),l&&(0,ts.jsx)("div",{className:"text-red-600 text-sm text-center bg-red-50 p-3 rounded-lg",children:l}),(0,ts.jsx)("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-300 hover:scale-105 hover:shadow-lg",children:u?(0,ts.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,ts.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Signing in..."]}):"Sign In"})]}),(0,ts.jsx)("div",{className:"mt-8 text-center",children:(0,ts.jsxs)("p",{className:"text-gray-600",children:["Don't have an account?"," ",(0,ts.jsx)(vt,{to:"/signup",className:"text-blue-600 hover:text-blue-700 font-semibold",children:"Create Account"})]})})]})})})]})},bi=Ys("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),xi=()=>{const[e,n]=(0,t.useState)(""),[r,s]=(0,t.useState)(""),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)("student"),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(""),[m,g]=(0,t.useState)(""),[v,y]=(0,t.useState)(!1),b=pe(),{register:x}=rs(),w=async e=>{g(""),y(!0);try{if("Google"===e){const e="https://campusnex-production.up.railway.app/api";window.location.href="".concat(e,"/auth/google?role=").concat(c)}else g("".concat(e," signup not implemented yet. Please use email signup."))}catch(m){g("Failed to signup with ".concat(e,". Please try again."))}finally{y(!1)}};return(0,ts.jsxs)("div",{className:"min-h-screen flex relative",children:[(0,ts.jsx)(vi,{}),(0,ts.jsxs)("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-blue-900 via-blue-800 to-indigo-900 relative overflow-hidden",children:[(0,ts.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,ts.jsx)("div",{className:"absolute top-20 left-20 w-72 h-72 bg-white rounded-full mix-blend-overlay filter blur-xl animate-pulse-slow"}),(0,ts.jsx)("div",{className:"absolute top-40 right-20 w-72 h-72 bg-purple-300 rounded-full mix-blend-overlay filter blur-xl animate-pulse-slow",style:{animationDelay:"2s"}}),(0,ts.jsx)("div",{className:"absolute -bottom-8 left-40 w-72 h-72 bg-blue-300 rounded-full mix-blend-overlay filter blur-xl animate-pulse-slow",style:{animationDelay:"4s"}})]}),(0,ts.jsx)("div",{className:"relative z-10 flex flex-col justify-center items-start px-16 text-white",children:(0,ts.jsxs)("div",{className:"animate-fadeInUp",children:[(0,ts.jsxs)("h1",{className:"text-5xl font-bold mb-6 leading-tight",children:["Discover Your",(0,ts.jsx)("br",{}),(0,ts.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-200 to-purple-200",children:"Future"}),(0,ts.jsx)("br",{}),"One Swipe at a Time!"]}),(0,ts.jsx)("p",{className:"text-xl opacity-90 leading-relaxed",children:"Join thousands of students and professionals finding their perfect career match. Your journey starts here."})]})})]}),(0,ts.jsx)("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-gray-50",children:(0,ts.jsx)("div",{className:"w-full max-w-md animate-fadeInUp",style:{animationDelay:"0.3s"},children:(0,ts.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 border border-gray-100 hover:shadow-3xl transition-shadow duration-300",children:[(0,ts.jsxs)("div",{className:"text-center mb-8",children:[(0,ts.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Join CampusNex"}),(0,ts.jsx)("p",{className:"text-gray-600",children:"Connect with your campus community"})]}),(0,ts.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,ts.jsxs)("button",{onClick:()=>w("Google"),className:"w-full flex items-center justify-center gap-3 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-all duration-300 hover:scale-105 hover:shadow-md",disabled:v,children:[(0,ts.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,ts.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,ts.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,ts.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,ts.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),(0,ts.jsx)("span",{className:"font-medium text-gray-700",children:"Sign up with Google"})]}),(0,ts.jsxs)("button",{onClick:()=>w("Facebook"),className:"w-full flex items-center justify-center gap-3 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-all duration-300 hover:scale-105 hover:shadow-md",disabled:v,children:[(0,ts.jsx)("div",{className:"w-5 h-5 bg-blue-600 rounded flex items-center justify-center",children:(0,ts.jsx)("span",{className:"text-white text-xs font-bold",children:"f"})}),(0,ts.jsx)("span",{className:"font-medium text-gray-700",children:"Sign up with Facebook"})]})]}),(0,ts.jsxs)("div",{className:"relative mb-6",children:[(0,ts.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,ts.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,ts.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,ts.jsx)("span",{className:"px-4 bg-white text-gray-500 font-medium",children:"OR"})})]}),(0,ts.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),g(""),y(!0);try{const t=e.trim().split(" "),n=t[0]||"",s=t.slice(1).join(" ")||"";await x({email:r,password:i,firstName:n,lastName:s,role:c,organization:"organizer"===c?d:"",position:"organizer"===c?f:""}),b("organizer"===c?"/organizer-dashboard":"/discovery")}catch(n){g(n.message||"Failed to create account. Please try again.")}finally{y(!1)}},className:"space-y-6",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),(0,ts.jsxs)("div",{className:"relative",children:[(0,ts.jsx)(bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,ts.jsx)("input",{type:"text",id:"fullName",value:e,onChange:e=>n(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"Enter your full name",required:!0,disabled:v})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,ts.jsxs)("div",{className:"relative",children:[(0,ts.jsx)(hi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,ts.jsx)("input",{type:"email",id:"email",value:r,onChange:e=>s(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"Enter your email",required:!0,disabled:v})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,ts.jsxs)("div",{className:"relative",children:[(0,ts.jsx)(fi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,ts.jsx)("input",{type:o?"text":"password",id:"password",value:i,onChange:e=>a(e.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"Create a password",required:!0,disabled:v,minLength:6}),(0,ts.jsx)("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:v,children:o?(0,ts.jsx)(pi,{size:20}):(0,ts.jsx)(mi,{size:20})})]}),(0,ts.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Password must be at least 6 characters long"})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"I am signing up as:"}),(0,ts.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,ts.jsxs)("button",{type:"button",onClick:()=>u("student"),className:"p-3 rounded-lg border text-center transition-all duration-300 ".concat("student"===c?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"),disabled:v,children:[(0,ts.jsx)("div",{className:"font-medium",children:"Student"}),(0,ts.jsx)("div",{className:"text-xs opacity-75",children:"Attend events"})]}),(0,ts.jsxs)("button",{type:"button",onClick:()=>u("organizer"),className:"p-3 rounded-lg border text-center transition-all duration-300 ".concat("organizer"===c?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"),disabled:v,children:[(0,ts.jsx)("div",{className:"font-medium",children:"Event Organizer"}),(0,ts.jsx)("div",{className:"text-xs opacity-75",children:"Create & manage events"})]})]})]}),"organizer"===c&&(0,ts.jsxs)(ts.Fragment,{children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{htmlFor:"organization",className:"block text-sm font-medium text-gray-700 mb-2",children:"Organization/Club Name"}),(0,ts.jsx)("input",{type:"text",id:"organization",value:d,onChange:e=>h(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"e.g., Computer Science Club, Student Council",required:"organizer"===c,disabled:v})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{htmlFor:"position",className:"block text-sm font-medium text-gray-700 mb-2",children:"Position/Role"}),(0,ts.jsx)("input",{type:"text",id:"position",value:f,onChange:e=>p(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"e.g., President, Vice President, Faculty Advisor",required:"organizer"===c,disabled:v})]})]}),m&&(0,ts.jsx)("div",{className:"text-red-600 text-sm text-center bg-red-50 p-3 rounded-lg",children:m}),(0,ts.jsx)("button",{type:"submit",disabled:v,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-300 hover:scale-105 hover:shadow-lg",children:v?(0,ts.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,ts.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating Account..."]}):"Create Account"})]}),(0,ts.jsx)("div",{className:"mt-8 text-center",children:(0,ts.jsxs)("p",{className:"text-gray-600",children:["Already have an account?"," ",(0,ts.jsx)(vt,{to:"/login",className:"text-blue-600 hover:text-blue-700 font-semibold",children:"Sign In"})]})})]})})})]})},wi=()=>{const[e]=kt(),n=pe(),{setUser:r}=rs();return(0,t.useEffect)(()=>{const t=e.get("token"),s=e.get("user"),i=e.get("error");if(i)return console.error("OAuth error:",i),void n("/login?error=oauth_failed");if(t&&s)try{const e=JSON.parse(decodeURIComponent(s));localStorage.setItem("token",t),localStorage.setItem("user",JSON.stringify(e)),r(e),"organizer"===e.role?n("/organizer-dashboard"):n("/discovery")}catch(a){console.error("Error parsing user data:",a),n("/login?error=invalid_response")}else n("/login?error=missing_data")},[e,n,r]),(0,ts.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,ts.jsxs)("div",{className:"text-center",children:[(0,ts.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,ts.jsx)("p",{className:"mt-4 text-gray-600",children:"Completing authentication..."})]})})},ki=e=>{let{isOpen:n,onClose:r,event:s,onEventUpdated:i}=e;const[a,o]=(0,t.useState)({title:"",startDate:"",endDate:"",location:"",category:"",description:"",capacity:"",imageUrl:""}),[l,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)("");(0,t.useEffect)(()=>{s&&n&&(o({title:s.title||"",startDate:s.startDate?new Date(s.startDate).toISOString().slice(0,16):"",endDate:s.endDate?new Date(s.endDate).toISOString().slice(0,16):"",location:s.location||"",category:s.category||"",description:s.description||"",capacity:s.capacity||"",imageUrl:s.imageUrl||""}),h(""))},[s,n]);const f=e=>{o(c(c({},a),{},{[e.target.name]:e.target.value}))};return n&&s?(0,ts.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ts.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,ts.jsxs)("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white p-6 rounded-t-2xl relative",children:[(0,ts.jsx)("button",{onClick:r,className:"absolute top-4 right-4 text-white hover:text-gray-200 transition-colors",children:(0,ts.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,ts.jsx)("h2",{className:"text-2xl font-bold",children:"Edit Event"}),(0,ts.jsx)("p",{className:"text-orange-100 text-sm",children:"Update your event details"})]}),(0,ts.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u(!0),h("");try{const e=c(c({},a),{},{startDate:new Date(a.startDate).toISOString(),endDate:new Date(a.endDate).toISOString(),capacity:a.capacity?Number(a.capacity):null});await(async(e,t)=>{try{return(await Yr.put("/events/".concat(e),t)).data}catch(d){var n;throw(null===(n=d.response)||void 0===n?void 0:n.data)||{message:"Failed to update event"}}})(s.id,e),i(),r()}catch(t){h(t.message||"Failed to update event. Please try again.")}finally{u(!1)}},className:"p-6 space-y-6",children:[d&&(0,ts.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,ts.jsx)("p",{className:"text-red-800 text-sm",children:d})}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Event Title"}),(0,ts.jsx)("input",{name:"title",value:a.title,onChange:f,className:"w-full border-2 border-gray-300 rounded-lg px-4 py-3 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 transition-all duration-200",required:!0,placeholder:"e.g. Tech Conference 2025"})]}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Start Date & Time"}),(0,ts.jsx)("input",{type:"datetime-local",name:"startDate",value:a.startDate,onChange:f,className:"w-full border-2 border-gray-300 rounded-lg px-4 py-3 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 transition-all duration-200",required:!0})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"End Date & Time"}),(0,ts.jsx)("input",{type:"datetime-local",name:"endDate",value:a.endDate,onChange:f,className:"w-full border-2 border-gray-300 rounded-lg px-4 py-3 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 transition-all duration-200",required:!0})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Location"}),(0,ts.jsx)("input",{name:"location",value:a.location,onChange:f,className:"w-full border-2 border-gray-300 rounded-lg px-4 py-3 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 transition-all duration-200",required:!0,placeholder:"e.g. Diamond Island Convention Center, Phnom Penh"})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Category"}),(0,ts.jsxs)("select",{name:"category",value:a.category,onChange:f,className:"w-full border-2 border-gray-300 rounded-lg px-4 py-3 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 transition-all duration-200",required:!0,children:[(0,ts.jsx)("option",{value:"",children:"Select Category"}),(0,ts.jsx)("option",{children:"Concerts & Gigs"}),(0,ts.jsx)("option",{children:"Festivals & Lifestyle"}),(0,ts.jsx)("option",{children:"Business & Networking"}),(0,ts.jsx)("option",{children:"Food & Drinks"}),(0,ts.jsx)("option",{children:"Performing Arts"}),(0,ts.jsx)("option",{children:"Sports & Outdoors"}),(0,ts.jsx)("option",{children:"Exhibitions"}),(0,ts.jsx)("option",{children:"Workshops, Conferences & Classes"}),(0,ts.jsx)("option",{children:"Technology"}),(0,ts.jsx)("option",{children:"Education"})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Description"}),(0,ts.jsx)("textarea",{name:"description",value:a.description,onChange:f,className:"w-full border-2 border-gray-300 rounded-lg px-4 py-3 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 transition-all duration-200",rows:4,required:!0,placeholder:"Describe your event..."})]}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Capacity (optional)"}),(0,ts.jsx)("input",{name:"capacity",type:"number",value:a.capacity,onChange:f,className:"w-full border-2 border-gray-300 rounded-lg px-4 py-3 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 transition-all duration-200",placeholder:"e.g. 200"})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Image URL (optional)"}),(0,ts.jsx)("input",{name:"imageUrl",type:"url",value:a.imageUrl,onChange:f,className:"w-full border-2 border-gray-300 rounded-lg px-4 py-3 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 transition-all duration-200",placeholder:"https://example.com/image.jpg"})]})]}),(0,ts.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,ts.jsx)("button",{type:"button",onClick:r,className:"flex-1 bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-colors duration-200",disabled:l,children:"Cancel"}),(0,ts.jsx)("button",{type:"submit",className:"flex-1 bg-orange-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-orange-600 transition-colors duration-200 flex items-center justify-center gap-2",disabled:l,children:l?(0,ts.jsxs)(ts.Fragment,{children:[(0,ts.jsxs)("svg",{className:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[(0,ts.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ts.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0l3 3-3 3v4a4 4 0 100 8h8l-3-3 3-3v4z"})]}),"Updating..."]}):"Update Event"})]})]})]})}):null},Ni=e=>{let{isOpen:n,onClose:r,event:s}=e;const[i,a]=(0,t.useState)([]),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)("");(0,t.useEffect)(()=>{n&&s&&d()},[n,s]);const d=async()=>{l(!0),u("");try{const e=[{id:1,name:"Sarah Johnson",email:"sarah.johnson@example.com",status:"attending",rsvpDate:new Date("2025-09-15"),profileImage:null},{id:2,name:"Michael Chen",email:"michael.chen@example.com",status:"attending",rsvpDate:new Date("2025-09-16"),profileImage:null},{id:3,name:"Emma Rodriguez",email:"emma.rodriguez@example.com",status:"attending",rsvpDate:new Date("2025-09-18"),profileImage:null},{id:4,name:"David Patel",email:"david.patel@example.com",status:"interested",rsvpDate:new Date("2025-09-20"),profileImage:null},{id:5,name:"Lisa Wong",email:"lisa.wong@example.com",status:"attending",rsvpDate:new Date("2025-09-22"),profileImage:null}];a(e)}catch(e){u("Failed to load attendees")}finally{l(!1)}};if(!n||!s)return null;const h=i.filter(e=>"attending"===e.status).length,f=i.filter(e=>"interested"===e.status).length;return(0,ts.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ts.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,ts.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white p-6 rounded-t-2xl relative",children:[(0,ts.jsx)("button",{onClick:r,className:"absolute top-4 right-4 text-white hover:text-gray-200 transition-colors",children:(0,ts.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,ts.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Event Attendees"}),(0,ts.jsx)("p",{className:"text-blue-100 text-sm",children:s.title})]}),(0,ts.jsxs)("div",{className:"p-6",children:[(0,ts.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,ts.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[(0,ts.jsx)("div",{className:"text-2xl font-bold text-green-600",children:h}),(0,ts.jsx)("div",{className:"text-sm text-green-700",children:"Attending"})]}),(0,ts.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center",children:[(0,ts.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:f}),(0,ts.jsx)("div",{className:"text-sm text-blue-700",children:"Interested"})]})]}),o?(0,ts.jsxs)("div",{className:"text-center py-12",children:[(0,ts.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,ts.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading attendees..."})]}):c?(0,ts.jsxs)("div",{className:"text-center py-12",children:[(0,ts.jsx)("div",{className:"text-red-500 mb-4",children:(0,ts.jsx)("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,ts.jsx)("p",{className:"text-red-600",children:c})]}):0===i.length?(0,ts.jsxs)("div",{className:"text-center py-12",children:[(0,ts.jsx)("div",{className:"text-gray-400 mb-4",children:(0,ts.jsx)("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,ts.jsx)("p",{className:"text-gray-500",children:"No attendees yet"})]}):(0,ts.jsxs)("div",{className:"space-y-3",children:[(0,ts.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Attendee List (",i.length,")"]}),i.map(e=>(0,ts.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,ts.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ts.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:e.profileImage?(0,ts.jsx)("img",{src:e.profileImage,alt:e.name,className:"w-10 h-10 rounded-full object-cover"}):(0,ts.jsx)("span",{className:"text-white font-semibold text-sm",children:e.name.split(" ").map(e=>e[0]).join("")})}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("p",{className:"font-semibold text-gray-900",children:e.name}),(0,ts.jsx)("p",{className:"text-sm text-gray-500",children:e.email}),(0,ts.jsxs)("p",{className:"text-xs text-gray-400",children:["RSVP'd on ",e.rsvpDate.toLocaleDateString()]})]})]}),(0,ts.jsx)("div",{children:(0,ts.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ".concat("attending"===e.status?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"),children:"attending"===e.status?"\u2713 Attending":"\u2605 Interested"})})]},e.id))]}),i.length>0&&(0,ts.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,ts.jsxs)("div",{className:"flex gap-3",children:[(0,ts.jsxs)("button",{onClick:()=>{const e="data:text/csv;charset=utf-8,Name,Email,Status,RSVP Date\n"+i.map(e=>"".concat(e.name,",").concat(e.email,",").concat(e.status,",").concat(e.rsvpDate.toLocaleDateString())).join("\n"),t=encodeURI(e),n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download","".concat(s.title,"_attendees.csv")),document.body.appendChild(n),n.click(),document.body.removeChild(n)},className:"flex-1 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors duration-200 flex items-center justify-center gap-2",children:[(0,ts.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export CSV"]}),(0,ts.jsx)("button",{onClick:r,className:"flex-1 bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors duration-200",children:"Close"})]})})]})]})})},Si=e=>{let{activeView:t,setActiveView:n}=e;const r=pe(),s=[{id:"my-events",label:"My Events",icon:(0,ts.jsx)("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})},{id:"drafts",label:"Drafts",icon:(0,ts.jsx)("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{id:"analytics",label:"Analytics",icon:(0,ts.jsx)("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}];return(0,ts.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,ts.jsxs)("div",{className:"text-center mb-6",children:[(0,ts.jsx)("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,ts.jsx)("svg",{className:"w-8 h-8 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,ts.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Organizer Panel"}),(0,ts.jsx)("p",{className:"text-sm text-gray-500",children:"Event Management"})]}),(0,ts.jsxs)("nav",{className:"space-y-2",children:[(0,ts.jsx)("div",{className:"bg-orange-50 border-l-4 border-orange-500 px-4 py-3 rounded-r-md",children:(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("svg",{className:"w-5 h-5 text-orange-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,ts.jsx)("span",{className:"text-orange-700 font-medium",children:"Dashboard"})]})}),(0,ts.jsxs)("button",{onClick:()=>r("/create-event"),className:"flex items-center w-full px-4 py-3 text-gray-700 rounded-md hover:bg-gray-50 transition-colors duration-200",children:[(0,ts.jsx)("svg",{className:"w-5 h-5 text-gray-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Create Event"]}),s.map(e=>(0,ts.jsxs)("button",{onClick:()=>n(e.id),className:"flex items-center w-full px-4 py-3 rounded-md transition-colors duration-200 ".concat(t===e.id?"bg-orange-50 border-l-4 border-orange-500 text-orange-700":"text-gray-700 hover:bg-gray-50"),children:[e.icon,e.label]},e.id))]})]})},Ei=e=>{let{stats:t}=e;const n=[{label:"Total Events",value:t.totalEvents,icon:(0,ts.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),bgColor:"bg-blue-100"},{label:"Total Attendees",value:t.totalAttendees,icon:(0,ts.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),bgColor:"bg-green-100"},{label:"Success Rate",value:"".concat(t.successRate,"%"),icon:(0,ts.jsx)("svg",{className:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),bgColor:"bg-orange-100"}];return(0,ts.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:n.map((e,t)=>(0,ts.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("div",{className:"flex-shrink-0",children:(0,ts.jsx)("div",{className:"w-8 h-8 ".concat(e.bgColor," rounded-lg flex items-center justify-center"),children:e.icon})}),(0,ts.jsxs)("div",{className:"ml-4",children:[(0,ts.jsx)("p",{className:"text-sm font-medium text-gray-500",children:e.label}),(0,ts.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:e.value})]})]})},t))})},ji=e=>{let{onClick:t}=e;return(0,ts.jsxs)("button",{onClick:t,className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors duration-200 flex items-center gap-2",children:[(0,ts.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Create New Event"]})},Ci=e=>{let{onCreateEvent:t}=e;return(0,ts.jsxs)("div",{className:"text-center py-12",children:[(0,ts.jsx)("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No events yet"}),(0,ts.jsx)("p",{className:"text-gray-500 mb-4",children:"Get started by creating your first event"}),(0,ts.jsx)("button",{onClick:t,className:"bg-orange-600 text-white px-6 py-2 rounded-lg hover:bg-orange-700 transition-colors duration-200",children:"Create Event"})]})},Ti=e=>{var t;let{event:n,onEdit:r,onViewAttendees:s,onDelete:i,onViewDetails:a,getEventStatus:o,formatEventDate:l}=e;const{status:c,color:u}=o(n.startDate,n.endDate);return(0,ts.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow duration-200",children:[(0,ts.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,ts.jsxs)("div",{className:"flex-1",children:[(0,ts.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:n.title}),(0,ts.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-2",children:[(0,ts.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l(n.startDate)]}),(0,ts.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-3",children:[(0,ts.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),n.location]}),(0,ts.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,ts.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ".concat("blue"===u?"bg-blue-100 text-blue-800":"green"===u?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:c.charAt(0).toUpperCase()+c.slice(1)}),(0,ts.jsxs)("span",{className:"text-xs text-gray-500",children:[(null===(t=n.attendees)||void 0===t?void 0:t.length)||n.capacity||0," attendees"]})]})]}),n.imageUrl&&(0,ts.jsx)("img",{src:n.imageUrl,alt:n.title,className:"w-16 h-16 rounded-lg object-cover ml-4"})]}),(0,ts.jsx)(_i,{onEdit:r,onViewAttendees:s,onDelete:i,onViewDetails:a})]})},_i=e=>{let{onEdit:t,onViewAttendees:n,onDelete:r,onViewDetails:s}=e;return(0,ts.jsxs)("div",{className:"space-y-2",children:[(0,ts.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ts.jsxs)("button",{onClick:t,className:"flex-1 bg-orange-50 text-orange-700 px-3 py-2 rounded-lg hover:bg-orange-100 transition-colors duration-200 flex items-center justify-center gap-1 text-sm",children:[(0,ts.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),(0,ts.jsxs)("button",{onClick:n,className:"flex-1 bg-green-50 text-green-700 px-3 py-2 rounded-lg hover:bg-green-100 transition-colors duration-200 flex items-center justify-center gap-1 text-sm",children:[(0,ts.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Attendees"]}),(0,ts.jsx)("button",{onClick:r,className:"bg-red-50 text-red-700 px-3 py-2 rounded-lg hover:bg-red-100 transition-colors duration-200",children:(0,ts.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 01 16.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),(0,ts.jsxs)("button",{onClick:s,className:"w-full bg-blue-50 text-blue-700 px-3 py-2 rounded-lg hover:bg-blue-100 transition-colors duration-200 flex items-center justify-center gap-2 text-sm",children:[(0,ts.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View Event Details"]})]})},Ii=e=>{let{events:t,handleEditEvent:n,handleViewAttendees:r,handleDeleteEvent:s,getEventStatus:i,formatEventDate:a}=e;const o=pe();return 0===t.length?(0,ts.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,ts.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ts.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"My Events"}),(0,ts.jsx)(ji,{onClick:()=>o("/create-event")})]}),(0,ts.jsx)(Ci,{onCreateEvent:()=>o("/create-event")})]}):(0,ts.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,ts.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ts.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"My Events"}),(0,ts.jsx)(ji,{onClick:()=>o("/create-event")})]}),(0,ts.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:t.map(e=>(0,ts.jsx)(Ti,{event:e,onEdit:()=>n(e),onViewAttendees:()=>r(e),onDelete:()=>s(e.id),onViewDetails:()=>o("/event/".concat(e.id)),getEventStatus:i,formatEventDate:a},e.id))})]})},Ai=()=>(0,ts.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,ts.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Draft Events"}),(0,ts.jsx)(Ri,{icon:(0,ts.jsx)("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),message:"No draft events"})]}),Pi=()=>(0,ts.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,ts.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Event Analytics"}),(0,ts.jsx)(Ri,{icon:(0,ts.jsx)("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),message:"Analytics coming soon"})]}),Ri=e=>{let{icon:t,message:n}=e;return(0,ts.jsxs)("div",{className:"text-center py-12",children:[t,(0,ts.jsx)("p",{className:"text-gray-500",children:n})]})},Li=e=>{let{activeView:t}=e;return(()=>{switch(t){case"drafts":return(0,ts.jsx)(Ai,{});case"analytics":return(0,ts.jsx)(Pi,{});default:return null}})()},Di=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(!0),[i,a]=(0,t.useState)({totalEvents:0,totalAttendees:0,successRate:0}),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)("my-events"),{user:m}=rs();(0,t.useEffect)(()=>{g()},[]);const g=async()=>{try{s(!0);const e=await Xr(),t=e.events||[];n(t);const r=t.length,i=t.reduce((e,t)=>{var n;return e+((null===(n=t.attendees)||void 0===n?void 0:n.length)||t.capacity||0)},0),o=r>0?Math.round(r/(r+2)*100):0;a({totalEvents:r,totalAttendees:i,successRate:o})}catch(e){console.error("Error fetching events:",e)}finally{s(!1)}};return{events:e,loading:r,stats:i,selectedEvent:o,showEditModal:c,showAttendeesModal:d,activeView:f,user:m,setActiveView:p,setShowEditModal:u,setShowAttendeesModal:h,handleEditEvent:e=>{l(e),u(!0)},handleViewAttendees:e=>{l(e),h(!0)},handleEventUpdated:()=>{g(),u(!1),l(null)},handleDeleteEvent:async t=>{if(window.confirm("Are you sure you want to delete this event?"))try{await(async e=>{try{return(await Yr.delete("/events/".concat(e))).data}catch(n){var t;throw(null===(t=n.response)||void 0===t?void 0:t.data)||{message:"Failed to delete event"}}})(t),n(e.filter(e=>e.id!==t))}catch(r){console.error("Error deleting event:",r),alert("Failed to delete event. Please try again.")}},getEventStatus:(e,t)=>{const n=new Date,r=new Date(e),s=new Date(t);return n<r?{status:"upcoming",color:"blue"}:n>=r&&n<=s?{status:"active",color:"green"}:{status:"completed",color:"gray"}},formatEventDate:e=>{if(!e)return"Date TBD";return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},fetchEvents:g}},Oi=()=>{const{events:e,loading:t,stats:n,selectedEvent:r,showEditModal:s,showAttendeesModal:i,activeView:a,setActiveView:o,setShowEditModal:l,setShowAttendeesModal:c,handleEditEvent:u,handleViewAttendees:d,handleEventUpdated:h,handleDeleteEvent:f,getEventStatus:p,formatEventDate:m}=Di();return t?(0,ts.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,ts.jsx)(Ts,{}),(0,ts.jsx)("main",{className:"flex-1 py-8 flex items-center justify-center",children:(0,ts.jsxs)("div",{className:"text-center",children:[(0,ts.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-orange-600"}),(0,ts.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading organizer dashboard..."})]})}),(0,ts.jsx)(_s,{})]}):(0,ts.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,ts.jsx)(Ts,{}),(0,ts.jsx)("main",{className:"flex-1 pt-24 pb-8",children:(0,ts.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,ts.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,ts.jsx)("div",{className:"lg:col-span-1",children:(0,ts.jsx)(Si,{activeView:a,setActiveView:o})}),(0,ts.jsx)("div",{className:"lg:col-span-3",children:(0,ts.jsxs)("div",{className:"space-y-6",children:[(0,ts.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,ts.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Organizer Dashboard"}),(0,ts.jsx)("p",{className:"text-gray-600",children:"Manage and monitor your events"})]}),(0,ts.jsx)(Ei,{stats:n}),"my-events"===a&&(0,ts.jsx)(Ii,{events:e,handleEditEvent:u,handleViewAttendees:d,handleDeleteEvent:f,getEventStatus:p,formatEventDate:m}),(0,ts.jsx)(Li,{activeView:a})]})})]})})}),s&&r&&(0,ts.jsx)(ki,{event:r,onClose:()=>l(!1),onEventUpdated:h}),i&&r&&(0,ts.jsx)(Ni,{event:r,onClose:()=>c(!1)}),(0,ts.jsx)(_s,{})]})},Mi=()=>(0,ts.jsx)(Oi,{}),Fi=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(!0),[i,a]=(0,t.useState)({eventsToAttend:0,activeEvent:null,nextEvent:null});(0,t.useEffect)(()=>{o()},[]);const o=async()=>{try{s(!0);const e=(await Xr()).events||[];n(e);const t=e.filter(e=>new Date(e.date||e.startDate)>new Date).sort((e,t)=>new Date(e.date||e.startDate)-new Date(t.date||t.startDate));a({eventsToAttend:t.length,activeEvent:t[0]||null,nextEvent:t[1]||null})}catch(e){console.error("Error fetching events:",e)}finally{s(!1)}},l=e=>{if(!e)return"Date TBD";return new Date(e).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};return r?(0,ts.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,ts.jsx)(Ts,{}),(0,ts.jsx)("main",{className:"flex-1 py-8 flex items-center justify-center",children:(0,ts.jsxs)("div",{className:"text-center",children:[(0,ts.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"}),(0,ts.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading your dashboard..."})]})}),(0,ts.jsx)(_s,{})]}):(0,ts.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,ts.jsx)(Ts,{}),(0,ts.jsx)("main",{className:"flex-1 py-8",children:(0,ts.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,ts.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,ts.jsx)("div",{className:"lg:col-span-1",children:(0,ts.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,ts.jsxs)("div",{className:"text-center mb-6",children:[(0,ts.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,ts.jsxs)("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 14l9-5-9-5-9 5 9 5z"}),(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"})]})}),(0,ts.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Student Portal"}),(0,ts.jsx)("p",{className:"text-sm text-gray-500",children:"Campus Events"})]}),(0,ts.jsxs)("nav",{className:"space-y-2",children:[(0,ts.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-500 px-4 py-3 rounded-r-md",children:(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("svg",{className:"w-5 h-5 text-blue-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,ts.jsx)("span",{className:"text-blue-700 font-medium",children:"Dashboard"})]})}),(0,ts.jsxs)("button",{className:"flex items-center w-full px-4 py-3 text-gray-700 rounded-md hover:bg-gray-50 transition-colors duration-200",children:[(0,ts.jsx)("svg",{className:"w-5 h-5 text-gray-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Profile"]}),(0,ts.jsxs)("button",{className:"flex items-center w-full px-4 py-3 text-gray-700 rounded-md hover:bg-gray-50 transition-colors duration-200",children:[(0,ts.jsx)("svg",{className:"w-5 h-5 text-gray-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"My Events"]}),(0,ts.jsxs)("button",{className:"flex items-center w-full px-4 py-3 text-gray-700 rounded-md hover:bg-gray-50 transition-colors duration-200",children:[(0,ts.jsx)("svg",{className:"w-5 h-5 text-gray-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Upcoming Events"]}),(0,ts.jsxs)("button",{className:"flex items-center w-full px-4 py-3 text-gray-700 rounded-md hover:bg-gray-50 transition-colors duration-200",children:[(0,ts.jsx)("svg",{className:"w-5 h-5 text-gray-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Calendar"]}),(0,ts.jsxs)("button",{className:"flex items-center w-full px-4 py-3 text-gray-700 rounded-md hover:bg-gray-50 transition-colors duration-200",children:[(0,ts.jsxs)("svg",{className:"w-5 h-5 text-gray-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Settings"]}),(0,ts.jsxs)("button",{className:"flex items-center w-full px-4 py-3 text-gray-700 rounded-md hover:bg-gray-50 transition-colors duration-200",children:[(0,ts.jsx)("svg",{className:"w-5 h-5 text-gray-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Help & Support"]})]})]})}),(0,ts.jsx)("div",{className:"lg:col-span-3",children:(0,ts.jsxs)("div",{className:"space-y-6",children:[(0,ts.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,ts.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Student Dashboard"}),(0,ts.jsx)("p",{className:"text-gray-600",children:"Your event summary and upcoming schedule"})]}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ts.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("div",{className:"flex-shrink-0",children:(0,ts.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,ts.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),(0,ts.jsxs)("div",{className:"ml-4",children:[(0,ts.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Events to Attend"}),(0,ts.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:i.eventsToAttend})]})]})}),(0,ts.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("div",{className:"flex-shrink-0",children:(0,ts.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:(0,ts.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),(0,ts.jsxs)("div",{className:"ml-4",children:[(0,ts.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Active Event"}),(0,ts.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:i.activeEvent?i.activeEvent.title:"No active events"})]})]})}),(0,ts.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("div",{className:"flex-shrink-0",children:(0,ts.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,ts.jsx)("svg",{className:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})}),(0,ts.jsxs)("div",{className:"ml-4",children:[(0,ts.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Next Event"}),(0,ts.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:i.nextEvent?i.nextEvent.title:"No upcoming events"})]})]})})]}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[(0,ts.jsxs)("div",{className:"xl:col-span-2 bg-white rounded-lg shadow-sm p-6",children:[(0,ts.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ts.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Upcoming Schedule"}),(0,ts.jsx)("button",{className:"text-sm text-blue-600 hover:text-blue-500 font-medium",children:"View calendar"})]}),(0,ts.jsx)("div",{className:"space-y-4",children:0===e.length?(0,ts.jsxs)("div",{className:"text-center py-8",children:[(0,ts.jsx)("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,ts.jsx)("p",{className:"text-gray-500",children:"No events scheduled yet"})]}):e.slice(0,3).map((e,t)=>(0,ts.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,ts.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ts.jsx)("div",{className:"flex-shrink-0",children:(0,ts.jsx)("div",{className:"w-10 h-10 ".concat("Technology"===e.category?"bg-blue-100":"Career"===e.category?"bg-orange-100":"Workshop"===e.category?"bg-purple-100":"Business"===e.category?"bg-green-100":"bg-gray-100"," rounded-lg flex items-center justify-center"),children:(0,ts.jsx)("svg",{className:"w-5 h-5 ".concat("Technology"===e.category?"text-blue-600":"Career"===e.category?"text-orange-600":"Workshop"===e.category?"text-purple-600":"Business"===e.category?"text-green-600":"text-gray-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,ts.jsx)("p",{className:"text-sm text-gray-500",children:l(e.date||e.startDate)}),(0,ts.jsx)("p",{className:"text-xs text-gray-400",children:e.location})]})]}),(0,ts.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(0===t?"bg-green-100 text-green-800":1===t?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"),children:0===t?"Attending":1===t?"Interested":"Available"})]},e.id))})]}),(0,ts.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,ts.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Quick Actions"}),(0,ts.jsxs)("div",{className:"space-y-4",children:[(0,ts.jsxs)("button",{className:"w-full flex items-center justify-center px-4 py-3 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,ts.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Update Profile"]}),(0,ts.jsxs)("button",{className:"w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,ts.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4 16h7v5l-7-5zm0-8h14v3H4V8zm0-4h14v3H4V4z"})}),"Notifications"]}),(0,ts.jsxs)("button",{className:"w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,ts.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Security Settings"]})]})]})]})]})})]})})}),(0,ts.jsx)(_s,{})]})},Ui=e=>{let{profile:t,user:n,handleLogout:r}=e;return(0,ts.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,ts.jsxs)("div",{className:"text-center mb-6",children:[(0,ts.jsx)("img",{src:(null===t||void 0===t?void 0:t.profilePicture)||"/logo192.png",alt:"Profile",className:"w-20 h-20 rounded-full mx-auto mb-4 border-4 border-gray-100 object-cover"}),(0,ts.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:[null===t||void 0===t?void 0:t.firstName," ",null===t||void 0===t?void 0:t.lastName]}),(0,ts.jsx)("p",{className:"text-sm text-gray-500",children:null===n||void 0===n?void 0:n.email}),(0,ts.jsx)("div",{className:"mt-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:(null===n||void 0===n?void 0:n.role)||"Student"})]}),(0,ts.jsxs)("nav",{className:"space-y-2",children:[(0,ts.jsx)("div",{className:"bg-orange-50 border-l-4 border-orange-500 px-4 py-3 rounded-r-md",children:(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("svg",{className:"w-5 h-5 text-orange-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,ts.jsx)("span",{className:"text-orange-700 font-medium",children:"Profile"})]})}),(0,ts.jsxs)(vt,{to:"/interested-events",className:"flex items-center px-4 py-3 text-gray-700 rounded-md hover:bg-gray-50 transition-colors duration-200",children:[(0,ts.jsx)("svg",{className:"w-5 h-5 text-gray-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"My Events"]}),(0,ts.jsxs)(vt,{to:"/discovery",className:"flex items-center px-4 py-3 text-gray-700 rounded-md hover:bg-gray-50 transition-colors duration-200",children:[(0,ts.jsx)("svg",{className:"w-5 h-5 text-gray-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Discover Events"]}),(0,ts.jsxs)(vt,{to:"/settings",className:"flex items-center px-4 py-3 text-gray-700 rounded-md hover:bg-gray-50 transition-colors duration-200",children:[(0,ts.jsxs)("svg",{className:"w-5 h-5 text-gray-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Settings"]}),(0,ts.jsxs)(vt,{to:"/notifications",className:"flex items-center px-4 py-3 text-gray-700 rounded-md hover:bg-gray-50 transition-colors duration-200",children:[(0,ts.jsx)("svg",{className:"w-5 h-5 text-gray-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4 16h7v5l-7-5zm0-8h14v3H4V8zm0-4h14v3H4V4z"})}),"Notifications"]}),(0,ts.jsxs)("button",{className:"flex items-center w-full px-4 py-3 text-gray-700 rounded-md hover:bg-gray-50 transition-colors duration-200",children:[(0,ts.jsx)("svg",{className:"w-5 h-5 text-gray-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Help & Support"]}),(0,ts.jsxs)("button",{onClick:r,className:"flex items-center w-full px-4 py-3 text-red-600 rounded-md hover:bg-red-50 transition-colors duration-200",children:[(0,ts.jsx)("svg",{className:"w-5 h-5 text-red-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Log Out"]})]})]})},zi=e=>{let{formData:t,handleInputChange:n,handleSubmit:r,setIsEditing:s}=e;return(0,ts.jsxs)("form",{onSubmit:r,className:"space-y-6",children:[(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),(0,ts.jsx)("input",{type:"text",name:"firstName",value:t.firstName,onChange:n,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter your first name"})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),(0,ts.jsx)("input",{type:"text",name:"lastName",value:t.lastName,onChange:n,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter your last name"})]})]}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Major"}),(0,ts.jsx)("input",{type:"text",name:"major",value:t.major,onChange:n,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500",placeholder:"Your major/field of study"})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year of Study"}),(0,ts.jsxs)("select",{name:"yearOfStudy",value:t.yearOfStudy,onChange:n,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500",children:[(0,ts.jsx)("option",{value:"",children:"Select year"}),(0,ts.jsx)("option",{value:"1",children:"1st Year"}),(0,ts.jsx)("option",{value:"2",children:"2nd Year"}),(0,ts.jsx)("option",{value:"3",children:"3rd Year"}),(0,ts.jsx)("option",{value:"4",children:"4th Year"}),(0,ts.jsx)("option",{value:"Graduate",children:"Graduate"})]})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),(0,ts.jsx)("textarea",{name:"bio",value:t.bio,onChange:n,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500",placeholder:"Tell us about yourself..."})]}),(0,ts.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ts.jsx)("button",{type:"button",onClick:()=>s(!1),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:"Cancel"}),(0,ts.jsx)("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:"Save Changes"})]})]})},Vi=e=>{let{profile:t,user:n}=e;return(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ts.jsx)("div",{children:(0,ts.jsxs)("div",{className:"space-y-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),(0,ts.jsxs)("dd",{className:"mt-1 text-sm text-gray-900",children:[null===t||void 0===t?void 0:t.firstName," ",null===t||void 0===t?void 0:t.lastName]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,ts.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:null===n||void 0===n?void 0:n.email})]})]})}),(0,ts.jsx)("div",{children:(0,ts.jsxs)("div",{className:"space-y-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Major"}),(0,ts.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:(null===t||void 0===t?void 0:t.major)||"Not specified"})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Year of Study"}),(0,ts.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:null!==t&&void 0!==t&&t.yearOfStudy?"".concat(t.yearOfStudy," Year"):"Not specified"})]})]})}),(null===t||void 0===t?void 0:t.bio)&&(0,ts.jsxs)("div",{className:"md:col-span-2",children:[(0,ts.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Bio"}),(0,ts.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:t.bio})]})]})},Bi=e=>{let{profile:t,user:n,isEditing:r,setIsEditing:s,formData:i,handleInputChange:a,handleSubmit:o,error:l}=e;return(0,ts.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,ts.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,ts.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Personal Information"}),!r&&(0,ts.jsxs)("button",{onClick:()=>s(!0),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:[(0,ts.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Profile"]})]}),r?(0,ts.jsx)(zi,{formData:i,handleInputChange:a,handleSubmit:o,setIsEditing:s}):(0,ts.jsx)(Vi,{profile:t,user:n})]})},Hi=()=>(0,ts.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,ts.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Account Settings"}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ts.jsxs)(vt,{to:"/settings",className:"flex items-center justify-center px-4 py-3 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-colors duration-200",children:[(0,ts.jsxs)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Settings"]}),(0,ts.jsxs)(vt,{to:"/notifications",className:"flex items-center justify-center px-4 py-3 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-colors duration-200",children:[(0,ts.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4 16h7v5l-7-5zm0-8h14v3H4V8zm0-4h14v3H4V4z"})}),"Notifications"]}),(0,ts.jsxs)("button",{className:"flex items-center justify-center px-4 py-3 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-colors duration-200",children:[(0,ts.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Security"]})]})]}),qi=e=>{let{event:t,onClick:n}=e;return(0,ts.jsxs)("div",{onClick:n,className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-gray-300 cursor-pointer transition-colors duration-200",children:[(0,ts.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ts.jsx)("div",{className:"flex-shrink-0",children:(0,ts.jsx)("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,ts.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("p",{className:"text-sm font-medium text-gray-900",children:t.title}),(0,ts.jsx)("p",{className:"text-sm text-gray-500",children:new Date(t.startDate||t.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),(0,ts.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ts.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("attending"===t.rsvpStatus?"bg-green-100 text-green-800":"interested"===t.rsvpStatus?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:"attending"===t.rsvpStatus?"Attending":"interested"===t.rsvpStatus?"Interested":"Not Attending"}),(0,ts.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})},Wi=()=>(0,ts.jsxs)("div",{className:"text-center py-8",children:[(0,ts.jsx)("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,ts.jsx)("p",{className:"text-gray-500",children:"No events found"}),(0,ts.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"You haven't RSVP'd to any events yet."}),(0,ts.jsx)(vt,{to:"/discovery",className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700",children:"Discover Events"})]}),Ki=e=>{let{events:t,handleEventClick:n}=e;return(0,ts.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,ts.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Event Activity"}),t.length>0?(0,ts.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,ts.jsx)(qi,{event:e,onClick:()=>n(e.id)},e.id))}):(0,ts.jsx)(Wi,{})]})},Gi=()=>{const[e,n]=(0,t.useState)(null),[r,s]=(0,t.useState)([]),[i,a]=(0,t.useState)(!0),[o,l]=(0,t.useState)(""),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)({firstName:"",lastName:"",bio:"",major:"",yearOfStudy:""}),[p,m]=(0,t.useState)({emailUpdates:!0,eventReminders:!1,promotionalOffers:!1}),g=pe(),{user:v,isAuthenticated:y,logout:b}=rs();(0,t.useEffect)(()=>{if(!y)return void g("/login",{state:{from:"/profile"}});(async()=>{try{a(!0);const e=await(async()=>{try{return(await Yr.get("/users/profile")).data}catch(o){var e;throw(null===(e=o.response)||void 0===e?void 0:e.data)||{message:"Failed to get user profile"}}})();n(e.user),f({firstName:e.user.firstName||"",lastName:e.user.lastName||"",bio:e.user.bio||"",major:e.user.major||"",yearOfStudy:e.user.yearOfStudy||""});const t=await es();s(t.events),l("")}catch(e){console.error("Error fetching profile data:",e),l("Failed to load your profile. Please try again later.")}finally{a(!1)}})()},[y,g]);return{profile:e,events:r,loading:i,error:o,isEditing:u,formData:h,notifications:p,user:v,isAuthenticated:y,setIsEditing:d,handleInputChange:e=>{const{name:t,value:n}=e.target;f(c(c({},h),{},{[t]:n}))},handleNotificationChange:e=>{const{name:t,checked:n}=e.target;m(c(c({},p),{},{[t]:n}))},handleSubmit:async e=>{e.preventDefault();try{const e=await(async e=>{try{const t=await Yr.put("/users/profile",e);if(t.data.success){const e=c(c({},JSON.parse(localStorage.getItem("user")||"{}")),t.data.user);localStorage.setItem("user",JSON.stringify(e))}return t.data}catch(o){var t;throw(null===(t=o.response)||void 0===t?void 0:t.data)||{message:"Failed to update profile"}}})(h);n(e.user),d(!1),l("")}catch(t){console.error("Error updating profile:",t),l("Failed to update profile. Please try again.")}},handleLogout:()=>{b(),g("/login")},handleEventClick:e=>{g("/event/".concat(e))}}},Qi=()=>{const{profile:e,events:t,loading:n,error:r,isEditing:s,formData:i,user:a,setIsEditing:o,handleInputChange:l,handleSubmit:c,handleLogout:u,handleEventClick:d}=Gi();return n?(0,ts.jsxs)("div",{className:"min-h-screen bg-white flex flex-col",children:[(0,ts.jsx)(Ts,{}),(0,ts.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,ts.jsx)("p",{className:"text-xl",children:"Loading your profile..."})}),(0,ts.jsx)(_s,{})]}):(0,ts.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,ts.jsx)(Ts,{}),(0,ts.jsx)("main",{className:"flex-1 pt-24 pb-8",children:(0,ts.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,ts.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,ts.jsx)("div",{className:"lg:col-span-1",children:(0,ts.jsx)(Ui,{profile:e,user:a,handleLogout:u})}),(0,ts.jsx)("div",{className:"lg:col-span-3",children:(0,ts.jsxs)("div",{className:"space-y-6",children:[(0,ts.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,ts.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Profile Overview"}),(0,ts.jsx)("p",{className:"text-gray-600",children:"Manage your account information and preferences"})]}),r&&(0,ts.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:(0,ts.jsxs)("div",{className:"flex",children:[(0,ts.jsx)("svg",{className:"w-5 h-5 text-red-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r]})}),(0,ts.jsx)(Bi,{profile:e,user:a,isEditing:s,setIsEditing:o,formData:i,handleInputChange:l,handleSubmit:c,error:r}),(0,ts.jsx)(Hi,{}),(0,ts.jsx)(Ki,{events:t,handleEventClick:d})]})})]})})}),(0,ts.jsx)(_s,{})]})},Ji=()=>(0,ts.jsx)(Qi,{}),Yi=()=>{const[e,n]=(0,t.useState)(!0);return(0,ts.jsxs)("div",{className:"min-h-screen bg-white flex flex-col",children:[(0,ts.jsx)(Ts,{}),(0,ts.jsx)("main",{className:"flex-1 flex flex-col items-center justify-center py-16 px-4",children:e?(0,ts.jsxs)("div",{className:"w-full max-w-lg rounded-3xl bg-gradient-to-br from-blue-100 via-blue-200 to-blue-300 p-10 shadow-lg",children:[(0,ts.jsx)("h1",{className:"text-blue-900 text-4xl font-bold mb-8 text-center",children:"Organizer Application"}),(0,ts.jsxs)("form",{className:"space-y-6",onSubmit:e=>{e.preventDefault(),n(!1)},children:[(0,ts.jsxs)("div",{className:"flex gap-4",children:[(0,ts.jsxs)("div",{className:"flex-1",children:[(0,ts.jsx)("label",{className:"block text-gray-700 font-semibold mb-1",children:"First Name"}),(0,ts.jsx)("input",{className:"w-full border rounded px-4 py-2",required:!0,placeholder:"John"})]}),(0,ts.jsxs)("div",{className:"flex-1",children:[(0,ts.jsx)("label",{className:"block text-gray-700 font-semibold mb-1",children:"Last Name"}),(0,ts.jsx)("input",{className:"w-full border rounded px-4 py-2",required:!0,placeholder:"Style"})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-gray-700 font-semibold mb-1",children:"Email Address"}),(0,ts.jsx)("input",{type:"email",className:"w-full border rounded px-4 py-2",required:!0,placeholder:"John@university.edu"})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-gray-700 font-semibold mb-1",children:"Password"}),(0,ts.jsx)("input",{type:"password",className:"w-full border rounded px-4 py-2",required:!0,placeholder:"Create Secure Password",minLength:8}),(0,ts.jsx)("span",{className:"text-xs text-gray-500",children:"8 Characters or longer with symbols"})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-gray-700 font-semibold mb-1",children:"Organization Name"}),(0,ts.jsx)("input",{className:"w-full border rounded px-4 py-2",required:!0,placeholder:"Limkokwing University"})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-gray-700 font-semibold mb-1",children:"Your Role"}),(0,ts.jsx)("input",{className:"w-full border rounded px-4 py-2",required:!0,placeholder:"Event Coordinator"})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-gray-700 font-semibold mb-1",children:"Phone Number (Optional)"}),(0,ts.jsx)("input",{className:"w-full border rounded px-4 py-2",placeholder:"+855 12 34567"})]}),(0,ts.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ts.jsx)("input",{type:"checkbox",required:!0,className:"form-checkbox h-5 w-5 text-blue-600"}),(0,ts.jsxs)("span",{children:["I Agree To The ",(0,ts.jsx)("button",{type:"button",className:"text-blue-600 underline bg-transparent border-none p-0 cursor-pointer",children:"Posting Guidelines"})," And Terms Of Service"]})]}),(0,ts.jsxs)("div",{className:"flex gap-4 mt-6",children:[(0,ts.jsx)("button",{type:"button",className:"bg-gray-200 text-gray-700 px-6 py-2 rounded font-semibold flex-1",children:"Back"}),(0,ts.jsx)("button",{type:"submit",className:"bg-orange-500 text-white px-6 py-2 rounded font-semibold flex-1",children:"Create Account"})]})]})]}):(0,ts.jsxs)("div",{className:"w-full max-w-lg rounded-3xl bg-gradient-to-br from-blue-100 via-blue-200 to-blue-300 p-10 shadow-lg flex flex-col items-center",children:[(0,ts.jsx)("h1",{className:"text-blue-900 text-4xl font-bold mb-6 text-center",children:"Thanks For Joining"}),(0,ts.jsxs)("div",{className:"w-full bg-blue-200 rounded-xl p-6 mb-8",children:[(0,ts.jsx)("h2",{className:"text-xl font-semibold text-center mb-4",children:"What happens next?"}),(0,ts.jsxs)("ul",{className:"list-disc pl-6 text-gray-700 text-base",children:[(0,ts.jsx)("li",{children:"We'll verify your organization"}),(0,ts.jsx)("li",{children:"You'll receive a welcome email with login instructions"}),(0,ts.jsx)("li",{children:"Start posting events and reaching students!"})]})]}),(0,ts.jsx)("button",{className:"bg-orange-500 text-white px-8 py-3 rounded font-semibold text-lg",children:"Preview Dashboard"})]})}),(0,ts.jsx)(_s,{})]})},$i=()=>{const e=pe(),{user:n,isAuthenticated:r}=rs(),[s,i]=(0,t.useState)(!1),[a,o]=(0,t.useState)(!1),[l,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(null),[f,p]=(0,t.useState)(""),[m,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)({title:"",startDate:"",endDate:"",location:"",category:"",description:"",capacity:"",imageUrl:""});return{submitted:s,loading:a,error:l,imageFile:d,imagePreview:f,uploadingImage:m,form:v,categories:["Concerts & Gigs","Festivals & Lifestyle","Business & Networking","Food & Drinks","Performing Arts","Sports & Outdoors","Exhibitions","Workshops, Conferences & Classes"],user:n,isAuthenticated:r,handleChange:e=>{y(c(c({},v),{},{[e.target.name]:e.target.value}))},handleImageChange:e=>{const t=e.target.files[0];if(t){if(t.size>5242880)return void u("Image file size must be less than 5MB");if(!t.type.startsWith("image/"))return void u("Please select a valid image file");h(t),u("");const e=new FileReader;e.onload=e=>{p(e.target.result)},e.readAsDataURL(t)}},removeImage:()=>{h(null),p(""),y(c(c({},v),{},{imageUrl:""}))},handleSubmit:async t=>{if(t.preventDefault(),r){o(!0),u("");try{let e=v.imageUrl;if(d){g(!0);try{e=await(async()=>new Promise(e=>{setTimeout(()=>{e("https://images.unsplash.com/photo-".concat(Date.now(),"?w=800&h=600&fit=crop"))},2e3)}))()}catch(n){console.error("Image upload failed:",n),u("Failed to upload image. Event will be created without image."),e=null}finally{g(!1)}}const t={title:v.title,startDate:new Date(v.startDate).toISOString(),endDate:new Date(v.endDate).toISOString(),location:v.location,category:v.category,description:v.description,capacity:v.capacity?Number(v.capacity):null,imageUrl:e};await(async e=>{try{return(await Yr.post("/events",e)).data}catch(l){var t;throw(null===(t=l.response)||void 0===t?void 0:t.data)||{message:"Failed to create event"}}})(t),i(!0)}catch(s){u(s.message||"Failed to submit event. Please try again.")}finally{o(!1),g(!1)}}else e("/login",{state:{from:"/create-event"}})},navigate:e}},Xi=e=>{let{form:t={},onChange:n=()=>{},categories:r=[]}=e;return(0,ts.jsxs)("div",{className:"space-y-6",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Event Title"}),(0,ts.jsx)("input",{name:"title",value:t.title||"",onChange:n,className:"w-full border-2 border-gray-300 rounded-lg px-4 py-3 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200",required:!0,placeholder:"e.g. Tech Conference 2025"})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Location"}),(0,ts.jsx)("input",{name:"location",value:t.location||"",onChange:n,className:"w-full border-2 border-gray-300 rounded-lg px-4 py-3 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200",required:!0,placeholder:"e.g. Limkokwing University"})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Category"}),(0,ts.jsxs)("select",{name:"category",value:t.category||"",onChange:n,className:"w-full border-2 border-gray-300 rounded-lg px-4 py-3 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200",required:!0,children:[(0,ts.jsx)("option",{value:"",children:"Select Category"}),r.map(e=>(0,ts.jsx)("option",{value:e,children:e},e))]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Description"}),(0,ts.jsx)("textarea",{name:"description",value:t.description||"",onChange:n,className:"w-full border-2 border-gray-300 rounded-lg px-4 py-3 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200",rows:4,required:!0,placeholder:"Describe your event..."})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Capacity (optional)"}),(0,ts.jsx)("input",{name:"capacity",type:"number",value:t.capacity||"",onChange:n,className:"w-full border-2 border-gray-300 rounded-lg px-4 py-3 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200",placeholder:"e.g. 200"})]})]})},Zi=e=>{let{label:t="",name:n="",value:r="",onChange:s=()=>{},helpText:i="",min:a=""}=e;return(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:t}),(0,ts.jsxs)("div",{className:"relative",children:[(0,ts.jsx)("input",{type:"datetime-local",name:n,value:r,onChange:s,className:"w-full border-2 border-gray-300 rounded-lg px-4 py-3 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200",required:!0,min:a}),(0,ts.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,ts.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),(0,ts.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:i})]})},ea=e=>{let{form:t={},onChange:n=()=>{}}=e;return(0,ts.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,ts.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[(0,ts.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Event Schedule"]}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ts.jsx)(Zi,{label:"Start Date & Time",name:"startDate",value:t.startDate||"",onChange:n,helpText:"When does your event start?",min:(new Date).toISOString().slice(0,16)}),(0,ts.jsx)(Zi,{label:"End Date & Time",name:"endDate",value:t.endDate||"",onChange:n,helpText:"When does your event end?",min:t.startDate||(new Date).toISOString().slice(0,16)})]}),t.startDate&&t.endDate&&(0,ts.jsx)("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:(0,ts.jsxs)("div",{className:"flex items-center gap-2 text-sm text-blue-800",children:[(0,ts.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Duration: ",(()=>{if(!t.startDate||!t.endDate)return null;const e=new Date(t.startDate),n=new Date(t.endDate)-e;if(n<=0)return"End time must be after start time";const r=Math.floor(n/36e5),s=Math.floor(n%36e5/6e4);return 0===r?"".concat(s," minutes"):0===s?"".concat(r," hour").concat(r>1?"s":""):"".concat(r," hour").concat(r>1?"s":""," ").concat(s," minutes")})()]})})]})},ta=e=>{let{onImageChange:t}=e;return(0,ts.jsx)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6",children:(0,ts.jsxs)("div",{className:"text-center",children:[(0,ts.jsx)("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Upload Event Image"}),(0,ts.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Choose an attractive image that represents your event"}),(0,ts.jsxs)("label",{className:"bg-blue-500 text-white px-6 py-2 rounded-lg cursor-pointer hover:bg-blue-600 transition-colors duration-200 inline-flex items-center gap-2",children:[(0,ts.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Browse Files",(0,ts.jsx)("input",{type:"file",accept:"image/*",onChange:t,className:"hidden"})]}),(0,ts.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Supported formats: JPG, PNG, GIF (Max 5MB)"})]})})},na=e=>{let{imagePreview:t,imageFile:n,onRemove:r}=e;return(0,ts.jsxs)("div",{className:"relative",children:[(0,ts.jsx)("img",{src:t,alt:"Event preview",className:"w-full h-48 object-cover rounded-lg border"}),(0,ts.jsx)("button",{type:"button",onClick:r,className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 transition-colors duration-200",children:(0,ts.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,ts.jsx)("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-sm",children:null===n||void 0===n?void 0:n.name})]})},ra=e=>{let{imageFile:t=null,imagePreview:n="",imageUrl:r="",uploadingImage:s=!1,onImageChange:i=()=>{},onImageUrlChange:a=()=>{},onRemoveImage:o=()=>{},error:l=null}=e;return(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Event Image"}),(0,ts.jsxs)("div",{className:"space-y-4",children:[s?(0,ts.jsx)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6",children:(0,ts.jsxs)("div",{className:"text-center",children:[(0,ts.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),(0,ts.jsx)("p",{className:"text-gray-600",children:"Uploading image..."})]})}):n?(0,ts.jsx)(na,{imagePreview:n,imageFile:t,onRemove:o}):(0,ts.jsx)(ta,{onImageChange:i}),(0,ts.jsx)("div",{className:"text-center text-gray-500",children:(0,ts.jsx)("span",{className:"text-sm",children:"or"})}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Add image from URL"}),(0,ts.jsx)("input",{name:"imageUrl",type:"url",value:r||"",onChange:a,className:"w-full border rounded-lg px-4 py-2 text-sm",placeholder:"https://example.com/image.jpg",disabled:!!t||s})]}),l&&(0,ts.jsx)("div",{className:"text-red-600 text-sm mt-2",children:l})]})]})},sa=()=>{const e=pe();return(0,ts.jsxs)("div",{className:"w-full max-w-xl rounded-3xl bg-gradient-to-br from-blue-100 via-blue-200 to-blue-300 p-10 shadow-lg flex flex-col items-center",children:[(0,ts.jsx)("h1",{className:"text-blue-900 text-4xl font-bold mb-6 text-center",children:"Event Submitted!"}),(0,ts.jsxs)("div",{className:"w-full bg-blue-200 rounded-xl p-6 mb-8",children:[(0,ts.jsx)("h2",{className:"text-xl font-semibold text-center mb-4",children:"What happens next?"}),(0,ts.jsxs)("ul",{className:"list-disc pl-6 text-gray-700 text-base",children:[(0,ts.jsx)("li",{children:"Your event has been published and is now visible to everyone"}),(0,ts.jsx)("li",{children:"You can manage your event from your organizer dashboard"}),(0,ts.jsx)("li",{children:"You'll receive notifications when people RSVP to your event"})]})]}),(0,ts.jsxs)("div",{className:"flex gap-4",children:[(0,ts.jsx)("button",{onClick:()=>e("/organizer-dashboard"),className:"bg-blue-500 text-white px-8 py-3 rounded font-semibold text-lg hover:bg-blue-600 transition-colors duration-200",children:"Go to Dashboard"}),(0,ts.jsx)("button",{onClick:()=>e("/create-event"),className:"bg-orange-500 text-white px-8 py-3 rounded font-semibold text-lg hover:bg-orange-600 transition-colors duration-200",children:"Create Another Event"})]})]})},ia=e=>{let{loading:t,uploadingImage:n}=e;const r=()=>(0,ts.jsxs)("svg",{className:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[(0,ts.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ts.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0l3 3-3 3v4a4 4 0 100 8h8l-3-3 3-3v4z"})]});return n?(0,ts.jsxs)(ts.Fragment,{children:[(0,ts.jsx)(r,{}),"Uploading Image..."]}):t?(0,ts.jsxs)(ts.Fragment,{children:[(0,ts.jsx)(r,{}),"Creating Event..."]}):"Create Event"},aa=e=>{let{loading:t,uploadingImage:n,error:r}=e;const s=pe();return(0,ts.jsxs)("div",{children:[r&&(0,ts.jsx)("div",{className:"text-red-500 text-center mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:r}),(0,ts.jsxs)("div",{className:"flex gap-4 mt-6",children:[(0,ts.jsx)("button",{type:"button",onClick:()=>s(-1),className:"bg-gray-200 text-gray-700 px-6 py-2 rounded-lg font-semibold flex-1 hover:bg-gray-300 transition-colors duration-200",disabled:t||n,children:"Cancel"}),(0,ts.jsx)("button",{type:"submit",className:"bg-orange-500 text-white px-6 py-2 rounded-lg font-semibold flex-1 hover:bg-orange-600 transition-colors duration-200 flex items-center justify-center gap-2",disabled:t||n,children:(0,ts.jsx)(ia,{loading:t,uploadingImage:n})})]})]})},oa=()=>{const{submitted:e,loading:t,error:n,imageFile:r,imagePreview:s,uploadingImage:i,form:a,categories:o,isAuthenticated:l,handleChange:c,handleImageChange:u,removeImage:d,handleSubmit:h,navigate:f}=$i();return e?(0,ts.jsx)(sa,{}):(0,ts.jsxs)("main",{className:"bg-gray-100 min-h-screen",children:[(0,ts.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,ts.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,ts.jsxs)("div",{className:"text-center mb-12",children:[(0,ts.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Create New Event"}),(0,ts.jsx)("p",{className:"text-lg text-gray-600",children:"Share your event with the campus community"})]}),(0,ts.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:(0,ts.jsxs)("form",{onSubmit:h,className:"space-y-8",children:[n&&(0,ts.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:n}),!l&&(0,ts.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-700 px-4 py-3 rounded-lg",children:[(0,ts.jsx)("p",{className:"font-semibold",children:"Authentication Required"}),(0,ts.jsx)("p",{className:"mt-1",children:"You need to be logged in to create an event."})]}),(0,ts.jsx)(Xi,{form:a,categories:o,onChange:c}),(0,ts.jsx)(ea,{form:a,onChange:c}),(0,ts.jsx)(ra,{imageFile:r,imagePreview:s,imageUrl:a.imageUrl,uploadingImage:i,onImageChange:u,onImageUrlChange:c,onRemoveImage:d,error:n}),(0,ts.jsx)(aa,{loading:t,uploadingImage:i,isAuthenticated:l,onCancel:()=>f("/events")})]})}),(0,ts.jsx)("div",{className:"mt-8 text-center text-sm text-gray-600",children:(0,ts.jsxs)("p",{children:["By creating an event, you agree to our"," ",(0,ts.jsx)("button",{type:"button",className:"text-blue-600 hover:underline",onClick:()=>f("/terms"),children:"Terms of Service"})," ","and"," ",(0,ts.jsx)("button",{type:"button",className:"text-blue-600 hover:underline",onClick:()=>f("/privacy"),children:"Privacy Policy"})]})})]})}),(0,ts.jsx)(_s,{})]})},la=[{title:"Tech Conference 2025",organizer:"Limkokwing University",date:"Dec 18, 2024",status:"Pending"},{title:"Career Fair",organizer:"RUPP",date:"Dec 18, 2025",status:"Pending"}],ca=()=>(0,ts.jsxs)("div",{className:"min-h-screen bg-white flex flex-col",children:[(0,ts.jsx)(Ts,{}),(0,ts.jsx)("main",{className:"flex-1 flex flex-col items-center justify-center py-16 px-4",children:(0,ts.jsxs)("div",{className:"w-full max-w-3xl rounded-3xl bg-gradient-to-br from-blue-100 via-blue-200 to-blue-300 p-10 shadow-lg",children:[(0,ts.jsx)("h1",{className:"text-blue-900 text-4xl font-bold mb-8 text-center",children:"Admin Panel"}),(0,ts.jsx)("h2",{className:"text-2xl font-bold text-blue-900 mb-6",children:"Pending Event Approvals"}),(0,ts.jsx)("div",{className:"space-y-6",children:la.map((e,t)=>(0,ts.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow flex justify-between items-center",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("div",{className:"text-xl font-semibold text-blue-900 mb-2",children:e.title}),(0,ts.jsxs)("div",{className:"text-gray-700 text-base",children:["Organizer: ",e.organizer]}),(0,ts.jsxs)("div",{className:"text-gray-500 text-sm",children:["Date: ",e.date]})]}),(0,ts.jsxs)("div",{className:"flex gap-2",children:[(0,ts.jsx)("button",{className:"bg-green-500 text-white px-4 py-2 rounded font-semibold",children:"Approve"}),(0,ts.jsx)("button",{className:"bg-red-500 text-white px-4 py-2 rounded font-semibold",children:"Reject"})]})]},t))})]})}),(0,ts.jsx)(_s,{})]}),ua=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(!0),[i,a]=(0,t.useState)(""),o=pe(),{isAuthenticated:l}=rs();(0,t.useEffect)(()=>{if(!l)return void o("/login",{state:{from:"/interested"}});(async()=>{try{s(!0);const e=await es();n(e.events),a("")}catch(e){console.error("Error fetching interested events:",e),a("Failed to load your events. Please try again later.")}finally{s(!1)}})()},[l,o]);return r?(0,ts.jsxs)("div",{className:"min-h-screen bg-white flex flex-col",children:[(0,ts.jsx)(Ts,{}),(0,ts.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,ts.jsx)("p",{className:"text-xl",children:"Loading your events..."})}),(0,ts.jsx)(_s,{})]}):(0,ts.jsxs)("div",{className:"min-h-screen bg-white flex flex-col",children:[(0,ts.jsx)(Ts,{}),(0,ts.jsx)("main",{className:"flex-1 flex flex-col items-center justify-center pt-24 pb-16 px-4",children:(0,ts.jsxs)("div",{className:"w-full max-w-2xl rounded-3xl bg-gradient-to-br from-blue-100 via-blue-200 to-blue-300 p-10 shadow-lg",children:[(0,ts.jsx)("h1",{className:"text-blue-900 text-4xl font-bold mb-8 text-center",children:"My Events"}),i&&(0,ts.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",children:i}),e.length>0?(0,ts.jsx)("div",{className:"space-y-6",children:e.map(e=>(0,ts.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow flex justify-between items-center cursor-pointer hover:shadow-md transition-shadow",onClick:()=>{return t=e.id,void o("/event/".concat(t));var t},children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("div",{className:"text-xl font-semibold text-blue-900 mb-2",children:e.title}),(0,ts.jsxs)("div",{className:"text-gray-500 text-sm",children:["Date: ",new Date(e.startDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),(0,ts.jsx)("span",{className:"px-4 py-2 rounded font-semibold text-white ".concat("attending"===e.rsvpStatus?"bg-green-500":"interested"===e.rsvpStatus?"bg-blue-500":"bg-orange-400"),children:"attending"===e.rsvpStatus?"Attending":"interested"===e.rsvpStatus?"Interested":"Upcoming"})]},e.id))}):(0,ts.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow text-center",children:[(0,ts.jsx)("p",{className:"text-gray-600 mb-4",children:"You haven't shown interest in any events yet."}),(0,ts.jsx)("button",{onClick:()=>o("/discovery"),className:"bg-blue-500 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-600 transition-colors",children:"Discover Events"})]})]})}),(0,ts.jsx)(_s,{})]})},da=[{message:"Your RSVP for Tech Conference 2025 is confirmed.",type:"success"},{message:"Event Career Fair is starting soon!",type:"info"}],ha=()=>(0,ts.jsxs)("div",{className:"min-h-screen bg-white flex flex-col",children:[(0,ts.jsx)(Ts,{}),(0,ts.jsx)("main",{className:"flex-1 flex flex-col items-center justify-center py-16 px-4",children:(0,ts.jsxs)("div",{className:"w-full max-w-2xl rounded-3xl bg-gradient-to-br from-blue-100 via-blue-200 to-blue-300 p-10 shadow-lg",children:[(0,ts.jsx)("h1",{className:"text-blue-900 text-4xl font-bold mb-8 text-center",children:"Notifications"}),(0,ts.jsx)("div",{className:"space-y-6",children:da.map((e,t)=>(0,ts.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow flex items-center gap-4 ".concat("success"===e.type?"border-l-4 border-green-500":"border-l-4 border-blue-500"),children:[(0,ts.jsx)("span",{className:"font-semibold ".concat("success"===e.type?"text-green-600":"text-blue-600"),children:"success"===e.type?"\u2714":"\u2139"}),(0,ts.jsx)("span",{className:"text-gray-700 text-base",children:e.message})]},t))})]})}),(0,ts.jsx)(_s,{})]}),fa=e=>{let{activeTab:t,setActiveTab:n,children:r}=e;return(0,ts.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ts.jsxs)("div",{className:"mb-8",children:[(0,ts.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),(0,ts.jsx)("p",{className:"text-gray-600",children:"Manage your account settings and preferences"})]}),(0,ts.jsxs)("div",{className:"grid lg:grid-cols-4 gap-8",children:[(0,ts.jsx)("div",{className:"lg:col-span-1",children:(0,ts.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:(0,ts.jsx)("nav",{className:"space-y-2",children:[{id:"account",label:"Account",icon:"\ud83d\udc64"},{id:"notifications",label:"Notifications",icon:"\ud83d\udd14"},{id:"privacy",label:"Privacy",icon:"\ud83d\udd12"},{id:"security",label:"Security",icon:"\ud83d\udee1\ufe0f"}].map(e=>(0,ts.jsxs)("button",{onClick:()=>n(e.id),className:"w-full text-left px-4 py-3 rounded-lg flex items-center space-x-3 transition-colors ".concat(t===e.id?"bg-blue-50 text-blue-600 border border-blue-200":"text-gray-700 hover:bg-gray-50"),children:[(0,ts.jsx)("span",{className:"text-lg",children:e.icon}),(0,ts.jsx)("span",{className:"font-medium",children:e.label})]},e.id))})})}),(0,ts.jsx)("div",{className:"lg:col-span-3",children:(0,ts.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:r})})]})]})},pa=e=>{let{accountForm:t,handleAccountFormChange:n,handleAccountSubmit:r,loading:s,successMessage:i,errorMessage:a}=e;return(0,ts.jsxs)("div",{className:"p-6",children:[(0,ts.jsxs)("div",{className:"mb-6",children:[(0,ts.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Account Information"}),(0,ts.jsx)("p",{className:"text-gray-600",children:"Update your personal information and profile details"})]}),i&&(0,ts.jsx)("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,ts.jsx)("p",{className:"text-green-700",children:i})}),a&&(0,ts.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,ts.jsx)("p",{className:"text-red-700",children:a})}),(0,ts.jsxs)("form",{onSubmit:r,className:"space-y-6",children:[(0,ts.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),(0,ts.jsx)("input",{type:"text",id:"firstName",name:"firstName",value:t.firstName,onChange:n,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your first name",required:!0})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),(0,ts.jsx)("input",{type:"text",id:"lastName",name:"lastName",value:t.lastName,onChange:n,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your last name",required:!0})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,ts.jsx)("input",{type:"email",id:"email",name:"email",value:t.email,onChange:n,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email",required:!0}),(0,ts.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"We'll send account notifications to this email"})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{htmlFor:"department",className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),(0,ts.jsxs)("select",{id:"department",name:"department",value:t.department,onChange:n,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,ts.jsx)("option",{value:"",children:"Select your department"}),(0,ts.jsx)("option",{value:"Computer Science",children:"Computer Science"}),(0,ts.jsx)("option",{value:"Engineering",children:"Engineering"}),(0,ts.jsx)("option",{value:"Business",children:"Business"}),(0,ts.jsx)("option",{value:"Arts",children:"Arts"}),(0,ts.jsx)("option",{value:"Sciences",children:"Sciences"}),(0,ts.jsx)("option",{value:"Medicine",children:"Medicine"}),(0,ts.jsx)("option",{value:"Law",children:"Law"}),(0,ts.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),(0,ts.jsx)("textarea",{id:"bio",name:"bio",value:t.bio,onChange:n,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Tell us about yourself..."}),(0,ts.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Brief description for your profile (optional)"})]}),(0,ts.jsx)("div",{className:"flex justify-end",children:(0,ts.jsx)("button",{type:"submit",disabled:s,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Saving...":"Save Changes"})})]})]})},ma=e=>{let{notificationSettings:t,handleNotificationChange:n,handleNotificationSubmit:r,loading:s,successMessage:i,errorMessage:a}=e;return(0,ts.jsxs)("div",{className:"p-6",children:[(0,ts.jsxs)("div",{className:"mb-6",children:[(0,ts.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Notification Preferences"}),(0,ts.jsx)("p",{className:"text-gray-600",children:"Choose how you want to be notified about events and activities"})]}),i&&(0,ts.jsx)("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,ts.jsx)("p",{className:"text-green-700",children:i})}),a&&(0,ts.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,ts.jsx)("p",{className:"text-red-700",children:a})}),(0,ts.jsxs)("form",{onSubmit:r,className:"space-y-8",children:[[{id:"emailNotifications",title:"Email Notifications",description:"Receive notifications via email",options:[{key:"eventUpdates",label:"Event updates and changes"},{key:"eventReminders",label:"Event reminders (24h before)"},{key:"newEvents",label:"New events in your interests"},{key:"rsvpConfirmations",label:"RSVP confirmations"}]},{id:"pushNotifications",title:"Push Notifications",description:"Receive push notifications on your device",options:[{key:"eventUpdates",label:"Event updates and changes"},{key:"eventReminders",label:"Event reminders (1h before)"},{key:"newEvents",label:"New events matching your interests"},{key:"socialActivity",label:"Social activity (likes, comments)"}]}].map(e=>(0,ts.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,ts.jsxs)("div",{className:"mb-4",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.title}),(0,ts.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]}),(0,ts.jsx)("div",{className:"space-y-4",children:e.options.map(r=>{var s;return(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("input",{type:"checkbox",id:"".concat(e.id,"-").concat(r.key),name:"".concat(e.id,".").concat(r.key),checked:(null===(s=t[e.id])||void 0===s?void 0:s[r.key])||!1,onChange:n,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,ts.jsx)("label",{htmlFor:"".concat(e.id,"-").concat(r.key),className:"ml-3 text-sm text-gray-700",children:r.label})]},r.key)})})]},e.id)),(0,ts.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,ts.jsxs)("div",{className:"mb-4",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Frequency Settings"}),(0,ts.jsx)("p",{className:"text-sm text-gray-600",children:"Control how often you receive notifications"})]}),(0,ts.jsxs)("div",{className:"space-y-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{htmlFor:"digestFrequency",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Digest Frequency"}),(0,ts.jsxs)("select",{id:"digestFrequency",name:"digestFrequency",value:t.digestFrequency||"weekly",onChange:n,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,ts.jsx)("option",{value:"realtime",children:"Real-time"}),(0,ts.jsx)("option",{value:"daily",children:"Daily digest"}),(0,ts.jsx)("option",{value:"weekly",children:"Weekly digest"}),(0,ts.jsx)("option",{value:"never",children:"Never"})]})]}),(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("input",{type:"checkbox",id:"quietHours",name:"quietHours",checked:t.quietHours||!1,onChange:n,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,ts.jsx)("label",{htmlFor:"quietHours",className:"ml-3 text-sm text-gray-700",children:"Enable quiet hours (10 PM - 8 AM)"})]})]})]}),(0,ts.jsx)("div",{className:"flex justify-end",children:(0,ts.jsx)("button",{type:"submit",disabled:s,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Saving...":"Save Preferences"})})]})]})},ga=e=>{let{privacySettings:t,handlePrivacyChange:n,handlePrivacySubmit:r,loading:s,successMessage:i,errorMessage:a}=e;return(0,ts.jsxs)("div",{className:"p-6",children:[(0,ts.jsxs)("div",{className:"mb-6",children:[(0,ts.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Privacy Settings"}),(0,ts.jsx)("p",{className:"text-gray-600",children:"Control your privacy and data sharing preferences"})]}),i&&(0,ts.jsx)("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,ts.jsx)("p",{className:"text-green-700",children:i})}),a&&(0,ts.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,ts.jsx)("p",{className:"text-red-700",children:a})}),(0,ts.jsxs)("form",{onSubmit:r,className:"space-y-8",children:[[{id:"profileVisibility",title:"Profile Visibility",description:"Control who can see your profile information",type:"radio",options:[{value:"public",label:"Public - Anyone can see your profile"},{value:"campus",label:"Campus only - Only users from your campus"},{value:"private",label:"Private - Only you can see your profile"}]},{id:"eventVisibility",title:"Event Attendance Visibility",description:"Control who can see events you're attending",type:"radio",options:[{value:"public",label:"Public - Anyone can see your events"},{value:"friends",label:"Friends only - Only your connections"},{value:"private",label:"Private - Only you can see your events"}]}].map(e=>(0,ts.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,ts.jsxs)("div",{className:"mb-4",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.title}),(0,ts.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]}),(0,ts.jsx)("div",{className:"space-y-3",children:e.options.map(r=>(0,ts.jsxs)("div",{className:"flex items-start",children:[(0,ts.jsx)("input",{type:"radio",id:"".concat(e.id,"-").concat(r.value),name:e.id,value:r.value,checked:t[e.id]===r.value,onChange:n,className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),(0,ts.jsxs)("label",{htmlFor:"".concat(e.id,"-").concat(r.value),className:"ml-3 text-sm text-gray-700",children:[(0,ts.jsx)("span",{className:"font-medium",children:r.label.split(" - ")[0]}),r.label.includes(" - ")&&(0,ts.jsxs)("span",{className:"text-gray-500",children:[" - ",r.label.split(" - ")[1]]})]})]},r.value))})]},e.id)),(0,ts.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,ts.jsxs)("div",{className:"mb-4",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Data & Permissions"}),(0,ts.jsx)("p",{className:"text-sm text-gray-600",children:"Control how your data is used and shared"})]}),(0,ts.jsx)("div",{className:"space-y-4",children:[{key:"allowSearch",label:"Allow others to find me by email",description:"Let other users find your profile using your email address"},{key:"showOnlineStatus",label:"Show online status",description:"Display when you're actively using the platform"},{key:"allowEventRecommendations",label:"Receive personalized event recommendations",description:"Use your activity to suggest relevant events"},{key:"allowAnalytics",label:"Help improve our service",description:"Share anonymous usage data to help us improve the platform"}].map(e=>(0,ts.jsxs)("div",{className:"flex items-start",children:[(0,ts.jsx)("input",{type:"checkbox",id:e.key,name:e.key,checked:t[e.key]||!1,onChange:n,className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,ts.jsxs)("div",{className:"ml-3",children:[(0,ts.jsx)("label",{htmlFor:e.key,className:"text-sm font-medium text-gray-700",children:e.label}),(0,ts.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.description})]})]},e.key))})]}),(0,ts.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,ts.jsxs)("div",{className:"mb-4",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Data Management"}),(0,ts.jsx)("p",{className:"text-sm text-gray-600",children:"Manage your personal data and account"})]}),(0,ts.jsxs)("div",{className:"space-y-4",children:[(0,ts.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Download My Data"}),(0,ts.jsx)("p",{className:"text-xs text-gray-500",children:"Get a copy of all your data"})]}),(0,ts.jsx)("button",{type:"button",className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Download"})]}),(0,ts.jsxs)("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded-lg",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("h4",{className:"text-sm font-medium text-red-900",children:"Delete My Account"}),(0,ts.jsx)("p",{className:"text-xs text-red-600",children:"Permanently delete your account and all data"})]}),(0,ts.jsx)("button",{type:"button",className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Delete"})]})]})]}),(0,ts.jsx)("div",{className:"flex justify-end",children:(0,ts.jsx)("button",{type:"submit",disabled:s,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Saving...":"Save Privacy Settings"})})]})]})},va=e=>{let{securitySettings:n,handleSecuritySubmit:r,loading:s,successMessage:i,errorMessage:a}=e;const[o,l]=(0,t.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[u,d]=(0,t.useState)({current:!1,new:!1,confirm:!1}),h=e=>{const{name:t,value:n}=e.target;l(e=>c(c({},e),{},{[t]:n}))},f=e=>{d(t=>c(c({},t),{},{[e]:!t[e]}))};return(0,ts.jsxs)("div",{className:"p-6",children:[(0,ts.jsxs)("div",{className:"mb-6",children:[(0,ts.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Security Settings"}),(0,ts.jsx)("p",{className:"text-gray-600",children:"Manage your account security and login preferences"})]}),i&&(0,ts.jsx)("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,ts.jsx)("p",{className:"text-green-700",children:i})}),a&&(0,ts.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,ts.jsx)("p",{className:"text-red-700",children:a})}),(0,ts.jsxs)("div",{className:"space-y-8",children:[(0,ts.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,ts.jsxs)("div",{className:"mb-4",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Change Password"}),(0,ts.jsx)("p",{className:"text-sm text-gray-600",children:"Update your password to keep your account secure"})]}),(0,ts.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o.newPassword===o.confirmPassword?r(e,{type:"password",data:o}):alert("New passwords do not match")},className:"space-y-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),(0,ts.jsxs)("div",{className:"relative",children:[(0,ts.jsx)("input",{type:u.current?"text":"password",id:"currentPassword",name:"currentPassword",value:o.currentPassword,onChange:h,className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter current password",required:!0}),(0,ts.jsx)("button",{type:"button",onClick:()=>f("current"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:u.current?"\ud83d\udc41\ufe0f":"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f"})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),(0,ts.jsxs)("div",{className:"relative",children:[(0,ts.jsx)("input",{type:u.new?"text":"password",id:"newPassword",name:"newPassword",value:o.newPassword,onChange:h,className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter new password",required:!0}),(0,ts.jsx)("button",{type:"button",onClick:()=>f("new"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:u.new?"\ud83d\udc41\ufe0f":"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f"})]}),(0,ts.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Must be at least 8 characters with letters, numbers and symbols"})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),(0,ts.jsxs)("div",{className:"relative",children:[(0,ts.jsx)("input",{type:u.confirm?"text":"password",id:"confirmPassword",name:"confirmPassword",value:o.confirmPassword,onChange:h,className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm new password",required:!0}),(0,ts.jsx)("button",{type:"button",onClick:()=>f("confirm"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:u.confirm?"\ud83d\udc41\ufe0f":"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f"})]})]}),(0,ts.jsx)("div",{className:"flex justify-end",children:(0,ts.jsx)("button",{type:"submit",disabled:s,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Updating...":"Update Password"})})]})]}),(0,ts.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,ts.jsxs)("div",{className:"mb-4",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Two-Factor Authentication"}),(0,ts.jsx)("p",{className:"text-sm text-gray-600",children:"Add an extra layer of security to your account"})]}),(0,ts.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:null!==n&&void 0!==n&&n.twoFactorEnabled?"Two-factor authentication is enabled":"Two-factor authentication is disabled"}),(0,ts.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:null!==n&&void 0!==n&&n.twoFactorEnabled?"Your account is protected with 2FA":"Secure your account with SMS or authenticator app"})]}),(0,ts.jsx)("button",{onClick:()=>r(null,{type:"twoFactor",enabled:!(null!==n&&void 0!==n&&n.twoFactorEnabled)}),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat(null!==n&&void 0!==n&&n.twoFactorEnabled?"bg-red-100 text-red-700 hover:bg-red-200":"bg-blue-600 text-white hover:bg-blue-700"),children:null!==n&&void 0!==n&&n.twoFactorEnabled?"Disable":"Enable"})]})]}),(0,ts.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,ts.jsxs)("div",{className:"mb-4",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Active Sessions"}),(0,ts.jsx)("p",{className:"text-sm text-gray-600",children:"Manage devices that are currently signed in to your account"})]}),(0,ts.jsx)("div",{className:"space-y-3",children:[{id:1,device:"Chrome on MacBook Pro",location:"San Francisco, CA",lastActive:"2 minutes ago",current:!0},{id:2,device:"Safari on iPhone",location:"San Francisco, CA",lastActive:"1 hour ago",current:!1},{id:3,device:"Firefox on Windows",location:"New York, NY",lastActive:"2 days ago",current:!1}].map(e=>(0,ts.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,ts.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ts.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-lg flex items-center justify-center",children:e.current?"\ud83d\udcbb":"\ud83d\udcf1"}),(0,ts.jsxs)("div",{children:[(0,ts.jsxs)("h4",{className:"text-sm font-medium text-gray-900",children:[e.device,e.current&&(0,ts.jsx)("span",{className:"text-green-600 ml-2",children:"(Current)"})]}),(0,ts.jsxs)("p",{className:"text-xs text-gray-500",children:[e.location," \u2022 Last active ",e.lastActive]})]})]}),!e.current&&(0,ts.jsx)("button",{onClick:()=>r(null,{type:"revokeSession",sessionId:e.id}),className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Sign out"})]},e.id))}),(0,ts.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,ts.jsx)("button",{onClick:()=>r(null,{type:"revokeAllSessions"}),className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Sign out all other sessions"})})]}),(0,ts.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,ts.jsxs)("div",{className:"mb-4",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Account Recovery"}),(0,ts.jsx)("p",{className:"text-sm text-gray-600",children:"Backup options to recover your account if you lose access"})]}),(0,ts.jsxs)("div",{className:"space-y-3",children:[(0,ts.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Recovery Email"}),(0,ts.jsx)("p",{className:"text-xs text-gray-500",children:"backup-email@example.com"})]}),(0,ts.jsx)("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Update"})]}),(0,ts.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Recovery Codes"}),(0,ts.jsx)("p",{className:"text-xs text-gray-500",children:"Download backup codes for account recovery"})]}),(0,ts.jsx)("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Generate"})]})]})]})]})]})},ya=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296===(64512&s)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},ba={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const t=e[s],i=s+1<e.length,a=i?e[s+1]:0,o=s+2<e.length,l=o?e[s+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ya(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&i)}else if(s>239&&s<365){const i=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const t=n[e.charAt(s++)],i=s<e.length?n[e.charAt(s)]:0;++s;const a=s<e.length?n[e.charAt(s)]:64;++s;const o=s<e.length?n[e.charAt(s)]:64;if(++s,null==t||null==i||null==a||null==o)throw new xa;const l=t<<2|i>>4;if(r.push(l),64!==a){const e=i<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class xa extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wa=function(e){return function(e){const t=ya(e);return ba.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ka=function(e){try{return ba.decodeString(e,!0)}catch(CS){console.error("base64Decode failed: ",CS)}return null};function Na(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Sa=()=>{try{return Na().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"https://campusnex-production.up.railway.app/api",REACT_APP_ENVIRONMENT:"production",REACT_APP_FIREBASE_API_KEY:"AIzaSyBG-rov_gOD4JCIZ0xyiPkZ-GSPRIbQvfk",REACT_APP_FIREBASE_APP_ID:"1:399142959452:web:dfcc9ecff25f7889866999",REACT_APP_FIREBASE_AUTH_DOMAIN:"campusnex-37b2b.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-0X1F4CHP7D",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"399142959452",REACT_APP_FIREBASE_PROJECT_ID:"campusnex-37b2b",REACT_APP_FIREBASE_STORAGE_BUCKET:"campusnex-37b2b.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(CS){return}const t=e&&ka(e[1]);return t&&JSON.parse(t)})()}catch(CS){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(CS))}},Ea=e=>{var t;return null===(t=Sa())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},ja=()=>{var e;return null===(e=Sa())||void 0===e?void 0:e.config},Ca=e=>{var t;return null===(t=Sa())||void 0===t?void 0:t["_".concat(e)]};class Ta{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function _a(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function Ia(e){return(await fetch(e,{credentials:"include"})).ok}const Aa={};let Pa=!1;function Ra(e,t){if("undefined"===typeof window||"undefined"===typeof document||!_a(window.location.host)||Aa[e]===t||Aa[e]||Pa)return;function n(e){return"__firebase__banner__".concat(e)}Aa[e]=t;const r="__firebase__banner",s=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Aa))Aa[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Pa=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}s?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function La(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Da(){var e;const t=null===(e=Sa())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(CS){return!1}}function Oa(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ma(){return!Da()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fa(){try{return"object"===typeof indexedDB}catch(CS){return!1}}function Ua(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class za extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,za.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Va.prototype.create)}}class Va{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],s=r?function(e,t){return e.replace(Ba,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",i="".concat(this.serviceName,": ").concat(s," (").concat(n,").");return new za(n,i,t)}}const Ba=/\{\$([^}]+)}/g;function Ha(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],i=t[s];if(qa(n)&&qa(i)){if(!Ha(n,i))return!1}else if(n!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function qa(e){return null!==e&&"object"===typeof e}function Wa(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ka(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Ga(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Qa{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Ja),void 0===r.error&&(r.error=Ja),void 0===r.complete&&(r.complete=Ja);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(CS){}}),this.observers.push(r),s}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(CS){"undefined"!==typeof console&&console.error&&console.error(CS)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ja(){}function Ya(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function $a(e){return e&&e._delegate?e._delegate:e}class Xa{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Za="[DEFAULT]";class eo{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ta;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(CS){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(CS){if(r)return null;throw CS}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Za})}catch(CS){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(CS){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(s)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(s=t,s===Za?void 0:s),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}var s;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za;return this.component?this.component.multipleInstances?e:Za:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class to{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new eo(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const no=[];var ro;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ro||(ro={}));const so={debug:ro.DEBUG,verbose:ro.VERBOSE,info:ro.INFO,warn:ro.WARN,error:ro.ERROR,silent:ro.SILENT},io=ro.INFO,ao={[ro.DEBUG]:"log",[ro.VERBOSE]:"log",[ro.INFO]:"info",[ro.WARN]:"warn",[ro.ERROR]:"error"},oo=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=ao[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var s=arguments.length,i=new Array(s>2?s-2:0),a=2;a<s;a++)i[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class lo{constructor(e){this.name=e,this._logLevel=io,this._logHandler=oo,this._userLogHandler=null,no.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ro))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?so[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ro.DEBUG,...t),this._logHandler(this,ro.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ro.VERBOSE,...t),this._logHandler(this,ro.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ro.INFO,...t),this._logHandler(this,ro.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ro.WARN,...t),this._logHandler(this,ro.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ro.ERROR,...t),this._logHandler(this,ro.ERROR,...t)}}let co,uo;const ho=new WeakMap,fo=new WeakMap,po=new WeakMap,mo=new WeakMap,go=new WeakMap;let vo={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return fo.get(e);if("objectStoreNames"===t)return e.objectStoreNames||po.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xo(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function yo(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(uo||(uo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(wo(this),n),xo(ho.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xo(e.apply(wo(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];const i=e.call(wo(this),t,...r);return po.set(i,t.sort?t.sort():[t]),xo(i)}}function bo(e){return"function"===typeof e?yo(e):(e instanceof IDBTransaction&&function(e){if(fo.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});fo.set(e,t)}(e),t=e,(co||(co=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,vo):e);var t}function xo(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{t(xo(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&ho.set(t,e)}).catch(()=>{}),go.set(t,e),t}(e);if(mo.has(e))return mo.get(e);const t=bo(e);return t!==e&&(mo.set(e,t),go.set(t,e)),t}const wo=e=>go.get(e);function ko(e,t){let{blocked:n,upgrade:r,blocking:s,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=xo(a);return r&&a.addEventListener("upgradeneeded",e=>{r(xo(a.result),e.oldVersion,e.newVersion,xo(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{i&&e.addEventListener("close",()=>i()),s&&e.addEventListener("versionchange",e=>s(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}const No=["get","getKey","getAll","getAllKeys","count"],So=["put","add","delete","clear"],Eo=new Map;function jo(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Eo.get(t))return Eo.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=So.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!No.includes(n))return;const i=async function(e){const t=this.transaction(e,s?"readwrite":"readonly");let i=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(i=i.index(o.shift())),(await Promise.all([i[n](...o),s&&t.done]))[0]};return Eo.set(t,i),i}vo=(e=>c(c({},e),{},{get:(t,n,r)=>jo(t,n)||e.get(t,n,r),has:(t,n)=>!!jo(t,n)||e.has(t,n)}))(vo);class Co{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const To="@firebase/app",_o="0.14.2",Io=new lo("@firebase/app"),Ao="@firebase/app-compat",Po="@firebase/analytics-compat",Ro="@firebase/analytics",Lo="@firebase/app-check-compat",Do="@firebase/app-check",Oo="@firebase/auth",Mo="@firebase/auth-compat",Fo="@firebase/database",Uo="@firebase/data-connect",zo="@firebase/database-compat",Vo="@firebase/functions",Bo="@firebase/functions-compat",Ho="@firebase/installations",qo="@firebase/installations-compat",Wo="@firebase/messaging",Ko="@firebase/messaging-compat",Go="@firebase/performance",Qo="@firebase/performance-compat",Jo="@firebase/remote-config",Yo="@firebase/remote-config-compat",$o="@firebase/storage",Xo="@firebase/storage-compat",Zo="@firebase/firestore",el="@firebase/ai",tl="@firebase/firestore-compat",nl="firebase",rl="[DEFAULT]",sl={[To]:"fire-core",[Ao]:"fire-core-compat",[Ro]:"fire-analytics",[Po]:"fire-analytics-compat",[Do]:"fire-app-check",[Lo]:"fire-app-check-compat",[Oo]:"fire-auth",[Mo]:"fire-auth-compat",[Fo]:"fire-rtdb",[Uo]:"fire-data-connect",[zo]:"fire-rtdb-compat",[Vo]:"fire-fn",[Bo]:"fire-fn-compat",[Ho]:"fire-iid",[qo]:"fire-iid-compat",[Wo]:"fire-fcm",[Ko]:"fire-fcm-compat",[Go]:"fire-perf",[Qo]:"fire-perf-compat",[Jo]:"fire-rc",[Yo]:"fire-rc-compat",[$o]:"fire-gcs",[Xo]:"fire-gcs-compat",[Zo]:"fire-fst",[tl]:"fire-fst-compat",[el]:"fire-vertex","fire-js":"fire-js",[nl]:"fire-js-all"},il=new Map,al=new Map,ol=new Map;function ll(e,t){try{e.container.addComponent(t)}catch(CS){Io.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),CS)}}function cl(e){const t=e.name;if(ol.has(t))return Io.debug("There were multiple attempts to register component ".concat(t,".")),!1;ol.set(t,e);for(const n of il.values())ll(n,e);for(const n of al.values())ll(n,e);return!0}function ul(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function dl(e){return null!==e&&void 0!==e&&void 0!==e.settings}const hl=new Va("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class fl{constructor(e,t,n){this._isDeleted=!1,this._options=c({},e),this._config=c({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hl.create("app-deleted",{appName:this._name})}}const pl="12.2.0";function ml(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=c({name:rl,automaticDataCollectionEnabled:!0},t),s=r.name;if("string"!==typeof s||!s)throw hl.create("bad-app-name",{appName:String(s)});if(n||(n=ja()),!n)throw hl.create("no-options");const i=il.get(s);if(i){if(Ha(n,i.options)&&Ha(r,i.config))return i;throw hl.create("duplicate-app",{appName:s})}const a=new to(s);for(const l of ol.values())a.addComponent(l);const o=new fl(n,r,a);return il.set(s,o),o}function gl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rl;const t=il.get(e);if(!t&&e===rl&&ja())return ml();if(!t)throw hl.create("no-app",{appName:e});return t}function vl(e,t,n){var r;let s=null!==(r=sl[e])&&void 0!==r?r:e;n&&(s+="-".concat(n));const i=s.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const e=['Unable to register library "'.concat(s,'" with version "').concat(t,'":')];return i&&e.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),i&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Io.warn(e.join(" "))}cl(new Xa("".concat(s,"-version"),()=>({library:s,version:t}),"VERSION"))}const yl="firebase-heartbeat-store";let bl=null;function xl(){return bl||(bl=ko("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(yl)}catch(CS){console.warn(CS)}}}).catch(e=>{throw hl.create("idb-open",{originalErrorMessage:e.message})})),bl}async function wl(e,t){try{const n=(await xl()).transaction(yl,"readwrite"),r=n.objectStore(yl);await r.put(t,kl(e)),await n.done}catch(CS){if(CS instanceof za)Io.warn(CS.message);else{const t=hl.create("idb-set",{originalErrorMessage:null===CS||void 0===CS?void 0:CS.message});Io.warn(t.message)}}}function kl(e){return"".concat(e.name,"!").concat(e.options.appId)}class Nl{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new El(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Sl();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(CS){Io.warn(CS)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Sl(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const s of e){const e=n.find(e=>e.agent===s.agent);if(e){if(e.dates.push(s.date),jl(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),jl(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),s=wa(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(CS){return Io.warn(CS),""}}}function Sl(){return(new Date).toISOString().substring(0,10)}class El{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Fa()&&Ua().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await xl()).transaction(yl),n=await t.objectStore(yl).get(kl(e));return await t.done,n}catch(CS){if(CS instanceof za)Io.warn(CS.message);else{const t=hl.create("idb-get",{originalErrorMessage:null===CS||void 0===CS?void 0:CS.message});Io.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return wl(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return wl(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function jl(e){return wa(JSON.stringify({version:2,heartbeats:e})).length}var Cl;Cl="",cl(new Xa("platform-logger",e=>new Co(e),"PRIVATE")),cl(new Xa("heartbeat",e=>new Nl(e),"PRIVATE")),vl(To,_o,Cl),vl(To,_o,"esm2020"),vl("fire-js","");vl("firebase","12.2.1","app");const Tl=["providerId"],_l=["uid","auth","stsTokenManager"],Il=["providerId","signInMethod"];function Al(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Pl=Al,Rl=new Va("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ll=new lo("@firebase/auth");function Dl(e){if(Ll.logLevel<=ro.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ll.error("Auth (".concat(pl,"): ").concat(e),...n)}}function Ol(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw zl(e,...n)}function Ml(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return zl(e,...n)}function Fl(e,t,n){const r=c(c({},Pl()),{},{[t]:n});return new Va("auth","Firebase",r).create(t,{appName:e.name})}function Ul(e){return Fl(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Rl.create(e,...n)}function Vl(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];throw zl(t,...r)}}function Bl(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Dl(t),new Error(t)}function Hl(e,t){e||Bl(t)}function ql(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Wl(){return"http:"===Kl()||"https:"===Kl()}function Kl(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Gl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hl(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(La())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Wl()||Oa()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ql(e,t){Hl(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Jl{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Bl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Bl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Bl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Yl={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},$l=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Xl=new Gl(3e4,6e4);function Zl(e,t){return e.tenantId&&!t.tenantId?c(c({},t),{},{tenantId:e.tenantId}):t}async function ec(e,t,n,r){return tc(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let s={},i={};r&&("GET"===t?i=r:s={body:JSON.stringify(r)});const a=Wa(c({key:e.config.apiKey},i)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=c({method:t,headers:o},s);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&_a(e.emulatorConfig.host)&&(l.credentials="include"),Jl.fetch()(await rc(e,e.config.apiHost,n,a),l)})}async function tc(e,t,n){e._canInitEmulator=!1;const r=c(c({},Yl),t);try{const t=new ic(e),s=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw ac(e,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const t=s.ok?i.errorMessage:i.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw ac(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw ac(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw ac(e,"user-disabled",i);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Fl(e,o,a);Ol(e,o)}}catch(CS){if(CS instanceof za)throw CS;Ol(e,"network-request-failed",{message:String(CS)})}}async function nc(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await ec(e,t,n,r,s);return"mfaPendingCredential"in i&&Ol(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function rc(e,t,n,r){const s="".concat(t).concat(n,"?").concat(r),i=e,a=i.config.emulator?Ql(e.config,s):"".concat(e.config.apiScheme,"://").concat(s);if($l.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(a).toString()}return a}function sc(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ic{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Ml(this.auth,"network-request-failed")),Xl.get())})}}function ac(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ml(e,t,r);return s.customData._tokenResponse=n,s}function oc(e){return void 0!==e&&void 0!==e.enterprise}class lc{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return sc(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cc(e,t){return ec(e,"GET","/v2/recaptchaConfig",Zl(e,t))}async function uc(e,t){return ec(e,"POST","/v1/accounts:lookup",t)}function dc(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(CS){}}function hc(e){return 1e3*Number(e)}function fc(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Dl("JWT malformed, contained fewer than 3 sections"),null;try{const e=ka(n);return e?JSON.parse(e):(Dl("Failed to decode base64 JWT payload"),null)}catch(CS){return Dl("Caught error parsing JWT payload as JSON",null===CS||void 0===CS?void 0:CS.toString()),null}}function pc(e){const t=fc(e);return Vl(t,"internal-error"),Vl("undefined"!==typeof t.exp,"internal-error"),Vl("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function mc(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(CS){throw CS instanceof za&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(CS)&&e.auth.currentUser===e&&await e.auth.signOut(),CS}}class gc{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(CS){return void((null===CS||void 0===CS?void 0:CS.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class vc{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=dc(this.lastLoginAt),this.creationTime=dc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function yc(e){var t;const n=e.auth,r=await e.getIdToken(),s=await mc(e,uc(n,{idToken:r}));Vl(null===s||void 0===s?void 0:s.users.length,n,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const a=null!==(t=i.providerUserInfo)&&void 0!==t&&t.length?bc(i.providerUserInfo):[],o=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,a),l=e.isAnonymous,c=!(e.email&&i.passwordHash)&&!(null!==o&&void 0!==o&&o.length),u=!!l&&c,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new vc(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function bc(e){return e.map(e=>{let{providerId:t}=e,n=s(e,Tl);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class xc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Vl(e.idToken,"internal-error"),Vl("undefined"!==typeof e.idToken,"internal-error"),Vl("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):pc(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Vl(0!==e.length,"internal-error");const t=pc(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Vl(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await async function(e,t){const n=await tc(e,{},async()=>{const n=Wa({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,i=await rc(e,r,"/v1/token","key=".concat(s)),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:a,body:n};return e.emulatorConfig&&_a(e.emulatorConfig.host)&&(o.credentials="include"),Jl.fetch()(i,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,i=new xc;return n&&(Vl("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(Vl("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),s&&(Vl("number"===typeof s,"internal-error",{appName:e}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xc,this.toJSON())}_performRefresh(){return Bl("not implemented")}}function wc(e,t){Vl("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class kc{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=s(e,_l);this.providerId="firebase",this.proactiveRefresh=new gc(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new vc(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await mc(this,this.stsTokenManager.getToken(this.auth,e));return Vl(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=$a(e),r=await n.getIdToken(t),s=fc(r);Vl(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i="object"===typeof s.firebase?s.firebase:void 0,a=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:dc(hc(s.auth_time)),issuedAtTime:dc(hc(s.iat)),expirationTime:dc(hc(s.exp)),signInProvider:a||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=$a(e);await yc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Vl(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>c({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new kc(c(c({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Vl(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await yc(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dl(this.auth.app))return Promise.reject(Ul(this.auth));const e=await this.getIdToken();return await mc(this,async function(e,t){return ec(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return c(c({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>c({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,s,i,a,o,l,u;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(i=t.photoURL)&&void 0!==i?i:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,v=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:x,isAnonymous:w,providerData:k,stsTokenManager:N}=t;Vl(b&&N,e,"internal-error");const S=xc.fromJSON(this.name,N);Vl("string"===typeof b,e,"internal-error"),wc(d,e.name),wc(h,e.name),Vl("boolean"===typeof x,e,"internal-error"),Vl("boolean"===typeof w,e,"internal-error"),wc(f,e.name),wc(p,e.name),wc(m,e.name),wc(g,e.name),wc(v,e.name),wc(y,e.name);const E=new kc({uid:b,auth:e,email:h,emailVerified:x,displayName:d,isAnonymous:w,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:S,createdAt:v,lastLoginAt:y});return k&&Array.isArray(k)&&(E.providerData=k.map(e=>c({},e))),g&&(E._redirectEventId=g),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new xc;r.updateFromServerResponse(t);const s=new kc({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await yc(s),s}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Vl(void 0!==r.localId,"internal-error");const s=void 0!==r.providerUserInfo?bc(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!(null!==s&&void 0!==s&&s.length),a=new xc;a.updateFromIdToken(n);const o=new kc({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new vc(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==s&&void 0!==s&&s.length)};return Object.assign(o,l),o}}const Nc=new Map;function Sc(e){Hl(e instanceof Function,"Expected a class definition");let t=Nc.get(e);return t?(Hl(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Nc.set(e,t),t)}class Ec{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ec.type="NONE";const jc=Ec;function Cc(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Tc{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=Cc(this.userKey,r.apiKey,s),this.fullPersistenceKey=Cc("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await uc(this.auth,{idToken:e}).catch(()=>{});return t?kc._fromGetAccountInfoResponse(this.auth,t,e):null}return kc._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Tc(Sc(jc),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let s=r[0]||Sc(jc);const i=Cc(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(i);if(t){let n;if("string"===typeof t){const r=await uc(e,{idToken:t}).catch(()=>{});if(!r)break;n=await kc._fromGetAccountInfoResponse(e,r,t)}else n=kc._fromJSON(e,t);c!==s&&(a=n),s=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&o.length?(s=o[0],a&&await s._set(i,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==s)try{await e._remove(i)}catch(t){}})),new Tc(s,e,n)):new Tc(s,e,n)}}function _c(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Rc(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ic(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Dc(t))return"Blackberry";if(Oc(t))return"Webos";if(Ac(t))return"Safari";if((t.includes("chrome/")||Pc(t))&&!t.includes("edge/"))return"Chrome";if(Lc(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Ic(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:La();return/firefox\//i.test(e)}function Ac(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:La()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Pc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:La();return/crios\//i.test(e)}function Rc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:La();return/iemobile/i.test(e)}function Lc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:La();return/android/i.test(e)}function Dc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:La();return/blackberry/i.test(e)}function Oc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:La();return/webos/i.test(e)}function Mc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:La();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Fc(){return function(){const e=La();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Uc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:La();return Mc(e)||Lc(e)||Oc(e)||Dc(e)||/windows phone/i.test(e)||Rc(e)}function zc(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=_c(La());break;case"Worker":t="".concat(_c(La()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(pl,"/").concat(r)}class Vc{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(CS){r(CS)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(CS){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===CS||void 0===CS?void 0:CS.message})}}}class Bc{constructor(e){var t,n,r,s;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,s,i,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(s=o.containsUppercaseLetter)||void 0===s||s),o.isValid&&(o.isValid=null===(i=o.containsNumericCharacter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class Hc{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wc(this),this.idTokenSubscription=new Wc(this),this.beforeStateQueue=new Vc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rl,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Sc(t)),this._initializationPromise=this.queue(async()=>{var n,r,s;if(!this._deleted&&(this.persistenceManager=await Tc.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(CS){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(s=this.currentUser)||void 0===s?void 0:s.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await uc(this,{idToken:e}),n=await kc._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(dl(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var s,i;await this.getOrInitRedirectPersistenceManager();const t=null===(s=this.redirectUser)||void 0===s?void 0:s._redirectEventId,a=null===(i=n)||void 0===i?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(e);t&&t!==a||null===o||void 0===o||!o.user||(n=o.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(CS){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(CS))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Vl(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(CS){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await yc(e)}catch(CS){if((null===CS||void 0===CS?void 0:CS.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dl(this.app))return Promise.reject(Ul(this));const t=e?$a(e):null;return t&&Vl(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Vl(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dl(this.app)?Promise.reject(Ul(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dl(this.app)?Promise.reject(Ul(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sc(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return ec(e,"GET","/v2/passwordPolicy",Zl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Bc(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Va("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return ec(e,"POST","/v2/accounts:revokeToken",Zl(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Sc(e)||this._popupRedirectResolver;Vl(t,this,"argument-error"),this.redirectPersistenceManager=await Tc.create(this,[Sc(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s="function"===typeof t?t:t.next.bind(t);let i=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Vl(a,this,"internal-error"),a.then(()=>{i||s(this.currentUser)}),"function"===typeof t){const s=e.addObserver(t,n,r);return()=>{i=!0,s()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Vl(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(dl(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(Ll.logLevel<=ro.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ll.warn("Auth (".concat(pl,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function qc(e){return $a(e)}class Wc{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Qa(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Vl(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Kc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Gc(e){return Kc.loadJS(e)}function Qc(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Jc{constructor(){this.enterprise=new Yc}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Yc{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const $c="NO_RECAPTCHA";class Xc{constructor(e){this.type="recaptcha-enterprise",this.auth=qc(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const s=window.grecaptcha;oc(s)?s.enterprise.ready(()=>{s.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n($c)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Jc).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{cc(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new lc(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(s=>{if(!t&&oc(window.grecaptcha))n(s,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Kc.recaptchaEnterpriseScript;0!==t.length&&(t+=s),Gc(t).then(()=>{n(s,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Zc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new Xc(e);let a;if(s)a=$c;else try{a=await i.verify(n)}catch(l){a=await i.verify(n,!0)}const o=c({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function eu(e,t,n,r,s){if("EMAIL_PASSWORD_PROVIDER"===s){var i;if(null!==(i=e._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Zc(e,t,n,"getOobCode"===n);return r(e,s)}return r(e,t).catch(async s=>{if(s.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const s=await Zc(e,t,n,"getOobCode"===n);return r(e,s)}return Promise.reject(s)})}if("PHONE_PROVIDER"===s){var a;if(null!==(a=e._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("PHONE_PROVIDER")){const s=await Zc(e,t,n);return r(e,s).catch(async s=>{var i;if("AUDIT"===(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.getProviderEnforcementState("PHONE_PROVIDER"))&&(s.code==="auth/".concat("missing-recaptcha-token")||s.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const s=await Zc(e,t,n,!1,!0);return r(e,s)}return Promise.reject(s)})}{const s=await Zc(e,t,n,!1,!0);return r(e,s)}}return Promise.reject(s+" provider is not supported.")}async function tu(e){const t=qc(e),n=await cc(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new lc(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Xc(t).verify()}}function nu(e,t,n){const r=qc(e);Vl(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!(null===n||void 0===n||!n.disableWarnings),i=ru(t),{host:a,port:o}=function(e){const t=ru(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const e=s[1];return{host:e,port:su(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:su(t)}}}(t),l=null===o?"":":".concat(o),c={url:"".concat(i,"//").concat(a).concat(l,"/")},u=Object.freeze({host:a,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator)return Vl(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Vl(Ha(c,r.config.emulator)&&Ha(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,_a(a)?(Ia("".concat(i,"//").concat(a).concat(l)),Ra("Auth",!0)):s||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ru(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function su(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class iu{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Bl("not implemented")}_getIdTokenResponse(e){return Bl("not implemented")}_linkToIdToken(e,t){return Bl("not implemented")}_getReauthenticationResolver(e){return Bl("not implemented")}}async function au(e,t){return ec(e,"POST","/v1/accounts:signUp",t)}async function ou(e,t){return nc(e,"POST","/v1/accounts:signInWithPassword",Zl(e,t))}class lu extends iu{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new lu(e,t,"password")}static _fromEmailAndCode(e,t){return new lu(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return eu(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ou,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return nc(e,"POST","/v1/accounts:signInWithEmailLink",Zl(e,t))}(e,{email:this._email,oobCode:this._password});default:Ol(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return eu(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",au,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return nc(e,"POST","/v1/accounts:signInWithEmailLink",Zl(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ol(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function cu(e,t){return nc(e,"POST","/v1/accounts:signInWithIdp",Zl(e,t))}class uu extends iu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new uu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ol("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=s(t,Il);if(!n||!r)return null;const a=new uu(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return cu(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,cu(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,cu(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Wa(t)}return e}}async function du(e,t){return ec(e,"POST","/v1/accounts:sendVerificationCode",Zl(e,t))}const hu={USER_NOT_FOUND:"user-not-found"};class fu extends iu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new fu({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new fu({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return nc(e,"POST","/v1/accounts:signInWithPhoneNumber",Zl(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await nc(e,"POST","/v1/accounts:signInWithPhoneNumber",Zl(e,t));if(n.temporaryProof)throw ac(e,"account-exists-with-different-credential",n);return n}(e,c({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return nc(e,"POST","/v1/accounts:signInWithPhoneNumber",Zl(e,c(c({},t),{},{operation:"REAUTH"})),hu)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}=e;return n||t||r||s?new fu({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}):null}}class pu{constructor(e){var t,n,r,s,i,a;const o=Ka(Ga(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Vl(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(s=o.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(i=o.lang)&&void 0!==i?i:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Ka(Ga(e)).link,n=t?Ka(Ga(t)).deep_link_id:null,r=Ka(Ga(e)).deep_link_id;return(r?Ka(Ga(r)).link:null)||r||n||t||e}(e);try{return new pu(t)}catch(n){return null}}}class mu{constructor(){this.providerId=mu.PROVIDER_ID}static credential(e,t){return lu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=pu.parseLink(t);return Vl(n,"argument-error"),lu._fromEmailAndCode(e,n.code,n.tenantId)}}mu.PROVIDER_ID="password",mu.EMAIL_PASSWORD_SIGN_IN_METHOD="password",mu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class gu{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class vu extends gu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class yu extends vu{constructor(){super("facebook.com")}static credential(e){return uu._fromParams({providerId:yu.PROVIDER_ID,signInMethod:yu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yu.credentialFromTaggedObject(e)}static credentialFromError(e){return yu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return yu.credential(t.oauthAccessToken)}catch(n){return null}}}yu.FACEBOOK_SIGN_IN_METHOD="facebook.com",yu.PROVIDER_ID="facebook.com";class bu extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return uu._fromParams({providerId:bu.PROVIDER_ID,signInMethod:bu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return bu.credentialFromTaggedObject(e)}static credentialFromError(e){return bu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return bu.credential(n,r)}catch(s){return null}}}bu.GOOGLE_SIGN_IN_METHOD="google.com",bu.PROVIDER_ID="google.com";class xu extends vu{constructor(){super("github.com")}static credential(e){return uu._fromParams({providerId:xu.PROVIDER_ID,signInMethod:xu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xu.credentialFromTaggedObject(e)}static credentialFromError(e){return xu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return xu.credential(t.oauthAccessToken)}catch(n){return null}}}xu.GITHUB_SIGN_IN_METHOD="github.com",xu.PROVIDER_ID="github.com";class wu extends vu{constructor(){super("twitter.com")}static credential(e,t){return uu._fromParams({providerId:wu.PROVIDER_ID,signInMethod:wu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return wu.credentialFromTaggedObject(e)}static credentialFromError(e){return wu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return wu.credential(n,r)}catch(s){return null}}}wu.TWITTER_SIGN_IN_METHOD="twitter.com",wu.PROVIDER_ID="twitter.com";class ku{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=await kc._fromIdTokenResponse(e,n,r),i=Nu(n);return new ku({user:s,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Nu(n);return new ku({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Nu(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Su extends za{constructor(e,t,n,r){var s;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Su.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Su(e,t,n,r)}}function Eu(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Su._fromErrorAndOperation(e,n,t,r);throw n})}async function ju(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await mc(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ku._forOperation(e,"link",r)}async function Cu(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(dl(r.app))return Promise.reject(Ul(r));const s="reauthenticate";try{const i=await mc(e,Eu(r,s,t,e),n);Vl(i.idToken,r,"internal-error");const a=fc(i.idToken);Vl(a,r,"internal-error");const{sub:o}=a;return Vl(e.uid===o,r,"user-mismatch"),ku._forOperation(e,s,i)}catch(CS){throw(null===CS||void 0===CS?void 0:CS.code)==="auth/".concat("user-not-found")&&Ol(r,"user-mismatch"),CS}}async function Tu(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(dl(e.app))return Promise.reject(Ul(e));const r="signIn",s=await Eu(e,r,t),i=await ku._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}function _u(e,t){return ec(e,"POST","/v2/accounts/mfaEnrollment:start",Zl(e,t))}new WeakMap;const Iu="__sak";class Au{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Iu,"1"),this.storage.removeItem(Iu),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Pu extends Au{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Uc(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);Fc()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Pu.type="LOCAL";const Ru=Pu;function Lu(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),s=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(s))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function Du(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Ou{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Du(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Lu(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Du(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Du(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Lu(n);const s=setInterval(()=>{const e=Lu(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(s))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Ou.type="COOKIE";class Mu extends Au{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Mu.type="SESSION";const Fu=Mu;class Uu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Uu(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:s}=t.data,i=this.handlersMap[r];if(null===i||void 0===i||!i.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(i).map(async e=>e(t.origin,s)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function zu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Uu.receivers=[];class Vu{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,i;return new Promise((a,o)=>{const l=zu("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(c),clearTimeout(s),o(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function Bu(){return window}function Hu(){return"undefined"!==typeof Bu().WorkerGlobalScope&&"function"===typeof Bu().importScripts}const qu="firebaseLocalStorageDb",Wu="firebaseLocalStorage",Ku="fbase_key";class Gu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Qu(e,t){return e.transaction([Wu],t?"readwrite":"readonly").objectStore(Wu)}function Ju(){const e=indexedDB.open(qu,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Wu,{keyPath:Ku})}catch(CS){n(CS)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Wu)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(qu);return new Gu(e).toPromise()}(),t(await Ju()))})})}async function Yu(e,t,n){const r=Qu(e,!0).put({[Ku]:t,value:n});return new Gu(r).toPromise()}function $u(e,t){const n=Qu(e,!0).delete(t);return new Gu(n).toPromise()}class Xu{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Ju()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(CS){if(t++>3)throw CS;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Hu()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uu._getInstance(Hu()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Vu(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ju();return await Yu(e,Iu,"1"),await $u(e,Iu),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Yu(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Qu(e,!1).get(t),r=await new Gu(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>$u(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Qu(e,!1).getAll();return new Gu(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Xu.type="LOCAL";const Zu=Xu;function ed(e,t){return ec(e,"POST","/v2/accounts/mfaSignIn:start",Zl(e,t))}Qc("rcb"),new Gl(3e4,6e4);const td="recaptcha";async function nd(e,t,n){if(!e._getRecaptchaConfig())try{await tu(e)}catch(s){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Vl("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=eu(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===$c){Vl((null===n||void 0===n?void 0:n.type)===td,e,"argument-error");return _u(e,await rd(e,t,n))}return _u(e,t)},"PHONE_PROVIDER");return(await i.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;Vl("signin"===t.type,e,"internal-error");const i=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Vl(i,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=eu(e,a,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===$c){Vl((null===n||void 0===n?void 0:n.type)===td,e,"argument-error");return ed(e,await rd(e,t,n))}return ed(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=eu(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===$c){Vl((null===n||void 0===n?void 0:n.type)===td,e,"argument-error");return du(e,await rd(e,t,n))}return du(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function rd(e,t,n){Vl(n.type===td,e,"argument-error");const r=await n.verify();Vl("string"===typeof r,e,"argument-error");const s=c({},t);if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.captchaResponse,n=s.phoneEnrollmentInfo.clientType,i=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),s}if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.captchaResponse,t=s.phoneSignInInfo.clientType,n=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),s}return Object.assign(s,{recaptchaToken:r}),s}class sd{constructor(e){this.providerId=sd.PROVIDER_ID,this.auth=qc(e)}verifyPhoneNumber(e,t){return nd(this.auth,e,$a(t))}static credential(e,t){return fu._fromVerification(e,t)}static credentialFromResult(e){const t=e;return sd.credentialFromTaggedObject(t)}static credentialFromError(e){return sd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?fu._fromTokenResponse(n,r):null}}function id(e,t){return t?Sc(t):(Vl(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}sd.PROVIDER_ID="phone",sd.PHONE_SIGN_IN_METHOD="phone";class ad extends iu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return cu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return cu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function od(e){return Tu(e.auth,new ad(e),e.bypassAuthState)}function ld(e){const{auth:t,user:n}=e;return Vl(n,t,"internal-error"),Cu(n,new ad(e),e.bypassAuthState)}async function cd(e){const{auth:t,user:n}=e;return Vl(n,t,"internal-error"),ju(n,new ad(e),e.bypassAuthState)}class ud{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(CS){this.reject(CS)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:i,type:a}=e;if(i)return void this.reject(i);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(CS){this.reject(CS)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return od;case"linkViaPopup":case"linkViaRedirect":return cd;case"reauthViaPopup":case"reauthViaRedirect":return ld;default:Ol(this.auth,"internal-error")}}resolve(e){Hl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const dd=new Gl(2e3,1e4);class hd extends ud{constructor(e,t,n,r,s){super(e,t,r,s),this.provider=n,this.authWindow=null,this.pollId=null,hd.currentPopupAction&&hd.currentPopupAction.cancel(),hd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Vl(e,this.auth,"internal-error"),e}async onExecution(){Hl(1===this.filter.length,"Popup operations only handle one event");const e=zu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ml(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Ml(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ml(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,dd.get())};e()}}hd.currentPopupAction=null;const fd=new Map;class pd extends ud{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=fd.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=vd(t),r=gd(e);if(!await r._isAvailable())return!1;const s="true"===await r._get(n);return await r._remove(n),s}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(CS){e=()=>Promise.reject(CS)}fd.set(this.auth._key(),e)}return this.bypassAuthState||fd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function md(e,t){fd.set(e._key(),t)}function gd(e){return Sc(e._redirectPersistence)}function vd(e){return Cc("pendingRedirect",e.config.apiKey,e.name)}async function yd(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(dl(e.app))return Promise.reject(Ul(e));const r=qc(e),s=id(r,t),i=new pd(r,s,n),a=await i.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class bd{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wd(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!wd(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ml(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xd(e))}saveEventToCache(e){this.cachedEventUids.add(xd(e)),this.lastProcessedEventTime=Date.now()}}function xd(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function wd(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const kd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nd=/^https?/;async function Sd(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return ec(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Ed(r))return}catch(n){}Ol(e,"unauthorized-domain")}function Ed(e){const t=ql(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!Nd.test(n))return!1;if(kd.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const jd=new Gl(3e4,6e4);function Cd(){const e=Bu().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Td(e){return new Promise((t,n)=>{var r,s;function i(){Cd(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Cd(),n(Ml(e,"network-request-failed"))},timeout:jd.get()})}if(null!==(r=Bu().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(s=Bu().gapi)||void 0===s||!s.load){const t=Qc("iframefcb");return Bu()[t]=()=>{gapi.load?i():n(Ml(e,"network-request-failed"))},Gc("".concat(Kc.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}i()}}).catch(e=>{throw _d=null,e})}let _d=null;const Id=new Gl(5e3,15e3),Ad={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rd(e){const t=e.config;Vl(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ql(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:pl},s=Pd.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),"".concat(n,"?").concat(Wa(r).slice(1))}async function Ld(e){const t=await function(e){return _d=_d||Td(e),_d}(e),n=Bu().gapi;return Vl(n,e,"internal-error"),t.open({where:document.body,url:Rd(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ad,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const s=Ml(e,"network-request-failed"),i=Bu().setTimeout(()=>{r(s)},Id.get());function a(){Bu().clearTimeout(i),n(t)}t.ping(a).then(a,()=>{r(s)})}))}const Dd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Od{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(CS){}}}function Md(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=c(c({},Dd),{},{width:r.toString(),height:s.toString(),top:i,left:a}),u=La().toLowerCase();n&&(o=Pc(u)?"_blank":n),Ic(u)&&(t=t||"http://localhost",l.scrollbars="yes");const d=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Mc(arguments.length>0&&void 0!==arguments[0]?arguments[0]:La())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Od(null);const h=window.open(t||"",o,d);Vl(h,e,"popup-blocked");try{h.focus()}catch(CS){}return new Od(h)}const Fd="__/auth/handler",Ud="emulator/auth/handler",zd=encodeURIComponent("fac");async function Vd(e,t,n,r,s,i){Vl(e.config.authDomain,e,"auth-domain-config-required"),Vl(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:pl,eventId:s};if(t instanceof gu){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))a[e]=t}if(t instanceof vu){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(zd,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Fd);return Ql(t,Ud)}(e),"?").concat(Wa(o).slice(1)).concat(c)}const Bd="webStorageSupport";const Hd=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fu,this._completeRedirectFn=yd,this._overrideRedirectResult=md}async _openPopup(e,t,n,r){var s;Hl(null===(s=this.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");return Md(e,await Vd(e,t,n,ql(),r),zu())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Bu().location.href=e}(await Vd(e,t,n,ql(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Hl(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Ld(e),n=new bd(e);return t.register("authEvent",t=>{Vl(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Bd,{type:Bd},n=>{var r;const s=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[Bd];void 0!==s&&t(!!s),Ol(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Sd(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Uc()||Ac()||Mc()}};var qd="@firebase/auth",Wd="1.11.0";class Kd{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Vl(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Gd=Ca("authIdTokenMaxAge")||300;let Qd=null;var Jd;Kc={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Ml("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Jd="Browser",cl(new Xa("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Vl(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Jd,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zc(Jd)},c=new Hc(r,s,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Sc);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),cl(new Xa("auth-internal",e=>(e=>new Kd(e))(qc(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),vl(qd,Wd,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Jd)),vl(qd,Wd,"esm2020");var Yd,$d,Xd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Zd={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var s=0;16>s;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var i=e.g[3],a=t+(i^n&(s^i))+r[0]+3614090360&4294967295;a=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=n+(a<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^i&(n^s))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^s^i)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(s^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((i=(t=n+((a=t+(s^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((s=i+((a=s+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,s=e.length-1;0<=s;s--){var i=0|e[s];r&&i==t||(n[s]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,s=this.B,i=this.h,a=0;a<t;){if(0==i)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(s[i++]=e.charCodeAt(a++),i==this.blockSize){n(this,s),i=0;break}}else for(;a<t;)if(s[i++]=e[a++],i==this.blockSize){n(this,s),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var s={};function i(e){return-128<=e&&128>e?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,s=0;e>=n;s++)t[s]=e/n|0,n*=4294967296;return new r(t,0)}var o=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],s=0;s<t;s++)n[s]=~e.g[s];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var s=y(n,1),i=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=i.add(r);0>=c.l(e)&&(s=s.add(n),i=c),r=y(r,1),n=y(n,1)}return t=f(e,s.j(t)),new m(s,t)}for(s=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(i=a(n)).j(t);d(c)||0<c.l(e);)c=(i=a(n-=r)).j(t);u(i)&&(i=l),s=s.add(i),e=f(e,c)}return new m(s,e)}function v(e){for(var t=e.g.length+1,n=[],s=0;s<t;s++)n[s]=e.i(s)<<1|e.i(s-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var s=e.g.length-n,i=[],a=0;a<s;a++)i[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var s=g(n,t).g,i=((0<(n=f(n,s.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=s))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0,i=0;i<=t;i++){var a=s+(65535&this.i(i))+(65535&e.i(i)),o=(a>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);s=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],s=0;s<2*t;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var i=0;i<e.g.length;i++){var l=this.i(s)>>>16,f=65535&this.i(s),m=e.i(i)>>>16,g=65535&e.i(i);n[2*s+2*i]+=f*g,p(n,2*s+2*i),n[2*s+2*i+1]+=l*g,p(n,2*s+2*i+1),n[2*s+2*i+1]+=f*m,p(n,2*s+2*i+1),n[2*s+2*i+2]+=l*m,p(n,2*s+2*i+2)}for(s=0;s<t;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=t;s<2*t;s++)n[s]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)&e.i(s);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)|e.i(s);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)^e.i(s);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,$d=Zd.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),s=o,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),n);8>l?(l=a(Math.pow(n,l)),s=s.j(l).add(a(c))):s=(s=s.j(r)).add(a(c))}return s},Yd=Zd.Integer=r}).apply("undefined"!==typeof Xd?Xd:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var eh,th,nh,rh,sh,ih,ah,oh,lh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ch={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof lh&&lh];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var s=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in s))break e;s=s[a]}(r=r(i=s[e=e[e.length-1]]))!=i&&null!=r&&t(s,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,s={next:function(){if(!r&&n<e.length){var s=n++;return{value:t(s,e[s]),done:!1}}return r=!0,{done:!0,value:void 0}}};return s[Symbol.iterator]=function(){return s},s}(this,function(e,t){return t})}});var r=r||{},s=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let s=0;s<r;s++)e[n+s]=t[s]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=s.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)e[n]=r[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function k(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function N(e){s.setTimeout(()=>{throw e},0)}function S(){var e=_;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var E=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new j,e=>e.reset());class j{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,T=!1,_=new class{constructor(){this.h=this.g=null}add(e,t){const n=E.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},I=()=>{const e=s.Promise.resolve(void 0);C=()=>{e.then(A)}};var A=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(n){N(n)}var t=E;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}T=!1};function P(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function D(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var s=!0;break e}catch(i){}s=!1}s||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:O[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}d(D,R);var O={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=s,this.key=++F,this.da=this.fa=!1}function z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,s=e.g[n],i=Array.prototype.indexOf.call(s,t,void 0);(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return s}return-1}V.prototype.add=function(e,t,n,r,s){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var a=H(e,t,r,s);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,i,!!r,s)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),W={};function K(e,t,n,r,s){if(r&&r.once)return Q(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)K(e,t[i],n,r,s);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,s):G(e,t,n,!1,r,s)}function G(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var o=a(s)?!!s.capture:!!s,l=Z(e);if(l||(e[q]=l=new V(e)),(n=l.add(t,n,r,o,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)L||(s=o),void 0===s&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent($(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)Q(e,t[i],n,r,s);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,s):G(e,t,n,!0,r,s)}function J(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)J(e,t[i],n,r,s);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H(i=e.g[t],n,r,s))&&(z(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H(t,n,r,s)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[q]=null)):z(e)}}}function $(e){return e in W?W[e]:W[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new V(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var s=t;w(t=new R(r,e),s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var a=t.g=n[i];s=se(a,r,!0,t)&&s}if(s=se(a=t.g=e,r,!0,t)&&s,s=se(a,r,!1,t)&&s,n)for(i=0;i<n.length;i++)s=se(a=t.g=n[i],r,!1,t)&&s}function se(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),s=!1!==o.call(l,r)&&s}}return s&&!r.defaultPrevented}function ie(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function ae(e){e.g=ie(()=>{e.g=null,e.i&&(e.i=!1,ae(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,P),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){J(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)z(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}d(le,P);var ce=[];function ue(e){y(e.g,function(e,t){this.g.hasOwnProperty(t)&&Y(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=s.JSON.stringify,he=s.JSON.parse,fe=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){R.call(this,"d")}function be(){R.call(this,"c")}d(ye,R),d(be,R);var xe={},we=null;function ke(){return we=we||new ne}function Ne(e){R.call(this,xe.La,e)}function Se(e){const t=ke();re(t,new Ne(t))}function Ee(e,t){R.call(this,xe.STAT_EVENT,e),this.stat=t}function je(e){const t=ke();re(t,new Ee(t,e))}function Ce(e,t){R.call(this,xe.Ma,e),this.size=t}function Te(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function _e(){this.g=!0}function Ie(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var a=1;a<s.length;a++)s[a]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}xe.La="serverreachability",d(Ne,R),xe.STAT_EVENT="statevent",d(Ee,R),xe.Ma="timingevent",d(Ce,R),_e.prototype.xa=function(){this.g=!1},_e.prototype.info=function(){};var Ae,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Le(){}function De(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oe}function Oe(){this.i=null,this.g="",this.h=!1}d(Le,pe),Le.prototype.g=function(){return new XMLHttpRequest},Le.prototype.i=function(){return{}},Ae=new Le;var Me={},Fe={};function Ue(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,ze(e,null)}function ze(e,t){e.F=Date.now(),He(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),St(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Oe,e.g=hn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var s="readystatechange";Array.isArray(s)||(s&&(ce[0]=s.toString()),s=ce);for(var i=0;i<s.length;i++){var a=K(n,s[i],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Se(),function(e,t,n,r,s,i){e.info(function(){if(e.g)if(i)for(var a="",o=i.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function He(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Te(c(e.ba,e),t)}function We(e){e.B&&(s.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||on(e.j,e)}function Ge(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Jt(n)}nn(n),je(18)}}else n.za=s[1],0<n.za-n.T&&37500>s[2]&&n.F&&0==n.v&&!n.C&&(n.C=Te(c(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(s=n.Da.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const s=c[4];null!=s&&(n.Aa=s,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(We(o),He(o)),r.g=a}else tn(r);0<n.i.length&&$t(n)}else"stop"!=c[0]&&"close"!=c[0]||cn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cn(n,7):Qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Se()}catch(u){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const h=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=h||7==t||Se(),We(this);var n=this.g.Z();this.X=n;t:if(Ve(this)){var r=Wt(this.g);e="";var i=r.length,a=4==qt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),Ke(this);var o="";break t}this.h.i=new s.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,s,i,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+i+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,je(12),Ge(this),Ke(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==Fe){4==h&&(this.s=4,je(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,je(15),Ie(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),Qe(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,je(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),rn(d),d.M=!0,je(11))}}else Ie(this.i,this.l,o,"[Invalid Chunked Response]"),Ge(this),Ke(this)}else Ie(this.i,this.l,o,null),Qe(this,o);4==h&&Ge(this),this.o&&!this.J&&(4==h?on(this.j,this):(this.o=!1,He(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=k(e[r]);const s=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,je(12)):(this.s=0,je(13)),Ge(this),Ke(this)}}}catch(h){}},De.prototype.cancel=function(){this.J=!0,Ge(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Se(),je(17)),Ge(this),this.s=2,Ke(this)):qe(this,this.S-e)};var Je=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,s.PerformanceNavigationTiming?e=0<(e=s.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $e(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),s=r.length,a=0;a<s;a++)t.call(void 0,r[a],n&&n[a],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var st=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new xt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(st))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}function at(e){return new it(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof xt?(e.i=t,function(e,t){t&&!e.j&&(wt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(kt(this,t),St(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,yt)),e.i=new xt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt=/[#\/\?@]/g,gt=/[#\?:]/g,vt=/[#\?]/g,yt=/[#\?@]/g,bt=/#/g;function xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function kt(e,t){wt(e),t=Et(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Nt(e,t){return wt(e),t=Et(e,t),e.g.has(t)}function St(e,t,n){kt(e,t),0<n.length&&(e.i=null,e.g.set(Et(e,t),h(n)),e.h+=n.length)}function Et(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function jt(e,t,n,r,s){try{s&&(s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null),r(n)}catch(i){}}function Ct(){this.g=new fe}function Tt(e,t,n){const r=n||"";try{rt(e,function(e,n){let s=e;a(e)&&(s=de(e)),t.push(r+n+"="+encodeURIComponent(s))})}catch(CS){throw t.push(r+"type="+encodeURIComponent("_badmap")),CS}}function _t(e){this.l=e.Ub||null,this.j=e.eb||!1}function It(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function At(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Pt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Rt(e)}function Rt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Lt(e){let t="";return y(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Dt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Lt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Ot(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=xt.prototype).add=function(e,t){wt(this),this.i=null,e=Et(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){wt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){wt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const s=e[r];for(let e=0;e<s.length;e++)n.push(t[r])}return n},e.V=function(e){wt(this);let t=[];if("string"===typeof e)Nt(this,e)&&(t=t.concat(this.g.get(Et(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return wt(this),this.i=null,Nt(this,e=Et(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var s=i;""!==a[r]&&(s+="="+encodeURIComponent(String(a[r]))),e.push(s)}}return this.i=e.join("&")},d(_t,pe),_t.prototype.g=function(){return new It(this.l,this.j)},_t.prototype.i=function(e){return function(){return e}}({}),d(It,ne),(e=It.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Rt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||s).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Rt(this)),this.g&&(this.readyState=3,Rt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;At(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Pt(this):Rt(this),3==this.readyState&&At(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Pt(this))},e.Qa=function(e){this.g&&(this.response=e,Pt(this))},e.ga=function(){this.g&&Pt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(It.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Ot,ne);var Mt=/^https?$/i,Ft=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),Bt(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Vt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))ie(e.Ea,0,e);else if(re(e,"readystatechange"),4==qt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){var a=String(e.D).match(st)[1]||null;!a&&s.self&&s.self.location&&(a=s.self.location.protocol.slice(0,-1)),i=!Mt.test(a?a.toLowerCase():"")}n=i}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<qt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",zt(e)}}finally{Bt(e)}}}function Bt(e,t){if(e.g){Ht(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(CS){}}}function Ht(e){e.I&&(s.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new _e,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new Ct,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Yt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),Zt(e,n),(t=new De(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.v,n=!0),n||(t.g=hn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),He(t)}un(e)}function Jt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Yt(e){Jt(e),e.u&&(s.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&s.clearTimeout(e.s),e.s=null)}function $t(e){if(!$e(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||I(),T||(C(),T=!0),_.add(t,e),e.B=0}}function Xt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),Zt(e,r),e.m&&e.o&&Dt(r,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function Zt(e,t){e.H&&y(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var s=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=s[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=s[o].g;const l=s[o].map;if(n-=t,0>n)t=Math.max(0,s[o].g-100),a=!1;else try{Tt(l,e,"req"+n+"_")}catch(i){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||I(),T||(C(),T=!0),_.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Te(c(e.Fa,e),ln(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(s.clearTimeout(e.A),e.A=null)}function sn(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&Dt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,ze(n,e)}function an(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function on(e,t){var n=null;if(e.g==t){an(e),rn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var s=e.B;re(r=ke(),new Ce(r,n)),$t(e)}else tn(e);else if(3==(s=t.s)||0==s&&0<t.X||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Te(c(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),s){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new it(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new _e;if(s.Image){const r=new Image;r.onload=u(jt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(jt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(jt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(jt,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new _e;const n=new AbortController,r=setTimeout(()=>{n.abort(),jt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?jt(0,0,!0,t):jt(0,0,!1,t)}).catch(()=>{clearTimeout(r),jt(0,0,!1,t)})}(r.toString(),n)}else je(2);e.G=0,e.l&&e.l.sa(t),un(e),Yt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof it?at(n):new it(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new it(null);r&&ot(a,r),t&&(a.g=t),i&&lt(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),Zt(e,r),r}function hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ot(new _t({eb:n})):new Ot(e.pa)).Ha(e.J),t}function fn(){}function pn(){}function mn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new yn(this)}function gn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){be.call(this),this.status=1}function yn(e){this.g=e}(e=Ot.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?me(this.o):me(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Ut(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=s.FormData&&e instanceof s.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Ut(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Bt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bt(this,!0)),Ot.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Vt(this):this.bb())},e.bb=function(){Vt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(e){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){je(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),$t(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const s=new De(this,this.j,e);let i=this.o;if(this.S&&(i?(i=b(i),w(i,this.S)):i=this.S),null!==this.m||this.O||(s.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,s,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),Zt(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Lt(i)))+"&"+t:this.m&&Dt(n,this.m,i)),et(this.h,s),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),s.T=!0,Ue(s,n,null)):Ue(s,n,t),this.G=2}}else 3==this.G&&(e?Xt(this,e):0==this.i.length||$e(this.h)||Xt(this))},e.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Te(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,je(10),Jt(this),sn(this))},e.Za=function(){null!=this.C&&(this.C=null,Jt(this),nn(this),je(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),je(2)):(this.j.info("Failed to ping google.com"),je(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new mn(e,t)},d(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Qt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Je(t.Ya++,e)),3==t.G&&$t(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,mn.aa.N.call(this)},d(gn,ye),d(vn,be),d(yn,fn),yn.prototype.ua=function(){re(this.g,"a")},yn.prototype.ta=function(e){re(this.g,new gn(e))},yn.prototype.sa=function(e){re(this.g,new vn)},yn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,oh=ch.createWebChannelTransport=function(){return new pn},ah=ch.getStatEventTarget=function(){return ke()},ih=ch.Event=xe,sh=ch.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,rh=ch.ErrorCode=Pe,Re.COMPLETE="complete",nh=ch.EventType=Re,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,th=ch.WebChannel=ge,ch.FetchXmlHttpFactory=_t,Ot.prototype.listenOnce=Ot.prototype.L,Ot.prototype.getLastError=Ot.prototype.Ka,Ot.prototype.getLastErrorCode=Ot.prototype.Ba,Ot.prototype.getStatus=Ot.prototype.Z,Ot.prototype.getResponseJson=Ot.prototype.Oa,Ot.prototype.getResponseText=Ot.prototype.oa,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Ha,eh=ch.XhrIo=Ot}).apply("undefined"!==typeof lh?lh:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const uh="@firebase/firestore",dh="4.9.1";class hh{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hh.UNAUTHENTICATED=new hh(null),hh.GOOGLE_CREDENTIALS=new hh("google-credentials-uid"),hh.FIRST_PARTY=new hh("first-party-uid"),hh.MOCK_USER=new hh("mock-user");let fh="12.2.0";const ph=new lo("@firebase/firestore");function mh(){return ph.logLevel}function gh(e){if(ph.logLevel<=ro.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(bh);ph.debug("Firestore (".concat(fh,"): ").concat(e),...s)}}function vh(e){if(ph.logLevel<=ro.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(bh);ph.error("Firestore (".concat(fh,"): ").concat(e),...s)}}function yh(e){if(ph.logLevel<=ro.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(bh);ph.warn("Firestore (".concat(fh,"): ").concat(e),...s)}}function bh(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function xh(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,wh(e,r,n)}function wh(e,t,n){let r="FIRESTORE (".concat(fh,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw vh(r),new Error(r)}function kh(e,t,n,r){let s="Unexpected state";"string"==typeof n?s=n:r=n,e||wh(t,s,r)}function Nh(e,t){return e}const Sh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Eh extends za{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class jh{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ch{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Th{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hh.UNAUTHENTICATED))}shutdown(){}}class _h{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ih{constructor(e){this.t=e,this.currentUser=hh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){kh(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let s=new jh;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new jh,e.enqueueRetryable(()=>r(this.currentUser))};const i=()=>{const t=s;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{gh("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(gh("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new jh)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(gh("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(kh("string"==typeof t.accessToken,31837,{l:t}),new Ch(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kh(null===e||"string"==typeof e,2055,{h:e}),new hh(e)}}class Ah{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=hh.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ph{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Ah(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(hh.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rh{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lh{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dl(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){kh(void 0===this.o,3512);const n=e=>{null!=e.error&&gh("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,gh("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{gh("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):gh("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Rh(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(kh("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Rh(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Dh(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Oh{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Dh(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Mh(e,t){return e<t?-1:e>t?1:0}function Fh(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),s=t.charAt(r);if(n!==s)return Vh(n)===Vh(s)?Mh(n,s):Vh(n)?1:-1}return Mh(e.length,t.length)}const Uh=55296,zh=57343;function Vh(e){const t=e.charCodeAt(0);return t>=Uh&&t<=zh}function Bh(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Hh="__name__";class qh{constructor(e,t,n){void 0===t?t=0:t>e.length&&xh(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&xh(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===qh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qh?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=qh.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Mh(e.length,t.length)}static compareSegments(e,t){const n=qh.isNumericId(e),r=qh.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?qh.extractNumericId(e).compare(qh.extractNumericId(t)):Fh(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yd.fromString(e.substring(4,e.length-2))}}class Wh extends qh{construct(e,t,n){return new Wh(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n){if(s.indexOf("//")>=0)throw new Eh(Sh.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push(...s.split("/").filter(e=>e.length>0))}return new Wh(e)}static emptyPath(){return new Wh([])}}const Kh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gh extends qh{construct(e,t,n){return new Gh(e,t,n)}static isValidIdentifier(e){return Kh.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gh.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Hh}static keyField(){return new Gh([Hh])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new Eh(Sh.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Eh(Sh.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Eh(Sh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(s(),r++)}if(s(),i)throw new Eh(Sh.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gh(t)}static emptyPath(){return new Gh([])}}class Qh{constructor(e){this.path=e}static fromPath(e){return new Qh(Wh.fromString(e))}static fromName(e){return new Qh(Wh.fromString(e).popFirst(5))}static empty(){return new Qh(Wh.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wh.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Wh.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qh(new Wh(e.slice()))}}function Jh(e,t,n){if(!n)throw new Eh(Sh.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Yh(e){if(!Qh.isDocumentKey(e))throw new Eh(Sh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function $h(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Xh(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":xh(12329,{type:typeof e})}function Zh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Eh(Sh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xh(e);throw new Eh(Sh.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function ef(e,t){const n={typeString:e};return t&&(n.value=t),n}function tf(e,t){if(!$h(e))throw new Eh(Sh.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const s=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const a=e[r];if(s&&typeof a!==s){n="JSON field '".concat(r,"' must be a ").concat(s,".");break}if(void 0!==i&&a!==i.value){n="Expected '".concat(r,"' field to equal '").concat(i.value,"'");break}}if(n)throw new Eh(Sh.INVALID_ARGUMENT,n);return!0}const nf=-62135596800,rf=1e6;class sf{static now(){return sf.fromMillis(Date.now())}static fromDate(e){return sf.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*rf);return new sf(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Eh(Sh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Eh(Sh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<nf)throw new Eh(Sh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Eh(Sh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rf}_compareTo(e){return this.seconds===e.seconds?Mh(this.nanoseconds,e.nanoseconds):Mh(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:sf._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tf(e,sf._jsonSchema))return new sf(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nf;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}sf._jsonSchemaVersion="firestore/timestamp/1.0",sf._jsonSchema={type:ef("string",sf._jsonSchemaVersion),seconds:ef("number"),nanoseconds:ef("number")};class af{static fromTimestamp(e){return new af(e)}static min(){return new af(new sf(0,0))}static max(){return new af(new sf(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const of=-1;class lf{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}lf.UNKNOWN_ID=-1;function cf(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=af.fromTimestamp(1e9===r?new sf(n+1,0):new sf(n,r));return new df(s,Qh.empty(),t)}function uf(e){return new df(e.readTime,e.key,of)}class df{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new df(af.min(),Qh.empty(),of)}static max(){return new df(af.max(),Qh.empty(),of)}}function hf(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Qh.comparator(e.documentKey,t.documentKey),0!==n?n:Mh(e.largestBatchId,t.largestBatchId))}const ff="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pf{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function mf(e){if(e.code!==Sh.FAILED_PRECONDITION||e.message!==ff)throw e;gh("LocalStore","Unexpectedly lost primary lease")}class gf{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xh(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new gf((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof gf?t:gf.resolve(t)}catch(e){return gf.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):gf.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):gf.reject(t)}static resolve(e){return new gf((t,n)=>{t(e)})}static reject(e){return new gf((t,n)=>{n(e)})}static waitFor(e){return new gf((t,n)=>{let r=0,s=0,i=!1;e.forEach(e=>{++r,e.next(()=>{++s,i&&s===r&&t()},e=>n(e))}),i=!0,s===r&&t()})}static or(e){let t=gf.resolve(!1);for(const n of e)t=t.next(e=>e?gf.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new gf((n,r)=>{const s=e.length,i=new Array(s);let a=0;for(let o=0;o<s;o++){const l=o;t(e[l]).next(e=>{i[l]=e,++a,a===s&&n(i)},e=>r(e))}})}static doWhile(e,t){return new gf((n,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):n()};s()})}}function vf(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yf(e){return"IndexedDbTransactionError"===e.name}class bf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bf.ce=-1;const xf=-1;function wf(e){return null==e}function kf(e){return 0===e&&1/e==-1/0}function Nf(e){return"number"==typeof e&&Number.isInteger(e)&&!kf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Sf="\x01";function Ef(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Cf(t)),t=jf(e.get(n),t);return Cf(t)}function jf(e,t){let n=t;const r=e.length;for(let s=0;s<r;s++){const t=e.charAt(s);switch(t){case"\0":n+="\x01\x10";break;case Sf:n+="\x01\x11";break;default:n+=t}}return n}function Cf(e){return e+Sf+"\x01"}const Tf="remoteDocuments",_f="owner",If="mutationQueues",Af="mutations";const Pf="documentMutations",Rf="remoteDocumentsV14",Lf="remoteDocumentGlobal",Df="targets",Of="targetDocuments",Mf="targetGlobal",Ff="collectionParents",Uf="clientMetadata",zf="bundles",Vf="namedQueries",Bf="indexConfiguration",Hf="indexState",qf="indexEntries",Wf="documentOverlays",Kf="globals",Gf=[If,Af,Pf,Tf,Df,_f,Mf,Of,Uf,Lf,Ff,zf,Vf],Qf=[If,Af,Pf,Rf,Df,_f,Mf,Of,Uf,Lf,Ff,zf,Vf,Wf],Jf=Qf,Yf=[...Jf,Bf,Hf,qf];function $f(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Xf(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Zf(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ep{constructor(e,t){this.comparator=e,this.root=t||np.EMPTY}insert(e,t){return new ep(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,np.BLACK,null,null))}remove(e){return new ep(this.comparator,this.root.remove(e,this.comparator).copy(null,null,np.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tp(this.root,e,this.comparator,!1)}getReverseIterator(){return new tp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tp(this.root,e,this.comparator,!0)}}class tp{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class np{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:np.RED,this.left=null!=r?r:np.EMPTY,this.right=null!=s?s:np.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new np(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return np.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return np.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,np.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,np.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xh(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xh(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xh(27949);return e+(this.isRed()?0:1)}}np.EMPTY=null,np.RED=!0,np.BLACK=!1,np.EMPTY=new class{constructor(){this.size=0}get key(){throw xh(57766)}get value(){throw xh(16141)}get color(){throw xh(16727)}get left(){throw xh(29726)}get right(){throw xh(36894)}copy(e,t,n,r,s){return this}insert(e,t,n){return new np(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rp{constructor(e){this.comparator=e,this.data=new ep(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sp(this.data.getIterator())}getIteratorFrom(e){return new sp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof rp))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new rp(this.comparator);return t.data=e,t}}class sp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ip{constructor(e){this.fields=e,e.sort(Gh.comparator)}static empty(){return new ip([])}unionWith(e){let t=new rp(Gh.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ip(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bh(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class ap extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class op{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ap("Invalid base64 string: "+e):e}}(e);return new op(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new op(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mh(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}op.EMPTY_BYTE_STRING=new op("");const lp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cp(e){if(kh(!!e,39018),"string"==typeof e){let t=0;const n=lp.exec(e);if(kh(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:up(e.seconds),nanos:up(e.nanos)}}function up(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function dp(e){return"string"==typeof e?op.fromBase64String(e):op.fromUint8Array(e)}const hp="server_timestamp",fp="__type__",pp="__previous_value__",mp="__local_write_time__";function gp(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[fp])||void 0===t?void 0:t.stringValue)===hp}function vp(e){const t=e.mapValue.fields[pp];return gp(t)?vp(t):t}function yp(e){const t=cp(e.mapValue.fields[mp].timestampValue);return new sf(t.seconds,t.nanos)}class bp{constructor(e,t,n,r,s,i,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const xp="(default)";class wp{constructor(e,t){this.projectId=e,this.database=t||xp}static empty(){return new wp("","")}get isDefaultDatabase(){return this.database===xp}isEqual(e){return e instanceof wp&&e.projectId===this.projectId&&e.database===this.database}}const kp="__type__",Np="__max__",Sp={mapValue:{fields:{__type__:{stringValue:Np}}}},Ep="__vector__",jp="value";function Cp(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?gp(e)?4:Hp(e)?9007199254740991:Vp(e)?10:11:xh(28295,{value:e})}function Tp(e,t){if(e===t)return!0;const n=Cp(e);if(n!==Cp(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return yp(e).isEqual(yp(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=cp(e.timestampValue),r=cp(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return dp(e.bytesValue).isEqual(dp(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return up(e.geoPointValue.latitude)===up(t.geoPointValue.latitude)&&up(e.geoPointValue.longitude)===up(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return up(e.integerValue)===up(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=up(e.doubleValue),r=up(t.doubleValue);return n===r?kf(n)===kf(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Bh(e.arrayValue.values||[],t.arrayValue.values||[],Tp);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if($f(n)!==$f(r))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===r[s]||!Tp(n[s],r[s])))return!1;return!0}(e,t);default:return xh(52216,{left:e})}}function _p(e,t){return void 0!==(e.values||[]).find(e=>Tp(e,t))}function Ip(e,t){if(e===t)return 0;const n=Cp(e),r=Cp(t);if(n!==r)return Mh(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mh(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=up(e.integerValue||e.doubleValue),r=up(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ap(e.timestampValue,t.timestampValue);case 4:return Ap(yp(e),yp(t));case 5:return Fh(e.stringValue,t.stringValue);case 6:return function(e,t){const n=dp(e),r=dp(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let s=0;s<n.length&&s<r.length;s++){const e=Mh(n[s],r[s]);if(0!==e)return e}return Mh(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Mh(up(e.latitude),up(t.latitude));return 0!==n?n:Mh(up(e.longitude),up(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Pp(e.arrayValue,t.arrayValue);case 10:return function(e,t,n,r,s,i){const a=e.fields||{},o=t.fields||{},l=null===(n=a[jp])||void 0===n?void 0:n.arrayValue,c=null===(r=o[jp])||void 0===r?void 0:r.arrayValue,u=Mh((null===l||void 0===l||null===(s=l.values)||void 0===s?void 0:s.length)||0,(null===c||void 0===c||null===(i=c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:Pp(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Sp.mapValue&&t===Sp.mapValue)return 0;if(e===Sp.mapValue)return 1;if(t===Sp.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),s=t.fields||{},i=Object.keys(s);r.sort(),i.sort();for(let a=0;a<r.length&&a<i.length;++a){const e=Fh(r[a],i[a]);if(0!==e)return e;const t=Ip(n[r[a]],s[i[a]]);if(0!==t)return t}return Mh(r.length,i.length)}(e.mapValue,t.mapValue);default:throw xh(23264,{he:n})}}function Ap(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Mh(e,t);const n=cp(e),r=cp(t),s=Mh(n.seconds,r.seconds);return 0!==s?s:Mh(n.nanos,r.nanos)}function Pp(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const e=Ip(n[s],r[s]);if(e)return e}return Mh(n.length,r.length)}function Rp(e){return Lp(e)}function Lp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=cp(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return dp(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Qh.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Lp(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const s of t)r?r=!1:n+=",",n+="".concat(s,":").concat(Lp(e.fields[s]));return n+"}"}(e.mapValue):xh(61005,{value:e})}function Dp(e){switch(Cp(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=vp(e);return t?16+Dp(t):16;case 5:return 2*e.stringValue.length;case 6:return dp(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Dp(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Xf(e.fields,(e,n)=>{t+=e.length+Dp(n)}),t}(e.mapValue);default:throw xh(13486,{value:e})}}function Op(e){return!!e&&"integerValue"in e}function Mp(e){return!!e&&"arrayValue"in e}function Fp(e){return!!e&&"nullValue"in e}function Up(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function zp(e){return!!e&&"mapValue"in e}function Vp(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[kp])||void 0===t?void 0:t.stringValue)===Ep}function Bp(e){if(e.geoPointValue)return{geoPointValue:c({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:c({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Xf(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Bp(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Bp(e.arrayValue.values[n]);return t}return c({},e)}function Hp(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Np}class qp{constructor(e){this.value=e}static empty(){return new qp({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!zp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bp(t)}setAll(e){let t=Gh.emptyPath(),n={},r=[];e.forEach((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=s.popLast()}e?n[s.lastSegment()]=Bp(e):r.push(s.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());zp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Tp(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];zp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Xf(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new qp(Bp(this.value))}}function Wp(e){const t=[];return Xf(e.fields,(e,n)=>{const r=new Gh([e]);if(zp(n)){const e=Wp(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new ip(t)}class Kp{constructor(e,t,n,r,s,i,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=i,this.documentState=a}static newInvalidDocument(e){return new Kp(e,0,af.min(),af.min(),af.min(),qp.empty(),0)}static newFoundDocument(e,t,n,r){return new Kp(e,1,t,af.min(),n,r,0)}static newNoDocument(e,t){return new Kp(e,2,t,af.min(),af.min(),qp.empty(),0)}static newUnknownDocument(e,t){return new Kp(e,3,t,af.min(),af.min(),qp.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(af.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qp.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qp.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=af.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Kp&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kp(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Gp{constructor(e,t){this.position=e,this.inclusive=t}}function Qp(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],a=e.position[s];if(r=i.field.isKeyField()?Qh.comparator(Qh.fromName(a.referenceValue),n.key):Ip(a,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function Jp(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Tp(e.position[n],t.position[n]))return!1;return!0}class Yp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function $p(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Xp{}class Zp extends Xp{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new om(e,t,n):"array-contains"===t?new dm(e,n):"in"===t?new hm(e,n):"not-in"===t?new fm(e,n):"array-contains-any"===t?new pm(e,n):new Zp(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new lm(e,n):new cm(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Ip(t,this.value)):null!==t&&Cp(this.value)===Cp(t)&&this.matchesComparison(Ip(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xh(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class em extends Xp{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new em(e,t)}matches(e){return tm(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tm(e){return"and"===e.op}function nm(e){return rm(e)&&tm(e)}function rm(e){for(const t of e.filters)if(t instanceof em)return!1;return!0}function sm(e){if(e instanceof Zp)return e.field.canonicalString()+e.op.toString()+Rp(e.value);if(nm(e))return e.filters.map(e=>sm(e)).join(",");{const t=e.filters.map(e=>sm(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function im(e,t){return e instanceof Zp?function(e,t){return t instanceof Zp&&e.op===t.op&&e.field.isEqual(t.field)&&Tp(e.value,t.value)}(e,t):e instanceof em?function(e,t){return t instanceof em&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&im(n,t.filters[r]),!0)}(e,t):void xh(19439)}function am(e){return e instanceof Zp?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Rp(e.value))}(e):e instanceof em?function(e){return e.op.toString()+" {"+e.getFilters().map(am).join(" ,")+"}"}(e):"Filter"}class om extends Zp{constructor(e,t,n){super(e,t,n),this.key=Qh.fromName(n.referenceValue)}matches(e){const t=Qh.comparator(e.key,this.key);return this.matchesComparison(t)}}class lm extends Zp{constructor(e,t){super(e,"in",t),this.keys=um("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class cm extends Zp{constructor(e,t){super(e,"not-in",t),this.keys=um("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function um(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Qh.fromName(e.referenceValue))}class dm extends Zp{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mp(t)&&_p(t.arrayValue,this.value)}}class hm extends Zp{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&_p(this.value.arrayValue,t)}}class fm extends Zp{constructor(e,t){super(e,"not-in",t)}matches(e){if(_p(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!_p(this.value.arrayValue,t)}}class pm extends Zp{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>_p(this.value.arrayValue,e))}}class mm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=i,this.endAt=a,this.Te=null}}function gm(e){return new mm(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function vm(e){const t=Nh(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>sm(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),wf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Rp(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Rp(e)).join(",")),t.Te=e}return t.Te}function ym(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!$p(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!im(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Jp(e.startAt,t.startAt)&&Jp(e.endAt,t.endAt)}function bm(e){return Qh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class xm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=i,this.startAt=a,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function wm(e,t,n,r,s,i,a,o){return new xm(e,t,n,r,s,i,a,o)}function km(e){return new xm(e)}function Nm(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Sm(e){return null!==e.collectionGroup}function Em(e){const t=Nh(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),e.add(s.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new rp(Gh.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Yp(r,n))}),e.has(Gh.keyField().canonicalString())||t.Ie.push(new Yp(Gh.keyField(),n))}return t.Ie}function jm(e){const t=Nh(e);return t.Ee||(t.Ee=Cm(t,Em(e))),t.Ee}function Cm(e,t){if("F"===e.limitType)return gm(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Yp(e.field,t)});const n=e.endAt?new Gp(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Gp(e.startAt.position,e.startAt.inclusive):null;return gm(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Tm(e,t,n){return new xm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function _m(e,t){return ym(jm(e),jm(t))&&e.limitType===t.limitType}function Im(e){return"".concat(vm(jm(e)),"|lt:").concat(e.limitType)}function Am(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>am(e)).join(", "),"]")),wf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Rp(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Rp(e)).join(",")),"Target(".concat(t,")")}(jm(e)),"; limitType=").concat(e.limitType,")")}function Pm(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Qh.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Em(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Qp(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Em(e),t))&&!(e.endAt&&!function(e,t,n){const r=Qp(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Em(e),t))}(e,t)}function Rm(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Lm(e){return(t,n)=>{let r=!1;for(const s of Em(e)){const e=Dm(s,t,n);if(0!==e)return e;r=r||s.field.isKeyField()}return 0}}function Dm(e,t,n){const r=e.field.isKeyField()?Qh.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),s=n.data.field(e);return null!==r&&null!==s?Ip(r,s):xh(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return xh(19790,{direction:e.dir})}}class Om{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Xf(this.inner,(t,n)=>{for(const[r,s]of n)e(r,s)})}isEmpty(){return Zf(this.inner)}size(){return this.innerSize}}const Mm=new ep(Qh.comparator);function Fm(){return Mm}const Um=new ep(Qh.comparator);function zm(){let e=Um;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.insert(s.key,s);return e}function Vm(e){let t=Um;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Bm(){return qm()}function Hm(){return qm()}function qm(){return new Om(e=>e.toString(),(e,t)=>e.isEqual(t))}const Wm=new ep(Qh.comparator),Km=new rp(Qh.comparator);function Gm(){let e=Km;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.add(s);return e}const Qm=new rp(Mh);function Jm(){return Qm}function Ym(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kf(t)?"-0":t}}function $m(e){return{integerValue:""+e}}function Xm(e,t){return Nf(t)?$m(t):Ym(e,t)}class Zm{constructor(){this._=void 0}}function eg(e,t,n){return e instanceof rg?function(e,t){const n={fields:{[fp]:{stringValue:hp},[mp]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&gp(t)&&(t=vp(t)),t&&(n.fields[pp]=t),{mapValue:n}}(n,t):e instanceof sg?ig(e,t):e instanceof ag?og(e,t):function(e,t){const n=ng(e,t),r=cg(n)+cg(e.Ae);return Op(n)&&Op(e.Ae)?$m(r):Ym(e.serializer,r)}(e,t)}function tg(e,t,n){return e instanceof sg?ig(e,t):e instanceof ag?og(e,t):n}function ng(e,t){return e instanceof lg?function(e){return Op(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class rg extends Zm{}class sg extends Zm{constructor(e){super(),this.elements=e}}function ig(e,t){const n=ug(t);for(const r of e.elements)n.some(e=>Tp(e,r))||n.push(r);return{arrayValue:{values:n}}}class ag extends Zm{constructor(e){super(),this.elements=e}}function og(e,t){let n=ug(t);for(const r of e.elements)n=n.filter(e=>!Tp(e,r));return{arrayValue:{values:n}}}class lg extends Zm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function cg(e){return up(e.integerValue||e.doubleValue)}function ug(e){return Mp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class dg{constructor(e,t){this.version=e,this.transformResults=t}}class hg{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hg}static exists(e){return new hg(void 0,e)}static updateTime(e){return new hg(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class pg{}function mg(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Eg(e.key,hg.none()):new xg(e.key,e.data,hg.none());{const n=e.data,r=qp.empty();let s=new rp(Gh.comparator);for(let e of t.fields)if(!s.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),s=s.add(e)}return new wg(e.key,r,new ip(s.toArray()),hg.none())}}function gg(e,t,n){e instanceof xg?function(e,t,n){const r=e.value.clone(),s=Ng(e.fieldTransforms,t,n.transformResults);r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof wg?function(e,t,n){if(!fg(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ng(e.fieldTransforms,t,n.transformResults),s=t.data;s.setAll(kg(e)),s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function vg(e,t,n,r){return e instanceof xg?function(e,t,n,r){if(!fg(e.precondition,t))return n;const s=e.value.clone(),i=Sg(e.fieldTransforms,r,t);return s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null}(e,t,n,r):e instanceof wg?function(e,t,n,r){if(!fg(e.precondition,t))return n;const s=Sg(e.fieldTransforms,r,t),i=t.data;return i.setAll(kg(e)),i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return fg(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function yg(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),s=ng(r.transform,e||null);null!=s&&(null===n&&(n=qp.empty()),n.set(r.field,s))}return n||null}function bg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Bh(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof sg&&t instanceof sg||e instanceof ag&&t instanceof ag?Bh(e.elements,t.elements,Tp):e instanceof lg&&t instanceof lg?Tp(e.Ae,t.Ae):e instanceof rg&&t instanceof rg}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class xg extends pg{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class wg extends pg{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function kg(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Ng(e,t,n){const r=new Map;kh(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let s=0;s<n.length;s++){const i=e[s],a=i.transform,o=t.data.field(i.field);r.set(i.field,tg(a,o,n[s]))}return r}function Sg(e,t,n){const r=new Map;for(const s of e){const e=s.transform,i=n.data.field(s.field);r.set(s.field,eg(e,i,t))}return r}class Eg extends pg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jg extends pg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Cg{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&gg(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=vg(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=vg(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Hm();return this.mutations.forEach(r=>{const s=e.get(r.key),i=s.overlayedDocument;let a=this.applyToLocalView(i,s.mutatedFields);a=t.has(r.key)?null:a;const o=mg(i,a);null!==o&&n.set(r.key,o),i.isValidDocument()||i.convertToNoDocument(af.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Gm())}isEqual(e){return this.batchId===e.batchId&&Bh(this.mutations,e.mutations,(e,t)=>bg(e,t))&&Bh(this.baseMutations,e.baseMutations,(e,t)=>bg(e,t))}}class Tg{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){kh(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=Wm;const s=e.mutations;for(let i=0;i<s.length;i++)r=r.insert(s[i].key,n[i].version);return new Tg(e,t,n,r)}}class _g{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Ig{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ag,Pg;function Rg(e){switch(e){case Sh.OK:return xh(64938);case Sh.CANCELLED:case Sh.UNKNOWN:case Sh.DEADLINE_EXCEEDED:case Sh.RESOURCE_EXHAUSTED:case Sh.INTERNAL:case Sh.UNAVAILABLE:case Sh.UNAUTHENTICATED:return!1;case Sh.INVALID_ARGUMENT:case Sh.NOT_FOUND:case Sh.ALREADY_EXISTS:case Sh.PERMISSION_DENIED:case Sh.FAILED_PRECONDITION:case Sh.ABORTED:case Sh.OUT_OF_RANGE:case Sh.UNIMPLEMENTED:case Sh.DATA_LOSS:return!0;default:return xh(15467,{code:e})}}function Lg(e){if(void 0===e)return vh("GRPC error has no .code"),Sh.UNKNOWN;switch(e){case Ag.OK:return Sh.OK;case Ag.CANCELLED:return Sh.CANCELLED;case Ag.UNKNOWN:return Sh.UNKNOWN;case Ag.DEADLINE_EXCEEDED:return Sh.DEADLINE_EXCEEDED;case Ag.RESOURCE_EXHAUSTED:return Sh.RESOURCE_EXHAUSTED;case Ag.INTERNAL:return Sh.INTERNAL;case Ag.UNAVAILABLE:return Sh.UNAVAILABLE;case Ag.UNAUTHENTICATED:return Sh.UNAUTHENTICATED;case Ag.INVALID_ARGUMENT:return Sh.INVALID_ARGUMENT;case Ag.NOT_FOUND:return Sh.NOT_FOUND;case Ag.ALREADY_EXISTS:return Sh.ALREADY_EXISTS;case Ag.PERMISSION_DENIED:return Sh.PERMISSION_DENIED;case Ag.FAILED_PRECONDITION:return Sh.FAILED_PRECONDITION;case Ag.ABORTED:return Sh.ABORTED;case Ag.OUT_OF_RANGE:return Sh.OUT_OF_RANGE;case Ag.UNIMPLEMENTED:return Sh.UNIMPLEMENTED;case Ag.DATA_LOSS:return Sh.DATA_LOSS;default:return xh(39323,{code:e})}}(Pg=Ag||(Ag={}))[Pg.OK=0]="OK",Pg[Pg.CANCELLED=1]="CANCELLED",Pg[Pg.UNKNOWN=2]="UNKNOWN",Pg[Pg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pg[Pg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pg[Pg.NOT_FOUND=5]="NOT_FOUND",Pg[Pg.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pg[Pg.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pg[Pg.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pg[Pg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pg[Pg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pg[Pg.ABORTED=10]="ABORTED",Pg[Pg.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pg[Pg.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pg[Pg.INTERNAL=13]="INTERNAL",Pg[Pg.UNAVAILABLE=14]="UNAVAILABLE",Pg[Pg.DATA_LOSS=15]="DATA_LOSS";let Dg=null;function Og(){return new TextEncoder}const Mg=new Yd([4294967295,4294967295],0);function Fg(e){const t=Og().encode(e),n=new $d;return n.update(t),new Uint8Array(n.digest())}function Ug(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Yd([n,r],0),new Yd([s,i],0)]}class zg{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Vg("Invalid padding: ".concat(t));if(n<0)throw new Vg("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Vg("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Vg("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=Yd.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Yd.fromNumber(n)));return 1===r.compare(Mg)&&(r=new Yd([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=Fg(e),[n,r]=Ug(t);for(let s=0;s<this.hashCount;s++){const e=this.ye(n,r,s);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),i=new zg(s,r,t);return n.forEach(e=>i.insert(e)),i}insert(e){if(0===this.ge)return;const t=Fg(e),[n,r]=Ug(t);for(let s=0;s<this.hashCount;s++){const e=this.ye(n,r,s);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Vg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bg{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Hg.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Bg(af.min(),r,new ep(Mh),Fm(),Gm())}}class Hg{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Hg(n,t,Gm(),Gm(),Gm())}}class qg{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Wg{constructor(e,t){this.targetId=e,this.Ce=t}}class Kg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:op.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Gg{constructor(){this.ve=0,this.Fe=Yg(),this.Me=op.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Gm(),t=Gm(),n=Gm();return this.Fe.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:xh(38017,{changeType:s})}}),new Hg(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Yg()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,kh(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Qg{constructor(e){this.Ge=e,this.ze=new Map,this.je=Fm(),this.Je=Jg(),this.He=Jg(),this.Ye=new ep(Mh)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:xh(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const i=r.target;if(bm(i))if(0===n){const e=new Qh(i.path);this.et(t,e,Kp.newNoDocument(e,af.min()))}else kh(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var s;const n=this.ut(e),i=n?this.ct(n,e,r):1;if(0!==i){this.it(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(s=Dg)||void 0===s||s.lt(function(e,t,n,r,s,i,a,o,l,c){const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===s,hashCount:null!==(i=null===d||void 0===d?void 0:d.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(a=null===d||void 0===d||null===(o=d.bits)||void 0===o||null===(o=o.bitmap)||void 0===o?void 0:o.length)&&void 0!==a?a:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,i))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=t;let i,a;try{i=dp(n).toUint8Array()}catch(e){if(e instanceof ap)return yh("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new zg(i,r,s)}catch(e){return yh(e instanceof Vg?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.ge?null:a}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const s=this.Ge.ht(),i="projects/".concat(s.projectId,"/databases/").concat(s.database,"/documents/").concat(n.path.canonicalString());e.mightContain(i)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const s=this.ot(r);if(s){if(n.current&&bm(s.target)){const t=new Qh(s.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Kp.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=Gm();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new Bg(e,t,this.Ye,this.je,n);return this.je=Fm(),this.Je=Jg(),this.He=Jg(),this.Ye=new ep(Mh),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Gg,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new rp(Mh),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new rp(Mh),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||gh("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Gg),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Jg(){return new ep(Qh.comparator)}function Yg(){return new ep(Qh.comparator)}const $g={asc:"ASCENDING",desc:"DESCENDING"},Xg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zg={and:"AND",or:"OR"};class ev{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function tv(e,t){return e.useProto3Json||wf(t)?t:{value:t}}function nv(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function rv(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function sv(e,t){return nv(e,t.toTimestamp())}function iv(e){return kh(!!e,49232),af.fromTimestamp(function(e){const t=cp(e);return new sf(t.seconds,t.nanos)}(e))}function av(e,t){return ov(e,t).canonicalString()}function ov(e,t){const n=function(e){return new Wh(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function lv(e){const t=Wh.fromString(e);return kh(Tv(t),10190,{key:t.toString()}),t}function cv(e,t){return av(e.databaseId,t.path)}function uv(e,t){const n=lv(t);if(n.get(1)!==e.databaseId.projectId)throw new Eh(Sh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Eh(Sh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Qh(pv(n))}function dv(e,t){return av(e.databaseId,t)}function hv(e){const t=lv(e);return 4===t.length?Wh.emptyPath():pv(t)}function fv(e){return new Wh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function pv(e){return kh(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function mv(e,t,n){return{name:cv(e,t),fields:n.value.mapValue.fields}}function gv(e,t){let n;if(t instanceof xg)n={update:mv(e,t.key,t.value)};else if(t instanceof Eg)n={delete:cv(e,t.key)};else if(t instanceof wg)n={update:mv(e,t.key,t.data),updateMask:Cv(t.fieldMask)};else{if(!(t instanceof jg))return xh(16599,{Vt:t.type});n={verify:cv(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof rg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof sg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ag)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof lg)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw xh(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:sv(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:xh(27497)}(e,t.precondition)),n}function vv(e,t){return{documents:[dv(e,t.path)]}}function yv(e,t){const n={structuredQuery:{}},r=t.path;let s;null!==t.collectionGroup?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=dv(e,s);const i=function(e){if(0!==e.length)return jv(em.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Sv(e.field),direction:wv(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=tv(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:s}}function bv(e){let t=hv(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){kh(1===r,65062);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=xv(e);return t instanceof em&&nm(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new Yp(Ev(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,wf(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Gp(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Gp(n,t)}(n.endAt)),wm(t,s,a,i,o,"F",l,c)}function xv(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ev(e.unaryFilter.field);return Zp.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ev(e.unaryFilter.field);return Zp.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ev(e.unaryFilter.field);return Zp.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ev(e.unaryFilter.field);return Zp.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xh(61313);default:return xh(60726)}}(e):void 0!==e.fieldFilter?function(e){return Zp.create(Ev(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xh(58110);default:return xh(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return em.create(e.compositeFilter.filters.map(e=>xv(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return xh(1026)}}(e.compositeFilter.op))}(e):xh(30097,{filter:e})}function wv(e){return $g[e]}function kv(e){return Xg[e]}function Nv(e){return Zg[e]}function Sv(e){return{fieldPath:e.canonicalString()}}function Ev(e){return Gh.fromServerFormat(e.fieldPath)}function jv(e){return e instanceof Zp?function(e){if("=="===e.op){if(Up(e.value))return{unaryFilter:{field:Sv(e.field),op:"IS_NAN"}};if(Fp(e.value))return{unaryFilter:{field:Sv(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Up(e.value))return{unaryFilter:{field:Sv(e.field),op:"IS_NOT_NAN"}};if(Fp(e.value))return{unaryFilter:{field:Sv(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sv(e.field),op:kv(e.op),value:e.value}}}(e):e instanceof em?function(e){const t=e.getFilters().map(e=>jv(e));return 1===t.length?t[0]:{compositeFilter:{op:Nv(e.op),filters:t}}}(e):xh(54877,{filter:e})}function Cv(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Tv(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class _v{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:af.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:af.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:op.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new _v(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _v(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _v(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _v(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Iv{constructor(e){this.yt=e}}function Av(e){const t=bv({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Tm(t,t.limit,"L"):t}class Pv{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(up(e.integerValue));else if("doubleValue"in e){const n=up(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),kf(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=cp(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(dp(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Hp(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Vp(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):xh(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const s=jp,i=(null===(n=r[s].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(up(i)),this.Ot(s,t),this.Ct(r[s],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),Qh.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Pv.Kt=new Pv;class Rv{constructor(){this.Cn=new Lv}addToCollectionParentIndex(e,t){return this.Cn.add(t),gf.resolve()}getCollectionParents(e,t){return gf.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return gf.resolve()}deleteFieldIndex(e,t){return gf.resolve()}deleteAllFieldIndexes(e){return gf.resolve()}createTargetIndexes(e,t){return gf.resolve()}getDocumentsMatchingTarget(e,t){return gf.resolve(null)}getIndexType(e,t){return gf.resolve(0)}getFieldIndexes(e,t){return gf.resolve([])}getNextCollectionGroupToUpdate(e){return gf.resolve(null)}getMinOffset(e,t){return gf.resolve(df.min())}getMinOffsetFromCollectionGroup(e,t){return gf.resolve(df.min())}updateCollectionGroup(e,t,n){return gf.resolve()}updateIndexEntries(e,t){return gf.resolve()}}class Lv{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new rp(Wh.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new rp(Wh.comparator)).toArray()}}new Uint8Array(0);const Dv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ov=41943040;class Mv{static withCacheSize(e){return new Mv(e,Mv.DEFAULT_COLLECTION_PERCENTILE,Mv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Mv.DEFAULT_COLLECTION_PERCENTILE=10,Mv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mv.DEFAULT=new Mv(Ov,Mv.DEFAULT_COLLECTION_PERCENTILE,Mv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mv.DISABLED=new Mv(-1,0,0);class Fv{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Fv(0)}static cr(){return new Fv(-1)}}const Uv="LruGarbageCollector",zv=1048576;function Vv(e,t){let[n,r]=e,[s,i]=t;const a=Mh(n,s);return 0===a?Mh(r,i):a}class Bv{constructor(e){this.Ir=e,this.buffer=new rp(Vv),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Vv(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Hv{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){gh(Uv,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){yf(e)?gh(Uv,"Ignoring IndexedDB error during garbage collection: ",e):await mf(e)}await this.Vr(3e5)})}}class qv{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return gf.resolve(bf.ce);const n=new Bv(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(gh("LruGarbageCollector","Garbage collection skipped; disabled"),gf.resolve(Dv)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(gh("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Dv):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,s,i,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(gh("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(s=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),mh()<=ro.DEBUG&&gh("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(i-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-i)+"ms\n"+"\tRemoved ".concat(s," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),gf.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:e})))}}function Wv(e,t){return new qv(e,t)}class Kv{constructor(){this.changes=new Om(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kp.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?gf.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Gv{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Qv{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&vg(n.mutation,e,ip.empty(),sf.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Gm()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gm();const r=Bm();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=zm();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Bm();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Gm()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let s=Fm();const i=qm(),a=qm();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof wg)?s=s.insert(t.key,t):void 0!==a?(i.set(t.key,a.mutation.getFieldMask()),vg(a.mutation,t,a.mutation.getFieldMask(),sf.now())):i.set(t.key,ip.empty())}),this.recalculateAndSaveOverlays(e,s).next(e=>(e.forEach((e,t)=>i.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new Gv(t,null!==(n=i.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=qm();let r=new ep((e,t)=>e-t),s=Gm();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const s of e)s.keys().forEach(e=>{const i=t.get(e);if(null===i)return;let a=n.get(e)||ip.empty();a=s.applyToLocalView(i,a),n.set(e,a);const o=(r.get(s.batchId)||Gm()).add(e);r=r.insert(s.batchId,o)})}).next(()=>{const i=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Hm();l.forEach(e=>{if(!s.has(e)){const r=mg(t.get(e),n.get(e));null!==r&&c.set(e,r),s=s.add(e)}}),i.push(this.documentOverlayCache.saveOverlays(e,o,c))}return gf.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Qh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Sm(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(s=>{const i=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):gf.resolve(Bm());let a=of,o=s;return i.next(t=>gf.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),s.get(t)?gf.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,s)).next(()=>this.computeViews(e,o,t,Gm())).next(e=>({batchId:a,changes:Vm(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Qh(t)).next(e=>{let t=zm();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const s=t.collectionGroup;let i=zm();return this.indexManager.getCollectionParents(e,s).next(a=>gf.forEach(a,a=>{const o=function(e,t){return new xm(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,r))).next(e=>{s.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Kp.newInvalidDocument(r)))});let n=zm();return e.forEach((e,r)=>{const i=s.get(e);void 0!==i&&vg(i.mutation,r,ip.empty(),sf.now()),Pm(t,r)&&(n=n.insert(e,r))}),n})}}class Jv{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return gf.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:iv(e.createTime)}}(t)),gf.resolve()}getNamedQuery(e,t){return gf.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Av(e.bundledQuery),readTime:iv(e.readTime)}}(t)),gf.resolve()}}class Yv{constructor(){this.overlays=new ep(Qh.comparator),this.qr=new Map}getOverlay(e,t){return gf.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Bm();return gf.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),gf.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),gf.resolve()}getOverlaysForCollection(e,t,n){const r=Bm(),s=t.length+1,i=new Qh(t.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const e=a.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===s&&e.largestBatchId>n&&r.set(e.getKey(),e)}return gf.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new ep((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=s.get(e.largestBatchId);null===t&&(t=Bm(),s=s.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Bm(),o=s.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return gf.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new _g(t,n));let s=this.qr.get(t);void 0===s&&(s=Gm(),this.qr.set(t,s)),this.qr.set(t,s.add(n.key))}}class $v{constructor(){this.sessionToken=op.EMPTY_BYTE_STRING}getSessionToken(e){return gf.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,gf.resolve()}}class Xv{constructor(){this.Qr=new rp(Zv.$r),this.Ur=new rp(Zv.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Zv(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new Zv(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new Qh(new Wh([])),n=new Zv(t,e),r=new Zv(t,e+1),s=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),s.push(e.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Qh(new Wh([])),n=new Zv(t,e),r=new Zv(t,e+1);let s=Gm();return this.Ur.forEachInRange([n,r],e=>{s=s.add(e.key)}),s}containsKey(e){const t=new Zv(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Zv{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Qh.comparator(e.key,t.key)||Mh(e.Yr,t.Yr)}static Kr(e,t){return Mh(e.Yr,t.Yr)||Qh.comparator(e.key,t.key)}}class ey{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new rp(Zv.$r)}checkEmpty(e){return gf.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Cg(s,t,n,r);this.mutationQueue.push(i);for(const a of r)this.Zr=this.Zr.add(new Zv(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return gf.resolve(i)}lookupMutationBatch(e,t){return gf.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),s=r<0?0:r;return gf.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return gf.resolve(0===this.mutationQueue.length?xf:this.tr-1)}getAllMutationBatches(e){return gf.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Zv(t,0),r=new Zv(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);s.push(t)}),gf.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new rp(Mh);return t.forEach(e=>{const t=new Zv(e,0),r=new Zv(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),gf.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;Qh.isDocumentKey(s)||(s=s.child(""));const i=new Zv(new Qh(s),0);let a=new rp(Mh);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Yr)),!0)},i),gf.resolve(this.ti(a))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){kh(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return gf.forEach(t.mutations,r=>{const s=new Zv(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new Zv(t,0),r=this.Zr.firstAfterOrEqual(n);return gf.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,gf.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ty{constructor(e){this.ri=e,this.docs=new ep(Qh.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,i=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return gf.resolve(n?n.document.mutableCopy():Kp.newInvalidDocument(t))}getEntries(e,t){let n=Fm();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Kp.newInvalidDocument(e))}),gf.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=Fm();const i=t.path,a=new Qh(i.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||hf(uf(a),n)<=0||(r.has(a.key)||Pm(t,a))&&(s=s.insert(a.key,a.mutableCopy()))}return gf.resolve(s)}getAllFromCollectionGroup(e,t,n,r){xh(9500)}ii(e,t){return gf.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new ny(this)}getSize(e){return gf.resolve(this.size)}}class ny extends Kv{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),gf.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class ry{constructor(e){this.persistence=e,this.si=new Om(e=>vm(e),ym),this.lastRemoteSnapshotVersion=af.min(),this.highestTargetId=0,this.oi=0,this._i=new Xv,this.targetCount=0,this.ai=Fv.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),gf.resolve()}getLastRemoteSnapshotVersion(e){return gf.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return gf.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),gf.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),gf.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Fv(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,gf.resolve()}updateTargetData(e,t){return this.Pr(t),gf.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,gf.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.si.forEach((i,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.si.delete(i),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),gf.waitFor(s).next(()=>r)}getTargetCount(e){return gf.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return gf.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),gf.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(t=>{s.push(r.markPotentiallyOrphaned(e,t))}),gf.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),gf.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return gf.resolve(n)}containsKey(e,t){return gf.resolve(this._i.containsKey(t))}}class sy{constructor(e,t){this.ui={},this.overlays={},this.ci=new bf(0),this.li=!1,this.li=!0,this.hi=new $v,this.referenceDelegate=e(this),this.Pi=new ry(this),this.indexManager=new Rv,this.remoteDocumentCache=function(e){return new ty(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Iv(t),this.Ii=new Jv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Yv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new ey(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){gh("MemoryPersistence","Starting transaction:",e);const r=new iy(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return gf.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class iy extends pf{constructor(e){super(),this.currentSequenceNumber=e}}class ay{constructor(e){this.persistence=e,this.Ri=new Xv,this.Vi=null}static mi(e){return new ay(e)}get fi(){if(this.Vi)return this.Vi;throw xh(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),gf.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),gf.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),gf.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gf.forEach(this.fi,n=>{const r=Qh.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,af.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return gf.or([()=>gf.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class oy{constructor(e,t){this.persistence=e,this.pi=new Om(e=>Ef(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=Wv(this,t)}static mi(e,t){return new oy(e,t)}Ei(){}di(e){return gf.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return gf.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?gf.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,s.removeEntry(r,af.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),gf.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),gf.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),gf.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),gf.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Dp(e.data.value)),t}br(e,t,n){return gf.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return gf.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ly{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=Gm(),r=Gm();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new ly(e,t.fromCache,n,r)}}class cy{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class uy{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=Ma()?8:vf(La())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const s={result:null};return this.ys(e,t).next(e=>{s.result=e}).next(()=>{if(!s.result)return this.ws(e,t,r,n).next(e=>{s.result=e})}).next(()=>{if(s.result)return;const n=new cy;return this.Ss(e,t,n).next(r=>{if(s.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>s.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(mh()<=ro.DEBUG&&gh("QueryEngine","SDK will not create cache indexes for query:",Am(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),gf.resolve()):(mh()<=ro.DEBUG&&gh("QueryEngine","Query:",Am(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(mh()<=ro.DEBUG&&gh("QueryEngine","The SDK decides to create cache indexes for query:",Am(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jm(t))):gf.resolve())}ys(e,t){if(Nm(t))return gf.resolve(null);let n=jm(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Tm(t,null,"F"),n=jm(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const s=Gm(...r);return this.ps.getDocuments(e,s).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const i=this.Ds(t,r);return this.Cs(t,i,s,n.readTime)?this.ys(e,Tm(t,null,"F")):this.vs(e,i,t,n)}))})))}ws(e,t,n,r){return Nm(t)||r.isEqual(af.min())?gf.resolve(null):this.ps.getDocuments(e,n).next(s=>{const i=this.Ds(t,s);return this.Cs(t,i,n,r)?gf.resolve(null):(mh()<=ro.DEBUG&&gh("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Am(t)),this.vs(e,i,t,cf(r,of)).next(e=>e))})}Ds(e,t){let n=new rp(Lm(e));return t.forEach((t,r)=>{Pm(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(e,t,n){return mh()<=ro.DEBUG&&gh("QueryEngine","Using full collection scan to execute query:",Am(t)),this.ps.getDocumentsMatchingQuery(e,t,df.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const dy="LocalStore";class hy{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new ep(Mh),this.xs=new Om(e=>vm(e),ym),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qv(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function fy(e,t,n,r){return new hy(e,t,n,r)}async function py(e,t){const n=Nh(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(s=>(r=s,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const s=[],i=[];let a=Gm();for(const e of r){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Ls:e,removedBatchIds:s,addedBatchIds:i}))})})}function my(e){const t=Nh(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function gy(e,t,n){let r=Gm(),s=Gm();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Fm();return n.forEach((n,i)=>{const a=e.get(n);i.isFoundDocument()!==a.isFoundDocument()&&(s=s.add(n)),i.isNoDocument()&&i.version.isEqual(af.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):gh(dy,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)}),{ks:r,qs:s}})}function vy(e,t){const n=Nh(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=xf),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function yy(e,t){const n=Nh(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(s=>s?(r=s,gf.resolve(r)):n.Pi.allocateTargetId(e).next(s=>(r=new _v(t,s,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function by(e,t,n){const r=Nh(e),s=r.Ms.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,e=>r.persistence.referenceDelegate.removeTarget(e,s))}catch(e){if(!yf(e))throw e;gh(dy,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(s.target)}function xy(e,t,n){const r=Nh(e);let s=af.min(),i=Gm();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Nh(e),s=r.xs.get(n);return void 0!==s?gf.resolve(r.Ms.get(s)):r.Pi.getTargetData(t,n)}(r,e,jm(t)).next(t=>{if(t)return s=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?s:af.min(),n?i:Gm())).next(e=>(wy(r,Rm(t),e),{documents:e,Qs:i})))}function wy(e,t,n){let r=e.Os.get(t)||af.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class ky{constructor(){this.activeTargetIds=Jm()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ny{constructor(){this.Mo=new ky,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ky,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Sy{Oo(e){}shutdown(){}}const Ey="ConnectivityMonitor";class jy{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){gh(Ey,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){gh(Ey,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Cy=null;function Ty(){return null===Cy?Cy=268435456+Math.round(2147483648*Math.random()):Cy++,"0x"+Cy.toString(16)}const _y="RestConnection",Iy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ay{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===xp?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,s){const i=Ty(),a=this.zo(e,t.toUriEncodedString());gh(_y,"Sending RPC '".concat(e,"' ").concat(i,":"),a,n);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,r,s);const{host:l}=new URL(a),c=_a(l);return this.Jo(e,a,o,n,c).then(t=>(gh(_y,"Received RPC '".concat(e,"' ").concat(i,": "),t),t),t=>{throw yh(_y,"RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",a,"request:",n),t})}Ho(e,t,n,r,s,i){return this.Go(e,t,n,r,s)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+fh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Iy[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Py{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Ry="WebChannelConnection";class Ly extends Ay{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,s){const i=Ty();return new Promise((s,a)=>{const o=new eh;o.setWithCredentials(!0),o.listenOnce(nh.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case rh.NO_ERROR:const n=o.getResponseJson();gh(Ry,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(n)),s(n);break;case rh.TIMEOUT:gh(Ry,"RPC '".concat(e,"' ").concat(i," timed out")),a(new Eh(Sh.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const r=o.getStatus();if(gh(Ry,"RPC '".concat(e,"' ").concat(i," failed with status:"),r,"response text:",o.getResponseText()),r>0){var t;let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Sh).indexOf(t)>=0?t:Sh.UNKNOWN}(n.status);a(new Eh(e,n.message))}else a(new Eh(Sh.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Eh(Sh.UNAVAILABLE,"Connection failed."));break;default:xh(9055,{l_:e,streamId:i,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{gh(Ry,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);gh(Ry,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Ty(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=oh(),a=ah(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=s.join("");gh(Ry,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=i.createWebChannel(c,o);this.I_(u);let d=!1,h=!1;const f=new Py({Yo:t=>{h?gh(Ry,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(gh(Ry,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),gh(Ry,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,th.EventType.OPEN,()=>{h||(gh(Ry,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),p(u,th.EventType.CLOSE,()=>{h||(h=!0,gh(Ry,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),p(u,th.EventType.ERROR,t=>{h||(h=!0,yh(Ry,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new Eh(Sh.UNAVAILABLE,"The operation could not be completed")))}),p(u,th.EventType.MESSAGE,t=>{if(!h){var n;const s=t.data[0];kh(!!s,16349);const i=s,a=(null===i||void 0===i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(a){gh(Ry,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Ag[e];if(void 0!==t)return Lg(t)}(t),s=a.message;void 0===n&&(n=Sh.INTERNAL,s="Unknown error status: "+t+" with message "+a.message),h=!0,f.a_(new Eh(n,s)),u.close()}else gh(Ry,"RPC '".concat(e,"' stream ").concat(r," received:"),s),f.u_(s)}}),p(a,ih.STAT_EVENT,t=>{t.stat===sh.PROXY?gh(Ry,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===sh.NOPROXY&&gh(Ry,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Dy(){return"undefined"!=typeof document?document:null}function Oy(e){return new ev(e,!0)}class My{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&gh("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Fy="PersistentStream";class Uy{constructor(e,t,n,r,s,i,a,o){this.Mi=e,this.S_=n,this.b_=r,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new My(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===Sh.RESOURCE_EXHAUSTED?(vh(t.toString()),vh("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Sh.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new Eh(Sh.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return gh(Fy,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(gh(Fy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zy extends Uy{constructor(e,t,n,r,s,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:xh(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(kh(void 0===t||"string"==typeof t,58123),op.fromBase64String(t||"")):(kh(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),op.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Sh.UNKNOWN:Lg(e.code);return new Eh(t,e.message||"")}(a);n=new Kg(r,s,i,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=uv(e,r.document.name),i=iv(r.document.updateTime),a=r.document.createTime?iv(r.document.createTime):af.min(),o=new qp({mapValue:{fields:r.document.fields}}),l=Kp.newFoundDocument(s,i,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new qg(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=uv(e,r.document),i=r.readTime?iv(r.readTime):af.min(),a=Kp.newNoDocument(s,i),o=r.removedTargetIds||[];n=new qg([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=uv(e,r.document),i=r.removedTargetIds||[];n=new qg([],i,s,null)}else{if(!("filter"in t))return xh(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:s}=e,i=new Ig(r,s),a=e.targetId;n=new Wg(a,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return af.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?af.min():t.readTime?iv(t.readTime):af.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=fv(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=bm(r)?{documents:vv(e,r)}:{query:yv(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=rv(e,t.resumeToken);const r=tv(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(af.min())>0){n.readTime=nv(e,t.snapshotVersion.toTimestamp());const r=tv(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xh(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=fv(this.serializer),t.removeTarget=e,this.q_(t)}}class Vy extends Uy{constructor(e,t,n,r,s,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return kh(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kh(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){kh(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(kh(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?iv(e.updateTime):iv(t);return n.isEqual(af.min())&&(n=iv(t)),new dg(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=iv(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=fv(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>gv(this.serializer,e))};this.q_(t)}}class By{}class Hy extends By{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Eh(Sh.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[i,a]=s;return this.connection.Go(e,ov(t,n),r,i,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Sh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Eh(Sh.UNKNOWN,e.toString())})}Ho(e,t,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,o]=i;return this.connection.Ho(e,ov(t,n),r,a,o,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Sh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Eh(Sh.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class qy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(vh(t),this.aa=!1):gh("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Wy="RemoteStore";class Ky{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{tb(this)&&(gh(Wy,"Restarting streams for network reachability change."),await async function(e){const t=Nh(e);t.Ea.add(4),await Qy(t),t.Ra.set("Unknown"),t.Ea.delete(4),await Gy(t)}(this))})}),this.Ra=new qy(n,r)}}async function Gy(e){if(tb(e))for(const t of e.da)await t(!0)}async function Qy(e){for(const t of e.da)await t(!1)}function Jy(e,t){const n=Nh(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),eb(n)?Zy(n):xb(n).O_()&&$y(n,t))}function Yy(e,t){const n=Nh(e),r=xb(n);n.Ia.delete(t),r.O_()&&Xy(n,t),0===n.Ia.size&&(r.O_()?r.L_():tb(n)&&n.Ra.set("Unknown"))}function $y(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(af.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}xb(e).Y_(t)}function Xy(e,t){e.Va.Ue(t),xb(e).Z_(t)}function Zy(e){e.Va=new Qg({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),xb(e).start(),e.Ra.ua()}function eb(e){return tb(e)&&!xb(e).x_()&&e.Ia.size>0}function tb(e){return 0===Nh(e).Ea.size}function nb(e){e.Va=void 0}async function rb(e){e.Ra.set("Online")}async function sb(e){e.Ia.forEach((t,n)=>{$y(e,t)})}async function ib(e,t){nb(e),eb(e)?(e.Ra.ha(t),Zy(e)):e.Ra.set("Unknown")}async function ab(e,t,n){if(e.Ra.set("Online"),t instanceof Kg&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){gh(Wy,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ob(e,n)}else if(t instanceof qg?e.Va.Ze(t):t instanceof Wg?e.Va.st(t):e.Va.tt(t),!n.isEqual(af.min()))try{const t=await my(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const s=e.Ia.get(r);s&&e.Ia.set(r,s.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(op.EMPTY_BYTE_STRING,r.snapshotVersion)),Xy(e,t);const s=new _v(r.target,t,n,r.sequenceNumber);$y(e,s)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){gh(Wy,"Failed to raise snapshot:",t),await ob(e,t)}}async function ob(e,t,n){if(!yf(t))throw t;e.Ea.add(1),await Qy(e),e.Ra.set("Offline"),n||(n=()=>my(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{gh(Wy,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Gy(e)})}function lb(e,t){return t().catch(n=>ob(e,n,t))}async function cb(e){const t=Nh(e),n=wb(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:xf;for(;ub(t);)try{const e=await vy(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,db(t,e)}catch(e){await ob(t,e)}hb(t)&&fb(t)}function ub(e){return tb(e)&&e.Ta.length<10}function db(e,t){e.Ta.push(t);const n=wb(e);n.O_()&&n.X_&&n.ea(t.mutations)}function hb(e){return tb(e)&&!wb(e).x_()&&e.Ta.length>0}function fb(e){wb(e).start()}async function pb(e){wb(e).ra()}async function mb(e){const t=wb(e);for(const n of e.Ta)t.ea(n.mutations)}async function gb(e,t,n){const r=e.Ta.shift(),s=Tg.from(r,t,n);await lb(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await cb(e)}async function vb(e,t){t&&wb(e).X_&&await async function(e,t){if(function(e){return Rg(e)&&e!==Sh.ABORTED}(t.code)){const n=e.Ta.shift();wb(e).B_(),await lb(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await cb(e)}}(e,t),hb(e)&&fb(e)}async function yb(e,t){const n=Nh(e);n.asyncQueue.verifyOperationInProgress(),gh(Wy,"RemoteStore received new credentials");const r=tb(n);n.Ea.add(3),await Qy(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Gy(n)}async function bb(e,t){const n=Nh(e);t?(n.Ea.delete(2),await Gy(n)):t||(n.Ea.add(2),await Qy(n),n.Ra.set("Unknown"))}function xb(e){return e.ma||(e.ma=function(e,t,n){const r=Nh(e);return r.sa(),new zy(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:rb.bind(null,e),t_:sb.bind(null,e),r_:ib.bind(null,e),H_:ab.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),eb(e)?Zy(e):e.Ra.set("Unknown")):(await e.ma.stop(),nb(e))})),e.ma}function wb(e){return e.fa||(e.fa=function(e,t,n){const r=Nh(e);return r.sa(),new Vy(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:pb.bind(null,e),r_:vb.bind(null,e),ta:mb.bind(null,e),na:gb.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await cb(e)):(await e.fa.stop(),e.Ta.length>0&&(gh(Wy,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class kb{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new jh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,s){const i=Date.now()+n,a=new kb(e,t,i,r,s);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Eh(Sh.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nb(e,t){if(vh("AsyncQueue","".concat(t,": ").concat(e)),yf(e))return new Eh(Sh.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Sb{static emptySet(e){return new Sb(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Qh.comparator(t.key,n.key):(e,t)=>Qh.comparator(e.key,t.key),this.keyedMap=zm(),this.sortedSet=new ep(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Sb))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Sb;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Eb{constructor(){this.ga=new ep(Qh.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):xh(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class jb{constructor(e,t,n,r,s,i,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,s){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new jb(e,t,Sb.emptySet(t),i,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_m(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Cb{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Tb{constructor(){this.queries=_b(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Nh(e),r=n.queries;n.queries=_b(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new Eh(Sh.ABORTED,"Firestore shutting down"))}}function _b(){return new Om(e=>Im(e),_m)}async function Ib(e,t){const n=Nh(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.ba()&&t.Da()&&(r=2):(i=new Cb,r=t.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(e){const n=Nb(e,"Initialization of query '".concat(Am(t.query),"' failed"));return void t.onError(n)}n.queries.set(s,i),i.Sa.push(t),t.va(n.onlineState),i.wa&&t.Fa(i.wa)&&Lb(n)}async function Ab(e,t){const n=Nh(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const e=i.Sa.indexOf(t);e>=0&&(i.Sa.splice(e,1),0===i.Sa.length?s=t.Da()?0:1:!i.ba()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Pb(e,t){const n=Nh(e);let r=!1;for(const s of t){const e=s.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(s)&&(r=!0);t.wa=s}}r&&Lb(n)}function Rb(e,t,n){const r=Nh(e),s=r.queries.get(t);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(t)}function Lb(e){e.Ca.forEach(e=>{e.next()})}var Db,Ob;(Ob=Db||(Db={})).Ma="default",Ob.Cache="cache";class Mb{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new jb(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=jb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Db.Cache}}class Fb{constructor(e){this.key=e}}class Ub{constructor(e){this.key=e}}class zb{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Gm(),this.mutatedKeys=Gm(),this.eu=Lm(e),this.tu=new Sb(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Eb,r=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,i=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Pm(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.eu(u,o)>0||l&&this.eu(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(i=i.add(u),s=h?s.add(e):s.delete(e)):(i=i.delete(e),s=s.delete(e)))}),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),s=s.delete(e.key),n.track({type:1,doc:e})}return{tu:i,iu:n,Cs:a,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xh(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const a=t&&!r?this._u():[],o=0===this.Xa.size&&this.current&&!r?1:0,l=o!==this.Za;return this.Za=o,0!==i.length||l?{snapshot:new jb(this.query,e.tu,s,i,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Eb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Gm(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new Ub(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new Fb(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=Gm();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return jb.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const Vb="SyncEngine";class Bb{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Hb{constructor(e){this.key=e,this.hu=!1}}class qb{constructor(e,t,n,r,s,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new Om(e=>Im(e),_m),this.Iu=new Map,this.Eu=new Set,this.du=new ep(Qh.comparator),this.Au=new Map,this.Ru=new Xv,this.Vu={},this.mu=new Map,this.fu=Fv.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function Wb(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=hx(e);let s;const i=r.Tu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await Gb(r,t,n,!0),s}async function Kb(e,t){const n=hx(e);await Gb(n,t,!0,!1)}async function Gb(e,t,n,r){const s=await yy(e.localStore,jm(t)),i=s.targetId,a=e.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await Qb(e,t,i,"current"===a,s.resumeToken)),e.isPrimaryClient&&n&&Jy(e.remoteStore,s),o}async function Qb(e,t,n,r,s){e.pu=(t,n,r)=>async function(e,t,n,r){let s=t.view.ru(n);s.Cs&&(s=await xy(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,s)}));const i=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(s,e.isPrimaryClient,i,a);return ax(e,t.targetId,o.au),o.snapshot}(e,t,n,r);const i=await xy(e.localStore,t,!0),a=new zb(t,i.Qs),o=a.ru(i.documents),l=Hg.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,s),c=a.applyChanges(o,e.isPrimaryClient,l);ax(e,n,c.au);const u=new Bb(t,n,a);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function Jb(e,t,n){const r=Nh(e),s=r.Tu.get(t),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(e=>!_m(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await by(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Yy(r.remoteStore,s.targetId),sx(r,s.targetId)}).catch(mf)):(sx(r,s.targetId),await by(r.localStore,s.targetId,!0))}async function Yb(e,t){const n=Nh(e),r=n.Tu.get(t),s=n.Iu.get(r.targetId);n.isPrimaryClient&&1===s.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Yy(n.remoteStore,r.targetId))}async function $b(e,t){const n=Nh(e);try{const e=await function(e,t){const n=Nh(e),r=t.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];t.targetChanges.forEach((i,o)=>{const l=s.get(o);if(!l)return;a.push(n.Pi.removeMatchingKeys(e,i.removedDocuments,o).next(()=>n.Pi.addMatchingKeys(e,i.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(op.EMPTY_BYTE_STRING,af.min()).withLastLimboFreeSnapshotVersion(af.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),s=s.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,i)&&a.push(n.Pi.updateTargetData(e,c))});let o=Fm(),l=Gm();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(gy(e,i,t.documentUpdates).next(e=>{o=e.ks,l=e.qs})),!r.isEqual(af.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return gf.waitFor(a).next(()=>i.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ms=s,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(kh(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?kh(r.hu,14607):e.removedDocuments.size>0&&(kh(r.hu,42227),r.hu=!1))}),await cx(n,e,t)}catch(e){await mf(e)}}function Xb(e,t,n){const r=Nh(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const s=r.view.va(t);s.snapshot&&e.push(s.snapshot)}),function(e,t){const n=Nh(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const s of n.Sa)s.va(t)&&(r=!0)}),r&&Lb(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Zb(e,t,n){const r=Nh(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Au.get(t),i=s&&s.key;if(i){let e=new ep(Qh.comparator);e=e.insert(i,Kp.newNoDocument(i,af.min()));const n=Gm().add(i),s=new Bg(af.min(),new Map,new ep(Mh),e,n);await $b(r,s),r.du=r.du.remove(i),r.Au.delete(t),lx(r)}else await by(r.localStore,t,!1).then(()=>sx(r,t,n)).catch(mf)}async function ex(e,t){const n=Nh(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Nh(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const s=n.batch,i=s.keys();let a=gf.resolve();return i.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const i=n.docVersions.get(e);kh(null!==i,48541),t.version.compareTo(i)<0&&(s.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,s))}(n,e,t,s).next(()=>s.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Gm();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);rx(n,r,null),nx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cx(n,e)}catch(e){await mf(e)}}async function tx(e,t,n){const r=Nh(e);try{const e=await function(e,t){const n=Nh(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(kh(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);rx(r,t,n),nx(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await cx(r,e)}catch(n){await mf(n)}}function nx(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function rx(e,t,n){const r=Nh(e);let s=r.Vu[r.currentUser.toKey()];if(s){const e=s.get(t);e&&(n?e.reject(n):e.resolve(),s=s.remove(t)),r.Vu[r.currentUser.toKey()]=s}}function sx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||ix(e,t)})}function ix(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Yy(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),lx(e))}function ax(e,t,n){for(const r of n)r instanceof Fb?(e.Ru.addReference(r.key,t),ox(e,r)):r instanceof Ub?(gh(Vb,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||ix(e,r.key)):xh(19791,{wu:r})}function ox(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(gh(Vb,"New document in limbo: "+n),e.Eu.add(r),lx(e))}function lx(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Qh(Wh.fromString(t)),r=e.fu.next();e.Au.set(r,new Hb(n)),e.du=e.du.insert(n,r),Jy(e.remoteStore,new _v(jm(km(n.path)),r,"TargetPurposeLimboResolution",bf.ce))}}async function cx(e,t,n){const r=Nh(e),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((e,o)=>{a.push(r.pu(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const s=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,s?"current":"not-current")}if(e){s.push(e);const t=ly.As(o.targetId,e);i.push(t)}}))}),await Promise.all(a),r.Pu.H_(s),await async function(e,t){const n=Nh(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>gf.forEach(t,t=>gf.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>gf.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!yf(e))throw e;gh(dy,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,s=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,s)}}}(r.localStore,i))}async function ux(e,t){const n=Nh(e);if(!n.currentUser.isEqual(t)){gh(Vb,"User change. New user:",t.toKey());const e=await py(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new Eh(Sh.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await cx(n,e.Ls)}}function dx(e,t){const n=Nh(e),r=n.Au.get(t);if(r&&r.hu)return Gm().add(r.key);{let e=Gm();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function hx(e){const t=Nh(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=$b.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Zb.bind(null,t),t.Pu.H_=Pb.bind(null,t.eventManager),t.Pu.yu=Rb.bind(null,t.eventManager),t}function fx(e){const t=Nh(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ex.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tx.bind(null,t),t}class px{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return fy(this.persistence,new uy,e.initialUser,this.serializer)}Cu(e){return new sy(ay.mi,this.serializer)}Du(e){return new Ny}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}px.provider={build:()=>new px};class mx extends px{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){kh(this.persistence.referenceDelegate instanceof oy,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Hv(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Mv.withCacheSize(this.cacheSizeBytes):Mv.DEFAULT;return new sy(e=>oy.mi(e,t),this.serializer)}}class gx{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Xb(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=ux.bind(null,this.syncEngine),await bb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Tb}createDatastore(e){const t=Oy(e.databaseInfo.databaseId),n=function(e){return new Ly(e)}(e.databaseInfo);return function(e,t,n,r){return new Hy(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,s){return new Ky(e,t,n,r,s)}(this.localStore,this.datastore,e.asyncQueue,e=>Xb(this.syncEngine,e,0),jy.v()?new jy:new Sy)}createSyncEngine(e,t){return function(e,t,n,r,s,i,a){const o=new qb(e,t,n,r,s,i);return a&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Nh(e);gh(Wy,"RemoteStore shutting down."),t.Ea.add(5),await Qy(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}gx.provider={build:()=>new gx};class vx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vh("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const yx="FirestoreClient";class bx{constructor(e,t,n,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=hh.UNAUTHENTICATED,this.clientId=Oh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async e=>{gh(yx,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(gh(yx,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Nb(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function xx(e,t){e.asyncQueue.verifyOperationInProgress(),gh(yx,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await py(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function wx(e,t){e.asyncQueue.verifyOperationInProgress();const n=await kx(e);gh(yx,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>yb(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>yb(t.remoteStore,n)),e._onlineComponents=t}async function kx(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){gh(yx,"Using user provided OfflineComponentProvider");try{await xx(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Sh.FAILED_PRECONDITION||e.code===Sh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;yh("Error using user provided cache. Falling back to memory cache: "+n),await xx(e,new px)}}else gh(yx,"Using default OfflineComponentProvider"),await xx(e,new mx(void 0));return e._offlineComponents}async function Nx(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(gh(yx,"Using user provided OnlineComponentProvider"),await wx(e,e._uninitializedComponentsProvider._online)):(gh(yx,"Using default OnlineComponentProvider"),await wx(e,new gx))),e._onlineComponents}function Sx(e){return Nx(e).then(e=>e.syncEngine)}async function Ex(e){const t=await Nx(e),n=t.eventManager;return n.onListen=Wb.bind(null,t.syncEngine),n.onUnlisten=Jb.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Kb.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Yb.bind(null,t.syncEngine),n}function jx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new jh;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new vx({next:o=>{i.Nu(),t.enqueueAndForget(()=>Ab(e,a));const l=o.docs.has(n);!l&&o.fromCache?s.reject(new Eh(Sh.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?s.reject(new Eh(Sh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(o)},error:e=>s.reject(e)}),a=new Mb(km(n.path),i,{includeMetadataChanges:!0,qa:!0});return Ib(e,a)}(await Ex(e),e.asyncQueue,t,n,r)),r.promise}function Cx(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Tx=new Map,_x="firestore.googleapis.com",Ix=!0;class Ax{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Eh(Sh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_x,this.ssl=Ix}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Ix;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Ov;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<zv)throw new Eh(Sh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Eh(Sh.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Cx(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Eh(Sh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Eh(Sh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Eh(Sh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Px{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ax({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Eh(Sh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Eh(Sh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ax(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Th;switch(e.type){case"firstParty":return new Ph(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Eh(Sh.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Tx.get(e);t&&(gh("ComponentProvider","Removing Datastore"),Tx.delete(e),t.terminate())}(this),Promise.resolve()}}function Rx(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Zh(e,Px);const s=_a(t),i=e._getSettings(),a=c(c({},i),{},{emulatorOptions:e._getEmulatorOptions()}),o="".concat(t,":").concat(n);s&&(Ia("https://".concat(o)),Ra("Firestore",!0)),i.host!==_x&&i.host!==o&&yh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=c(c({},i),{},{host:o,ssl:s,emulatorOptions:r});if(!Ha(l,a)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=hh.MOCK_USER;else{var u;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=c({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[wa(JSON.stringify({alg:"none",type:"JWT"})),wa(JSON.stringify(i)),""].join(".")}(r.mockUserToken,null===(u=e._app)||void 0===u?void 0:u.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Eh(Sh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new hh(s)}e._authCredentials=new _h(new Ch(t,n))}}class Lx{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Lx(this.firestore,e,this._query)}}class Dx{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ox(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dx(this.firestore,e,this._key)}toJSON(){return{type:Dx._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(tf(t,Dx._jsonSchema))return new Dx(e,n||null,new Qh(Wh.fromString(t.referencePath)))}}Dx._jsonSchemaVersion="firestore/documentReference/1.0",Dx._jsonSchema={type:ef("string",Dx._jsonSchemaVersion),referencePath:ef("string")};class Ox extends Lx{constructor(e,t,n){super(e,t,km(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dx(this.firestore,null,new Qh(e))}withConverter(e){return new Ox(this.firestore,e,this._path)}}function Mx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=$a(e),1===arguments.length&&(t=Oh.newId()),Jh("doc","path",t),e instanceof Px){const n=Wh.fromString(t,...r);return Yh(n),new Dx(e,null,new Qh(n))}{if(!(e instanceof Dx||e instanceof Ox))throw new Eh(Sh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Wh.fromString(t,...r));return Yh(n),new Dx(e.firestore,e instanceof Ox?e.converter:null,new Qh(n))}}const Fx="AsyncQueue";class Ux{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new My(this,"async_queue_retry"),this._c=()=>{const e=Dy();e&&gh(Fx,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Dy();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Dy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new jh;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(CS){if(!yf(CS))throw CS;gh(Fx,"Operation failed with retryable error: "+CS)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,vh("INTERNAL UNHANDLED ERROR: ",zx(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=kb.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&xh(47125,{Pc:zx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function zx(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class Vx extends Px{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Ux,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ux(e),this._firestoreClient=void 0,await e}}}function Bx(e){if(e._terminated)throw new Eh(Sh.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Hx(e),e._firestoreClient}function Hx(e){var t,n,r;const s=e._freezeSettings(),i=function(e,t,n,r){return new bp(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Cx(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,s);e._componentsProvider||null!==(n=s.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=s.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new bx(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class qx{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qx(op.fromBase64String(e))}catch(e){throw new Eh(Sh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new qx(op.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qx._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tf(e,qx._jsonSchema))return qx.fromBase64String(e.bytes)}}qx._jsonSchemaVersion="firestore/bytes/1.0",qx._jsonSchema={type:ef("string",qx._jsonSchemaVersion),bytes:ef("string")};class Wx{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Eh(Sh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gh(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Kx{constructor(e){this._methodName=e}}class Gx{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Eh(Sh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Eh(Sh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Mh(this._lat,e._lat)||Mh(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gx._jsonSchemaVersion}}static fromJSON(e){if(tf(e,Gx._jsonSchema))return new Gx(e.latitude,e.longitude)}}Gx._jsonSchemaVersion="firestore/geoPoint/1.0",Gx._jsonSchema={type:ef("string",Gx._jsonSchemaVersion),latitude:ef("number"),longitude:ef("number")};class Qx{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Qx._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tf(e,Qx._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new Qx(e.vectorValues);throw new Eh(Sh.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qx._jsonSchemaVersion="firestore/vectorValue/1.0",Qx._jsonSchema={type:ef("string",Qx._jsonSchemaVersion),vectorValues:ef("object")};const Jx=/^__.*__$/;class Yx{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new wg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function $x(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xh(40011,{Ac:e})}}class Xx{constructor(e,t,n,r,s,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xx(c(c({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dw(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if($x(this.Ac)&&Jx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Zx{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Oy(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Xx({Ac:e,methodName:t,Dc:n,path:Gh.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ew(e){const t=e._freezeSettings(),n=Oy(e._databaseId);return new Zx(e._databaseId,!!t.ignoreUndefinedProperties,n)}class tw extends Kx{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tw}}function nw(e,t,n,r){const s=e.Cc(1,t,n);ow("Data must be an object, but it was:",s,r);const i=[],a=qp.empty();Xf(r,(e,r)=>{const o=uw(t,e,n);r=$a(r);const l=s.yc(o);if(r instanceof tw)i.push(o);else{const e=sw(r,l);null!=e&&(i.push(o),a.set(o,e))}});const o=new ip(i);return new Yx(a,o,s.fieldTransforms)}function rw(e,t,n,r,s,i){const a=e.Cc(1,t,n),o=[lw(t,r,n)],l=[s];if(i.length%2!=0)throw new Eh(Sh.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<i.length;h+=2)o.push(lw(t,i[h])),l.push(i[h+1]);const c=[],u=qp.empty();for(let h=o.length-1;h>=0;--h)if(!hw(c,o[h])){const e=o[h];let t=l[h];t=$a(t);const n=a.yc(e);if(t instanceof tw)c.push(e);else{const r=sw(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new ip(c);return new Yx(u,d,a.fieldTransforms)}function sw(e,t){if(aw(e=$a(e)))return ow("Unsupported field value:",t,e),iw(e,t);if(e instanceof Kx)return function(e,t){if(!$x(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const s of e){let e=sw(s,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=$a(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Xm(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=sf.fromDate(e);return{timestampValue:nv(t.serializer,n)}}if(e instanceof sf){const n=new sf(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:nv(t.serializer,n)}}if(e instanceof Gx)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof qx)return{bytesValue:rv(t.serializer,e._byteString)};if(e instanceof Dx){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:av(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Qx)return function(e,t){return{mapValue:{fields:{[kp]:{stringValue:Ep},[jp]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return Ym(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(Xh(e)))}(e,t)}function iw(e,t){const n={};return Zf(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xf(e,(e,r)=>{const s=sw(r,t.mc(e));null!=s&&(n[e]=s)}),{mapValue:{fields:n}}}function aw(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof sf||e instanceof Gx||e instanceof qx||e instanceof Dx||e instanceof Kx||e instanceof Qx)}function ow(e,t,n){if(!aw(n)||!$h(n)){const r=Xh(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function lw(e,t,n){if((t=$a(t))instanceof Wx)return t._internalPath;if("string"==typeof t)return uw(e,t);throw dw("Field path arguments must be of type string or ",e,!1,void 0,n)}const cw=new RegExp("[~\\*/\\[\\]]");function uw(e,t,n){if(t.search(cw)>=0)throw dw("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Wx(...t.split("."))._internalPath}catch(r){throw dw("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function dw(e,t,n,r,s){const i=r&&!r.isEmpty(),a=void 0!==s;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(s)),l+=")"),new Eh(Sh.INVALID_ARGUMENT,o+e+l)}function hw(e,t){return e.some(e=>e.isEqual(t))}class fw{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Dx(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new pw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class pw extends fw{data(){return super.data()}}function mw(e,t){return"string"==typeof t?uw(e,t):t instanceof Wx?t._internalPath:t._delegate._internalPath}class gw{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Cp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return up(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(dp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xh(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Xf(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[jp].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>up(e.doubleValue));return new Qx(n)}convertGeoPoint(e){return new Gx(up(e.latitude),up(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=vp(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(yp(e));default:return null}}convertTimestamp(e){const t=cp(e);return new sf(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Wh.fromString(e);kh(Tv(n),9688,{name:e});const r=new wp(n.get(1),n.get(3)),s=new Qh(n.popFirst(5));return r.isEqual(t)||vh("Document ".concat(s," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),s}}class vw{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yw extends fw{constructor(e,t,n,r,s,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new bw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(mw("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Eh(Sh.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=yw._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}yw._jsonSchemaVersion="firestore/documentSnapshot/1.0",yw._jsonSchema={type:ef("string",yw._jsonSchemaVersion),bundleSource:ef("string","DocumentSnapshot"),bundleName:ef("string"),bundle:ef("string")};class bw extends yw{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class xw{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new vw(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new bw(this._firestore,this._userDataWriter,n.key,n,new vw(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Eh(Sh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new bw(e._firestore,e._userDataWriter,n.doc.key,n.doc,new vw(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new bw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new vw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let s=-1,i=-1;return 0!==t.type&&(s=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:ww(t.type),doc:r,oldIndex:s,newIndex:i}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Eh(Sh.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xw._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Oh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ww(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xh(61501,{type:e})}}xw._jsonSchemaVersion="firestore/querySnapshot/1.0",xw._jsonSchema={type:ef("string",xw._jsonSchemaVersion),bundleSource:ef("string","QuerySnapshot"),bundleName:ef("string"),bundle:ef("string")};class kw extends gw{constructor(e){super(),this.firestore=e}convertBytes(e){return new qx(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dx(this.firestore,null,t)}}function Nw(e,t,n){e=Zh(e,Dx);const r=Zh(e.firestore,Vx),s=ew(r);let i;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return i="string"==typeof(t=$a(t))||t instanceof Wx?rw(s,"updateDoc",e._key,t,n,o):nw(s,"updateDoc",e._key,t),Sw(r,[i.toMutation(e._key,hg.exists(!0))])}function Sw(e,t){return function(e,t){const n=new jh;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=fx(e);try{const e=await function(e,t){const n=Nh(e),r=sf.now(),s=t.reduce((e,t)=>e.add(t.key),Gm());let i,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Fm(),l=Gm();return n.Ns.getEntries(e,s).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(s=>{i=s;const a=[];for(const e of t){const t=yg(e,i.get(e.key).overlayedDocument);null!=t&&a.push(new wg(e.key,t,Wp(t.value.mapValue),hg.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Vm(i)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new ep(Mh)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await cx(r,e.changes),await cb(r.remoteStore)}catch(e){const t=Nb(e,"Failed to persist write");n.reject(t)}}(await Sx(e),t,n)),n.promise}(Bx(e),t)}function Ew(e,t,n){const r=n.docs.get(t._key),s=new kw(e);return new yw(e,s,t._key,r,new vw(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){fh=e}(pl),cl(new Xa("firestore",(e,n)=>{let{instanceIdentifier:r,options:s}=n;const i=e.getProvider("app").getImmediate(),a=new Vx(new Ih(e.getProvider("auth-internal")),new Lh(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Eh(Sh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wp(e.options.projectId,t)}(i,r),i);return s=c({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),vl(uh,dh,e),vl(uh,dh,"esm2020")}();const jw="@firebase/installations",Cw="0.6.19",Tw=1e4,_w="w:".concat(Cw),Iw="FIS_v2",Aw=36e5,Pw=new Va("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Rw(e){return e instanceof za&&e.code.includes("request-failed")}function Lw(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Dw(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Ow(e,t){const n=(await t.json()).error;return Pw.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Mw(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Fw(e,t){let{refreshToken:n}=t;const r=Mw(e);return r.append("Authorization",function(e){return"".concat(Iw," ").concat(e)}(n)),r}async function Uw(e){const t=await e();return t.status>=500&&t.status<600?e():t}function zw(e){return new Promise(t=>{setTimeout(t,e)})}const Vw=/^[cdef][\w-]{21}$/;function Bw(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Vw.test(t)?t:""}catch(e){return""}}function Hw(e){return"".concat(e.appName,"!").concat(e.appId)}const qw=new Map;function Ww(e,t){const n=Hw(e);Kw(n,t),function(e,t){const n=Qw();n&&n.postMessage({key:e,fid:t});Jw()}(n,t)}function Kw(e,t){const n=qw.get(e);if(n)for(const r of n)r(t)}let Gw=null;function Qw(){return!Gw&&"BroadcastChannel"in self&&(Gw=new BroadcastChannel("[Firebase] FID Change"),Gw.onmessage=e=>{Kw(e.data.key,e.data.fid)}),Gw}function Jw(){0===qw.size&&Gw&&(Gw.close(),Gw=null)}const Yw="firebase-installations-store";let $w=null;function Xw(){return $w||($w=ko("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Yw)}})),$w}async function Zw(e,t){const n=Hw(e),r=(await Xw()).transaction(Yw,"readwrite"),s=r.objectStore(Yw),i=await s.get(n);return await s.put(t,n),await r.done,i&&i.fid===t.fid||Ww(e,t.fid),t}async function ek(e){const t=Hw(e),n=(await Xw()).transaction(Yw,"readwrite");await n.objectStore(Yw).delete(t),await n.done}async function tk(e,t){const n=Hw(e),r=(await Xw()).transaction(Yw,"readwrite"),s=r.objectStore(Yw),i=await s.get(n),a=t(i);return void 0===a?await s.delete(n):await s.put(a,n),await r.done,!a||i&&i.fid===a.fid||Ww(e,a.fid),a}async function nk(e){let t;const n=await tk(e.appConfig,n=>{const r=function(e){const t=e||{fid:Bw(),registrationStatus:0};return ik(t)}(n),s=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Pw.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:s}=t;const i=Lw(n),a=Mw(n),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:s,authVersion:Iw,appId:n.appId,sdkVersion:_w},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await Uw(()=>fetch(i,c));if(u.ok){const e=await u.json();return{fid:e.fid||s,registrationStatus:2,refreshToken:e.refreshToken,authToken:Dw(e.authToken)}}throw await Ow("Create Installation",u)}(e,t);return Zw(e.appConfig,n)}catch(CS){throw Rw(CS)&&409===CS.customData.serverCode?await ek(e.appConfig):await Zw(e.appConfig,{fid:t.fid,registrationStatus:0}),CS}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:rk(e)}:{installationEntry:t}}(e,r);return t=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function rk(e){let t=await sk(e.appConfig);for(;1===t.registrationStatus;)await zw(100),t=await sk(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await nk(e);return n||t}return t}function sk(e){return tk(e,e=>{if(!e)throw Pw.create("installation-not-found");return ik(e)})}function ik(e){return 1===(t=e).registrationStatus&&t.registrationTime+Tw<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function ak(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const s=function(e,t){let{fid:n}=t;return"".concat(Lw(e),"/").concat(n,"/authTokens:generate")}(n,t),i=Fw(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const o={installation:{sdkVersion:_w,appId:n.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await Uw(()=>fetch(s,l));if(c.ok){return Dw(await c.json())}throw await Ow("Generate Auth Token",c)}async function ok(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await tk(e.appConfig,r=>{if(!ck(r))throw Pw.create("not-registered");const s=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Aw}(e)}(s))return r;if(1===s.requestStatus)return t=async function(e,t){let n=await lk(e.appConfig);for(;1===n.authToken.requestStatus;)await zw(100),n=await lk(e.appConfig);const r=n.authToken;return 0===r.requestStatus?ok(e,t):r}(e,n),r;{if(!navigator.onLine)throw Pw.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return c(c({},e),{},{authToken:t})}(r);return t=async function(e,t){try{const n=await ak(e,t),r=c(c({},t),{},{authToken:n});return await Zw(e.appConfig,r),n}catch(CS){if(!Rw(CS)||401!==CS.customData.serverCode&&404!==CS.customData.serverCode){const n=c(c({},t),{},{authToken:{requestStatus:0}});await Zw(e.appConfig,n)}else await ek(e.appConfig);throw CS}}(e,n),n}});return t?await t:r.authToken}function lk(e){return tk(e,e=>{if(!ck(e))throw Pw.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Tw<Date.now()?c(c({},e),{},{authToken:{requestStatus:0}}):e;var n})}function ck(e){return void 0!==e&&2===e.registrationStatus}async function uk(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await nk(e);t&&await t}(n);return(await ok(n,t)).token}function dk(e){return Pw.create("missing-app-config-values",{valueName:e})}const hk="installations",fk=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw dk("App Configuration");if(!e.name)throw dk("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw dk(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:ul(t,"heartbeat"),_delete:()=>Promise.resolve()}},pk=e=>{const t=ul(e.getProvider("app").getImmediate(),hk).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await nk(t);return r?r.catch(console.error):ok(t).catch(console.error),n.fid}(t),getToken:e=>uk(t,e)}};cl(new Xa(hk,fk,"PUBLIC")),cl(new Xa("installations-internal",pk,"PRIVATE")),vl(jw,Cw),vl(jw,Cw,"esm2020");const mk="analytics",gk="https://www.googletagmanager.com/gtag/js",vk=new lo("@firebase/analytics"),yk=new Va("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function bk(e){if(!e.startsWith(gk)){const t=yk.create("invalid-gtag-resource",{gtagURL:e});return vk.warn(t.message),""}return e}function xk(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function wk(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:bk}),r=document.createElement("script"),s="".concat(gk,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function kk(e,t,n,r){return async function(s){try{for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if("event"===s){const[r,s]=a;await async function(e,t,n,r,s){try{let i=[];if(s&&s.send_to){let e=s.send_to;Array.isArray(e)||(e=[e]);const r=await xk(n);for(const n of e){const e=r.find(e=>e.measurementId===n),s=e&&t[e.appId];if(!s){i=[];break}i.push(s)}}0===i.length&&(i=Object.values(t)),await Promise.all(i),e("event",r,s||{})}catch(CS){vk.error(CS)}}(e,t,n,r,s)}else if("config"===s){const[s,i]=a;await async function(e,t,n,r,s,i){const a=r[s];try{if(a)await t[a];else{const e=(await xk(n)).find(e=>e.measurementId===s);e&&await t[e.appId]}}catch(CS){vk.error(CS)}e("config",s,i)}(e,t,n,r,s,i)}else if("consent"===s){const[t,n]=a;e("consent",t,n)}else if("get"===s){const[t,n,r]=a;e("get",t,n,r)}else if("set"===s){const[t]=a;e("set",t)}else e(s,...a)}catch(CS){vk.error(CS)}}}const Nk=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Sk(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Ek(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nk,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:s,measurementId:i}=e.options;if(!r)throw yk.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw yk.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Ck;return setTimeout(async()=>{o.abort()},void 0!==n?n:6e4),jk({appId:r,apiKey:s,measurementId:i},a,o,t)}async function jk(e,t,n){let{throttleEndTimeMillis:r,backoffCount:s}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Nk;const{appId:a,measurementId:o}=e;try{await function(e,t){return new Promise((n,r)=>{const s=Math.max(t-Date.now(),0),i=setTimeout(n,s);e.addEventListener(()=>{clearTimeout(i),r(yk.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(CS){if(o)return vk.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(o)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===CS||void 0===CS?void 0:CS.message,"]")),{appId:a,measurementId:o};throw CS}try{const t=await async function(e){const{appId:t,apiKey:n}=e,r={method:"GET",headers:Sk(n)},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),i=await fetch(s,r);if(200!==i.status&&304!==i.status){let e="";try{var a;const t=await i.json();null!==(a=t.error)&&void 0!==a&&a.message&&(e=t.error.message)}catch(o){}throw yk.create("config-fetch-failed",{httpStatus:i.status,responseMessage:e})}return i.json()}(e);return i.deleteThrottleMetadata(a),t}catch(CS){var l;const r=CS;if(!function(e){if(!(e instanceof za)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(i.deleteThrottleMetadata(a),o)return vk.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(o)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:a,measurementId:o};throw CS}const c=503===Number(null===r||void 0===r||null===(l=r.customData)||void 0===l?void 0:l.httpStatus)?Ya(s,i.intervalMillis,30):Ya(s,i.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:s+1};return i.setThrottleMetadata(a,u),vk.debug("Calling attemptFetch again in ".concat(c," millis")),jk(e,u,n,i)}}class Ck{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Tk,_k;function Ik(e){_k=e}function Ak(e){Tk=e}async function Pk(e,t,n,r,s,i,a){var o;const l=Ek(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&vk.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>vk.error(e)),t.push(l);const c=async function(){if(!Fa())return vk.warn(yk.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Ua()}catch(CS){return vk.warn(yk.create("indexeddb-unavailable",{errorInfo:null===CS||void 0===CS?void 0:CS.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(gk)&&n.src.includes(e))return n;return null})(i)||wk(i,u.measurementId),_k&&(s("consent","default",_k),Ik(void 0)),s("js",new Date);const h=null!==(o=null===a||void 0===a?void 0:a.config)&&void 0!==o?o:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),s("config",u.measurementId,h),Tk&&(s("set",Tk),Ak(void 0)),u.measurementId}class Rk{constructor(e){this.app=e}_delete(){return delete Lk[this.app.options.appId],Promise.resolve()}}let Lk={},Dk=[];const Ok={};let Mk,Fk,Uk="dataLayer",zk="gtag",Vk=!1;function Bk(){const e=[];if(Oa()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=yk.create("invalid-analytics-context",{errorInfo:t});vk.warn(n.message)}}function Hk(e,t,n){Bk();const r=e.options.appId;if(!r)throw yk.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw yk.create("no-api-key");vk.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Lk[r])throw yk.create("already-exists",{id:r});if(!Vk){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Uk);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,s){let i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[s]&&"function"===typeof window[s]&&(i=window[s]),window[s]=kk(i,e,t,n),{gtagCore:i,wrappedGtag:window[s]}}(Lk,Dk,Ok,Uk,zk);Fk=e,Mk=t,Vk=!0}Lk[r]=Pk(e,Dk,Ok,t,Mk,Uk,n);return new Rk(e)}function qk(e,t,n,r){e=$a(e),async function(e,t,n,r,s){if(s&&s.global)e("event",n,r);else{const s=await t;e("event",n,c(c({},r),{},{send_to:s}))}}(Fk,Lk[e.app.options.appId],t,n,r).catch(e=>vk.error(e))}const Wk="@firebase/analytics",Kk="0.10.18";cl(new Xa(mk,(e,t)=>{let{options:n}=t;return Hk(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),cl(new Xa("analytics-internal",function(e){try{const t=e.getProvider(mk).getImmediate();return{logEvent:(e,n,r)=>qk(t,e,n,r)}}catch(CS){throw yk.create("interop-component-reg-failed",{reason:CS})}},"PRIVATE")),vl(Wk,Kk),vl(Wk,Kk,"esm2020");const Gk=ml({apiKey:"AIzaSyBG-rov_gOD4JCIZ0xyiPkZ-GSPRIbQvfk",authDomain:"campusnex-37b2b.firebaseapp.com",projectId:"campusnex-37b2b",storageBucket:"campusnex-37b2b.firebasestorage.app",messagingSenderId:"399142959452",appId:"1:399142959452:web:dfcc9ecff25f7889866999",measurementId:"G-0X1F4CHP7D"}),Qk=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gl();const t=ul(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=ul(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Ha(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Ol(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Hd,persistence:[Zu,Ru,Fu]}),r=Ca("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(s=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Gd)return;const r=null===t||void 0===t?void 0:t.token;Qd!==r&&(Qd=r,await fetch(s,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){$a(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){$a(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var s;const i=Ea("auth");return i&&nu(n,"http://".concat(i)),n}(Gk),Jk=function(e,t){const n="object"==typeof e?e:gl(),r="string"==typeof e?e:t||xp,s=ul(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const e=(e=>{const t=Ea(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Rx(s,...e)}return s}(Gk),Yk=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gl();e=$a(e);const t=ul(e,mk);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=ul(e,mk);if(n.isInitialized()){const e=n.getImmediate();if(Ha(t,n.getOptions()))return e;throw yk.create("already-initialized")}const r=n.initialize({options:t})}(e)}(Gk),new bu);Yk.addScope("profile"),Yk.addScope("email");const $k=()=>{const[e,n]=(0,t.useState)(!1),[r,s]=(0,t.useState)(""),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)("account"),[u,d]=(0,t.useState)({firstName:"",lastName:"",email:"",department:"",bio:""}),[h,f]=(0,t.useState)({emailNotifications:{eventUpdates:!0,eventReminders:!0,newEvents:!1,rsvpConfirmations:!0},pushNotifications:{eventUpdates:!0,eventReminders:!0,newEvents:!1,socialActivity:!1},digestFrequency:"weekly",quietHours:!1}),[p,m]=(0,t.useState)({profileVisibility:"campus",eventVisibility:"friends",allowSearch:!0,showOnlineStatus:!0,allowEventRecommendations:!0,allowAnalytics:!1}),[g,v]=(0,t.useState)({twoFactorEnabled:!1});(0,t.useEffect)(()=>{y()},[]);const y=async()=>{if(Qk.currentUser)try{n(!0);const e=await function(e){e=Zh(e,Dx);const t=Zh(e.firestore,Vx);return jx(Bx(t),e._key).then(n=>Ew(t,e,n))}(Mx(Jk,"users",Qk.currentUser.uid));if(e.exists()){const t=e.data();d({firstName:t.firstName||"",lastName:t.lastName||"",email:t.email||Qk.currentUser.email||"",department:t.department||"",bio:t.bio||""}),t.notificationSettings&&f(e=>c(c({},e),t.notificationSettings)),t.privacySettings&&m(e=>c(c({},e),t.privacySettings)),t.securitySettings&&v(e=>c(c({},e),t.securitySettings))}}catch(e){console.error("Error loading user data:",e),a("Failed to load user data")}finally{n(!1)}};return(0,t.useEffect)(()=>{if(r||i){const e=setTimeout(()=>{s(""),a("")},5e3);return()=>clearTimeout(e)}},[r,i]),{loading:e,successMessage:r,errorMessage:i,activeTab:o,accountForm:u,notificationSettings:h,privacySettings:p,securitySettings:g,setActiveTab:l,handleAccountFormChange:e=>{const{name:t,value:n}=e.target;d(e=>c(c({},e),{},{[t]:n}))},handleAccountSubmit:async e=>{if(e.preventDefault(),Qk.currentUser)try{n(!0),a(""),s(""),await Nw(Mx(Jk,"users",Qk.currentUser.uid),c(c({},u),{},{updatedAt:(new Date).toISOString()})),s("Account information updated successfully!")}catch(t){console.error("Error updating account:",t),a("Failed to update account information")}finally{n(!1)}},handleNotificationChange:e=>{const{name:t,value:n,type:r,checked:s}=e.target;if(t.includes(".")){const[e,i]=t.split(".");f(t=>c(c({},t),{},{[e]:c(c({},t[e]),{},{[i]:"checkbox"===r?s:n})}))}else f(e=>c(c({},e),{},{[t]:"checkbox"===r?s:n}))},handleNotificationSubmit:async e=>{if(e.preventDefault(),Qk.currentUser)try{n(!0),a(""),s(""),await Nw(Mx(Jk,"users",Qk.currentUser.uid),{notificationSettings:h,updatedAt:(new Date).toISOString()}),s("Notification preferences updated successfully!")}catch(t){console.error("Error updating notifications:",t),a("Failed to update notification preferences")}finally{n(!1)}},handlePrivacyChange:e=>{const{name:t,value:n,type:r,checked:s}=e.target;m(e=>c(c({},e),{},{[t]:"checkbox"===r?s:n}))},handlePrivacySubmit:async e=>{if(e.preventDefault(),Qk.currentUser)try{n(!0),a(""),s(""),await Nw(Mx(Jk,"users",Qk.currentUser.uid),{privacySettings:p,updatedAt:(new Date).toISOString()}),s("Privacy settings updated successfully!")}catch(t){console.error("Error updating privacy settings:",t),a("Failed to update privacy settings")}finally{n(!1)}},handleSecuritySubmit:async(e,t)=>{if(e&&e.preventDefault(),Qk.currentUser)try{if(n(!0),a(""),s(""),"password"===t.type)console.log("Password change requested:",t.data),s("Password updated successfully!");else if("twoFactor"===t.type){const e=c(c({},g),{},{twoFactorEnabled:t.enabled});await Nw(Mx(Jk,"users",Qk.currentUser.uid),{securitySettings:e,updatedAt:(new Date).toISOString()}),v(e),s("Two-factor authentication ".concat(t.enabled?"enabled":"disabled"," successfully!"))}else"revokeSession"===t.type?(console.log("Revoking session:",t.sessionId),s("Session revoked successfully!")):"revokeAllSessions"===t.type&&(console.log("Revoking all sessions"),s("All other sessions signed out successfully!"))}catch(r){console.error("Error updating security settings:",r),a("Failed to update security settings")}finally{n(!1)}},loadUserData:y}},Xk=()=>{const{loading:e,successMessage:t,errorMessage:n,activeTab:r,accountForm:s,notificationSettings:i,privacySettings:a,securitySettings:o,setActiveTab:l,handleAccountFormChange:c,handleAccountSubmit:u,handleNotificationChange:d,handleNotificationSubmit:h,handlePrivacyChange:f,handlePrivacySubmit:p,handleSecuritySubmit:m}=$k();return(0,ts.jsx)(fa,{activeTab:r,setActiveTab:l,children:(()=>{switch(r){case"account":return(0,ts.jsx)(pa,{accountForm:s,handleAccountFormChange:c,handleAccountSubmit:u,loading:e,successMessage:t,errorMessage:n});case"notifications":return(0,ts.jsx)(ma,{notificationSettings:i,handleNotificationChange:d,handleNotificationSubmit:h,loading:e,successMessage:t,errorMessage:n});case"privacy":return(0,ts.jsx)(ga,{privacySettings:a,handlePrivacyChange:f,handlePrivacySubmit:p,loading:e,successMessage:t,errorMessage:n});case"security":return(0,ts.jsx)(va,{securitySettings:o,handleSecuritySubmit:m,loading:e,successMessage:t,errorMessage:n});default:return null}})()})},Zk=()=>(0,ts.jsx)(Xk,{}),eN=[{question:"What is CampusNex?",answer:"CampusNex is a platform for discovering and managing educational and professional events for Cambodian university students, parents, and organizers."},{question:"How do I join as an organizer?",answer:'Click "Create Event" and fill out the organizer application form. Once approved, you can post events.'},{question:"How do I RSVP for an event?",answer:"Browse events, swipe to RSVP, and sync with your Google Calendar."}],tN=()=>(0,ts.jsxs)("div",{className:"min-h-screen bg-white flex flex-col",children:[(0,ts.jsx)(Ts,{}),(0,ts.jsx)("main",{className:"flex-1 flex flex-col items-center justify-center pt-24 pb-16 px-4",children:(0,ts.jsxs)("div",{className:"w-full max-w-3xl rounded-3xl bg-gradient-to-br from-blue-100 via-blue-200 to-blue-300 p-10 shadow-lg",children:[(0,ts.jsx)("h1",{className:"text-blue-900 text-4xl font-bold mb-8 text-center",children:"About CampusNex"}),(0,ts.jsx)("p",{className:"text-lg text-gray-700 mb-8 text-center",children:"CampusNex centralizes opportunities, events, and resources for students and organizers. Our mission is to make discovery, RSVP, and event management easy and accessible."}),(0,ts.jsx)("h2",{className:"text-2xl font-bold text-blue-900 mb-6",children:"Frequently Asked Questions"}),(0,ts.jsx)("div",{className:"space-y-6",children:eN.map((e,t)=>(0,ts.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow",children:[(0,ts.jsx)("div",{className:"text-xl font-semibold text-blue-900 mb-2",children:e.question}),(0,ts.jsx)("div",{className:"text-gray-700 text-base",children:e.answer})]},t))})]})}),(0,ts.jsx)(_s,{})]}),nN={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"https://campusnex-production.up.railway.app/api",REACT_APP_ENVIRONMENT:"production",REACT_APP_FIREBASE_API_KEY:"AIzaSyBG-rov_gOD4JCIZ0xyiPkZ-GSPRIbQvfk",REACT_APP_FIREBASE_APP_ID:"1:399142959452:web:dfcc9ecff25f7889866999",REACT_APP_FIREBASE_AUTH_DOMAIN:"campusnex-37b2b.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-0X1F4CHP7D",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"399142959452",REACT_APP_FIREBASE_PROJECT_ID:"campusnex-37b2b",REACT_APP_FIREBASE_STORAGE_BUCKET:"campusnex-37b2b.firebasestorage.app"}.REACT_APP_API_URL||"http://localhost:5000/api",rN=[{id:1,name:"Sarah Johnson",department:"Computer Science",profileImage:null,totalEvents:39,rank:1},{id:2,name:"Michael Chen",department:"Business Administration",profileImage:null,totalEvents:35,rank:2},{id:3,name:"Emma Rodriguez",department:"Fashion Design",profileImage:null,totalEvents:31,rank:3},{id:4,name:"James Lee",department:"Engineering",profileImage:null,totalEvents:28,rank:4},{id:5,name:"Olivia Kim",department:"Psychology",profileImage:null,totalEvents:26,rank:5},{id:6,name:"David Patel",department:"Media Studies",profileImage:null,totalEvents:24,rank:6},{id:7,name:"Sophia Wang",department:"Biology",profileImage:null,totalEvents:21,rank:7},{id:8,name:"Noah Garcia",department:"Economics",profileImage:null,totalEvents:20,rank:8}],sN=[{id:1,name:"Student Union",department:"Campus Organization",profileImage:null,totalEvents:28,rank:1},{id:2,name:"CS Society",department:"Academic Club",profileImage:null,totalEvents:25,rank:2},{id:3,name:"Arts Collective",department:"Creative Club",profileImage:null,totalEvents:22,rank:3},{id:4,name:"Business Association",department:"Academic Club",profileImage:null,totalEvents:20,rank:4},{id:5,name:"International Club",department:"Cultural Club",profileImage:null,totalEvents:19,rank:5},{id:6,name:"Sports Council",department:"Athletics",profileImage:null,totalEvents:18,rank:6},{id:7,name:"Music Society",department:"Performing Arts",profileImage:null,totalEvents:17,rank:7},{id:8,name:"Debate Team",department:"Academic Club",profileImage:null,totalEvents:15,rank:8}],iN=()=>{const[e,n]=(0,t.useState)("students"),[r,s]=(0,t.useState)("all"),[i,a]=(0,t.useState)([]),[o,l]=(0,t.useState)(!1),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)({currentPage:1,totalPages:1,totalItems:0,hasNextPage:!1,hasPrevPage:!1}),p=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"students",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;try{l(!0),d(null);const r=await fetch("".concat(nN,"/leaderboard?type=").concat(e,"&page=").concat(t,"&limit=").concat(n,"&sortBy=totalEvents&order=desc"));if(!r.ok)throw new Error("API not available, using sample data");const s=await r.json();if(!s.success)throw new Error(s.message||"Failed to load leaderboard");a(s.data.leaderboard),f(s.data.pagination)}catch(r){console.warn("API not available, using fallback data:",r.message);const t="students"===e?rN:sN;a(t),f({currentPage:1,totalPages:1,totalItems:t.length,hasNextPage:!1,hasPrevPage:!1}),d(null)}finally{l(!1)}};(0,t.useEffect)(()=>{p(e,1,10)},[e]);const m=e=>{n(e),f(c(c({},h),{},{currentPage:1}))};return(0,ts.jsx)("div",{className:"w-full bg-gradient-to-br from-gray-50 to-white py-12 md:py-16 lg:py-20 min-h-screen",children:(0,ts.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,ts.jsxs)("div",{className:"text-center mb-12",children:[(0,ts.jsx)("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-4 bg-gradient-to-r from-primary to-primary-dark bg-clip-text text-transparent",children:"Campus Spotlight"}),(0,ts.jsx)("p",{className:"text-lg md:text-xl text-gray-600 max-w-2xl mx-auto",children:"Celebrating our most engaged students and outstanding organizers who make our campus community vibrant"})]}),(0,ts.jsx)("div",{className:"flex justify-center mb-12 px-4",children:(0,ts.jsxs)("div",{className:"flex w-full max-w-md rounded-xl overflow-hidden border shadow-lg bg-gray-50",children:[(0,ts.jsx)("button",{onClick:()=>m("students"),disabled:o,className:"flex-1 px-4 py-3 md:px-6 md:py-4 font-medium text-sm md:text-base transition-all duration-300 ".concat("students"===e?"bg-primary text-white shadow-md transform scale-105":"bg-transparent text-gray-700 hover:bg-gray-100"," ").concat(o?"opacity-50 cursor-not-allowed":""),children:"\ud83d\udc65 Top Students"}),(0,ts.jsx)("button",{onClick:()=>m("organizers"),disabled:o,className:"flex-1 px-4 py-3 md:px-6 md:py-4 font-medium text-sm md:text-base transition-all duration-300 ".concat("organizers"===e?"bg-primary text-white shadow-md transform scale-105":"bg-transparent text-gray-700 hover:bg-gray-100"," ").concat(o?"opacity-50 cursor-not-allowed":""),children:"\ud83c\udfc6 Top Organizers"})]})}),!u&&i.length>0&&(0,ts.jsx)("div",{className:"max-w-3xl mx-auto mb-8 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,ts.jsx)("p",{className:"text-blue-700 text-center text-sm",children:"\ud83d\udcca Displaying sample leaderboard data. Start the backend server to see live data."})}),(0,ts.jsx)(Es,{title:"students"===e?"Most Active Students":"Top Event Organizers",subtitle:"students"===e?"Based on event attendance this semester":"Based on number of events hosted this semester",leaders:i,categories:[{label:"All Categories",value:"all"},{label:"Academic",value:"academic"},{label:"Social",value:"social"},{label:"Sports",value:"sports"},{label:"Arts",value:"arts"}],activeCategory:r,onCategoryChange:s,unit:"Events",loading:o,currentPage:h.currentPage,totalPages:h.totalPages,onPageChange:t=>{f(c(c({},h),{},{currentPage:t})),p(e,t,10)},hasNextPage:h.hasNextPage,hasPrevPage:h.hasPrevPage,onLoadMore:()=>{const t=h.currentPage+1;p(e,t,10)},showLoadMore:!0})]})})},aN=()=>(0,ts.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,ts.jsx)(Ts,{}),(0,ts.jsxs)("main",{className:"flex-1",children:[(0,ts.jsx)("div",{className:"bg-gradient-to-br from-blue-600 via-purple-600 to-orange-500 pt-24 pb-16",children:(0,ts.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,ts.jsx)("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6",children:"\ud83c\udfc6 Campus Leaderboard"}),(0,ts.jsx)("p",{className:"text-xl md:text-2xl text-blue-100 max-w-3xl mx-auto mb-8",children:"Celebrating our most active students and outstanding event organizers who make our campus community vibrant and engaging"}),(0,ts.jsxs)("div",{className:"flex flex-wrap justify-center gap-6 text-white",children:[(0,ts.jsxs)("div",{className:"flex items-center gap-2 bg-white bg-opacity-20 rounded-full px-6 py-3",children:[(0,ts.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),(0,ts.jsx)("span",{className:"font-semibold",children:"Real-time Rankings"})]}),(0,ts.jsxs)("div",{className:"flex items-center gap-2 bg-white bg-opacity-20 rounded-full px-6 py-3",children:[(0,ts.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"})}),(0,ts.jsx)("span",{className:"font-semibold",children:"Achievement Rewards"})]}),(0,ts.jsxs)("div",{className:"flex items-center gap-2 bg-white bg-opacity-20 rounded-full px-6 py-3",children:[(0,ts.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,ts.jsx)("span",{className:"font-semibold",children:"Community Impact"})]})]})]})}),(0,ts.jsx)(iN,{})]}),(0,ts.jsx)(_s,{})]}),oN=()=>(0,ts.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[(0,ts.jsx)("h1",{className:"text-4xl font-bold text-warm-coral mb-4",children:"404"}),(0,ts.jsx)("p",{className:"text-lg",children:"Page Not Found"})]});function lN(){const{id:e}=me();return(0,ts.jsx)(Pe,{to:"/events/".concat(e),replace:!0})}const cN=function(){return(0,ts.jsx)(ss,{children:(0,ts.jsx)(mt,{children:(0,ts.jsxs)(De,{children:[(0,ts.jsx)(Re,{path:"/",element:(0,ts.jsx)(Hs,{})}),(0,ts.jsx)(Re,{path:"/discovery",element:(0,ts.jsx)(ri,{})}),(0,ts.jsx)(Re,{path:"/events/:id",element:(0,ts.jsx)(di,{})}),(0,ts.jsx)(Re,{path:"/login",element:(0,ts.jsx)(yi,{})}),(0,ts.jsx)(Re,{path:"/signup",element:(0,ts.jsx)(xi,{})}),(0,ts.jsx)(Re,{path:"/auth/callback",element:(0,ts.jsx)(wi,{})}),(0,ts.jsx)(Re,{path:"/about",element:(0,ts.jsx)(tN,{})}),(0,ts.jsx)(Re,{path:"/leaderboard",element:(0,ts.jsx)(aN,{})}),(0,ts.jsx)(Re,{path:"/profile",element:(0,ts.jsx)(is,{children:(0,ts.jsx)(Ji,{})})}),(0,ts.jsx)(Re,{path:"/interested-events",element:(0,ts.jsx)(is,{children:(0,ts.jsx)(ua,{})})}),(0,ts.jsx)(Re,{path:"/notifications",element:(0,ts.jsx)(is,{children:(0,ts.jsx)(ha,{})})}),(0,ts.jsx)(Re,{path:"/settings",element:(0,ts.jsx)(is,{children:(0,ts.jsx)(Zk,{})})}),(0,ts.jsx)(Re,{path:"/organizer-dashboard",element:(0,ts.jsx)(is,{requiredRole:"organizer",children:(0,ts.jsx)(Mi,{})})}),(0,ts.jsx)(Re,{path:"/create-event",element:(0,ts.jsx)(is,{requiredRole:"organizer",children:(0,ts.jsx)(oa,{})})}),(0,ts.jsx)(Re,{path:"/submit-event",element:(0,ts.jsx)(is,{requiredRole:"organizer",children:(0,ts.jsx)(Yi,{})})}),(0,ts.jsx)(Re,{path:"/student-dashboard",element:(0,ts.jsx)(is,{requiredRole:"student",children:(0,ts.jsx)(Fi,{})})}),(0,ts.jsx)(Re,{path:"/admin-panel",element:(0,ts.jsx)(is,{requiredRole:"admin",children:(0,ts.jsx)(ca,{})})}),(0,ts.jsx)(Re,{path:"/event/:id",element:(0,ts.jsx)(lN,{})}),(0,ts.jsx)(Re,{path:"*",element:(0,ts.jsx)(oN,{})})]})})})},uN=e=>{e&&e instanceof Function&&n.e(206).then(n.bind(n,206)).then(t=>{let{getCLS:n,getFID:r,getFCP:s,getLCP:i,getTTFB:a}=t;n(e),r(e),s(e),i(e),a(e)})},dN=e=>"string"===typeof e,hN=()=>{let e,t;const n=new Promise((n,r)=>{e=n,t=r});return n.resolve=e,n.reject=t,n},fN=e=>null==e?"":""+e,pN=/###/g,mN=e=>e&&e.indexOf("###")>-1?e.replace(pN,"."):e,gN=e=>!e||dN(e),vN=(e,t,n)=>{const r=dN(t)?t.split("."):t;let s=0;for(;s<r.length-1;){if(gN(e))return{};const t=mN(r[s]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++s}return gN(e)?{}:{obj:e,k:mN(r[s])}},yN=(e,t,n)=>{const{obj:r,k:s}=vN(e,t,Object);if(void 0!==r||1===t.length)return void(r[s]=n);let i=t[t.length-1],a=t.slice(0,t.length-1),o=vN(e,a,Object);for(;void 0===o.obj&&a.length;){var l;i="".concat(a[a.length-1],".").concat(i),a=a.slice(0,a.length-1),o=vN(e,a,Object),null!==(l=o)&&void 0!==l&&l.obj&&"undefined"!==typeof o.obj["".concat(o.k,".").concat(i)]&&(o.obj=void 0)}o.obj["".concat(o.k,".").concat(i)]=n},bN=(e,t)=>{const{obj:n,k:r}=vN(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},xN=(e,t,n)=>{for(const r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?dN(e[r])||e[r]instanceof String||dN(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):xN(e[r],t[r],n):e[r]=t[r]);return e},wN=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var kN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const NN=e=>dN(e)?e.replace(/[&<>"'\/]/g,e=>kN[e]):e;const SN=[" ",",","?","!",";"],EN=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),jN=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}const r=t.split(n);let s=e;for(let i=0;i<r.length;){if(!s||"object"!==typeof s)return;let e,t="";for(let a=i;a<r.length;++a)if(a!==i&&(t+=n),t+=r[a],e=s[t],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&a<r.length-1)continue;i+=a-i+1;break}s=e}return s},CN=e=>null===e||void 0===e?void 0:e.replace("_","-"),TN={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,r;null===(n=console)||void 0===n||null===(n=n[e])||void 0===n||null===(r=n.apply)||void 0===r||r.call(n,console,t)}};class _N{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||TN,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,r){return r&&!this.debug?null:(dN(e[0])&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}create(e){return new _N(this.logger,c(c({},{prefix:"".concat(this.prefix,":").concat(e,":")}),this.options))}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new _N(this.logger,e)}}var IN=new _N;class AN{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)}),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach(e=>{let[t,r]=e;for(let s=0;s<r;s++)t(...n)})}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach(t=>{let[r,s]=t;for(let i=0;i<s;i++)r.apply(r,[e,...n])})}}}class PN extends AN{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){var r;let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=void 0!==s.keySeparator?s.keySeparator:this.options.keySeparator,a=void 0!==s.ignoreJSONStructure?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,t],n&&(Array.isArray(n)?o.push(...n):dN(n)&&i?o.push(...n.split(i)):o.push(n)));const l=bN(this.data,o);return!l&&!t&&!n&&e.indexOf(".")>-1&&(e=o[0],t=o[1],n=o.slice(2).join(".")),!l&&a&&dN(n)?jN(null===(r=this.data)||void 0===r||null===(r=r[e])||void 0===r?void 0:r[t],n,i):l}addResource(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const i=void 0!==s.keySeparator?s.keySeparator:this.options.keySeparator;let a=[e,t];n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(a=e.split("."),r=t,t=a[1]),this.addNamespaces(t),yN(this.data,a,r),s.silent||this.emit("added",e,t,n,r)}addResources(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const s in n)(dN(n[s])||Array.isArray(n[s]))&&this.addResource(e,t,s,n[s],{silent:!0});r.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),r=n,n=t,t=a[1]),this.addNamespaces(t);let o=bN(this.data,a)||{};i.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?xN(o,n,s):o=c(c({},o),n),yN(this.data,a,o),i.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var RN={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,s){return e.forEach(e=>{var i,a;t=null!==(i=null===(a=this.processors[e])||void 0===a?void 0:a.process(t,n,r,s))&&void 0!==i?i:t}),t}};const LN=Symbol("i18next/PATH_KEY");function DN(e,t){var n;const{[LN]:r}=e(function(){const e=[],t=Object.create(null);let n;return t.get=(r,s)=>{var i,a;return null===(i=n)||void 0===i||null===(a=i.revoke)||void 0===a||a.call(i),s===LN?e:(e.push(s),n=Proxy.revocable(r,t),n.proxy)},Proxy.revocable(Object.create(null),t).proxy}());return r.join(null!==(n=null===t||void 0===t?void 0:t.keySeparator)&&void 0!==n?n:".")}const ON={},MN=e=>!dN(e)&&"boolean"!==typeof e&&"number"!==typeof e;class FN extends AN{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((e,t,n)=>{e.forEach(e=>{t[e]&&(n[e]=t[e])})})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=IN.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){const t=c({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}});if(null==e)return!1;const n=this.resolve(e,t);return void 0!==(null===n||void 0===n?void 0:n.res)}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let s=t.ns||this.options.defaultNS||[];const i=n&&e.indexOf(n)>-1,a=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!((e,t,n)=>{t=t||"",n=n||"";const r=SN.filter(e=>t.indexOf(e)<0&&n.indexOf(e)<0);if(0===r.length)return!0;const s=EN.getRegExp("(".concat(r.map(e=>"?"===e?"\\?":e).join("|"),")"));let i=!s.test(e);if(!i){const t=e.indexOf(n);t>0&&!s.test(e.substring(0,t))&&(i=!0)}return i})(e,n,r);if(i&&!a){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:dN(s)?[s]:s};const i=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(i[0])>-1)&&(s=i.shift()),e=i.join(r)}return{key:e,namespaces:dN(s)?[s]:s}}translate(e,t,n){let r="object"===typeof t?c({},t):t;if("object"!==typeof r&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),"object"===typeof r&&(r=c({},r)),r||(r={}),null==e)return"";"function"===typeof e&&(e=DN(e,c(c({},this.options),r))),Array.isArray(e)||(e=[String(e)]);const s=void 0!==r.returnDetails?r.returnDetails:this.options.returnDetails,i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(e[e.length-1],r),l=o[o.length-1];let u=void 0!==r.nsSeparator?r.nsSeparator:this.options.nsSeparator;void 0===u&&(u=":");const d=r.lng||this.language,h=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if("cimode"===(null===d||void 0===d?void 0:d.toLowerCase()))return h?s?{res:"".concat(l).concat(u).concat(a),usedKey:a,exactUsedKey:a,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:"".concat(l).concat(u).concat(a):s?{res:a,usedKey:a,exactUsedKey:a,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:a;const f=this.resolve(e,r);let p=null===f||void 0===f?void 0:f.res;const m=(null===f||void 0===f?void 0:f.usedKey)||a,g=(null===f||void 0===f?void 0:f.exactUsedKey)||a,v=void 0!==r.joinArrays?r.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,b=void 0!==r.count&&!dN(r.count),x=FN.hasDefaultValue(r),w=b?this.pluralResolver.getSuffix(d,r.count,r):"",k=r.ordinal&&b?this.pluralResolver.getSuffix(d,r.count,{ordinal:!1}):"",N=b&&!r.ordinal&&0===r.count,S=N&&r["defaultValue".concat(this.options.pluralSeparator,"zero")]||r["defaultValue".concat(w)]||r["defaultValue".concat(k)]||r.defaultValue;let E=p;y&&!p&&x&&(E=S);const j=MN(E),C=Object.prototype.toString.apply(E);if(!(y&&E&&j&&["[object Number]","[object Function]","[object RegExp]"].indexOf(C)<0)||dN(v)&&Array.isArray(E))if(y&&dN(v)&&Array.isArray(p))p=p.join(v),p&&(p=this.extendTranslation(p,e,r,n));else{let t=!1,s=!1;!this.isValidLookup(p)&&x&&(t=!0,p=S),this.isValidLookup(p)||(s=!0,p=a);const o=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&s?void 0:p,h=x&&S!==p&&this.options.updateMissing;if(s||t||h){if(this.logger.log(h?"updateKey":"missingKey",d,l,a,h?S:p),i){const e=this.resolve(a,c(c({},r),{},{keySeparator:!1}));e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const t=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if("fallback"===this.options.saveMissingTo&&t&&t[0])for(let r=0;r<t.length;r++)e.push(t[r]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(r.lng||this.language):e.push(r.lng||this.language);const n=(e,t,n)=>{var s;const i=x&&n!==p?n:o;this.options.missingKeyHandler?this.options.missingKeyHandler(e,l,t,i,h,r):null!==(s=this.backendConnector)&&void 0!==s&&s.saveMissing&&this.backendConnector.saveMissing(e,l,t,i,h,r),this.emit("missingKey",e,l,t,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&b?e.forEach(e=>{const t=this.pluralResolver.getSuffixes(e,r);N&&r["defaultValue".concat(this.options.pluralSeparator,"zero")]&&t.indexOf("".concat(this.options.pluralSeparator,"zero"))<0&&t.push("".concat(this.options.pluralSeparator,"zero")),t.forEach(t=>{n([e],a+t,r["defaultValue".concat(t)]||S)})}):n(e,a,S))}p=this.extendTranslation(p,e,r,f,n),s&&p===a&&this.options.appendNamespaceToMissingKey&&(p="".concat(l).concat(u).concat(a)),(s||t)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(l).concat(u).concat(a):a,t?p:void 0,r))}else{if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,E,c(c({},r),{},{ns:o})):"key '".concat(a," (").concat(this.language,")' returned an object instead of string.");return s?(f.res=e,f.usedParams=this.getUsedParamsDetails(r),f):e}if(i){const e=Array.isArray(E),t=e?[]:{},n=e?g:m;for(const s in E)if(Object.prototype.hasOwnProperty.call(E,s)){const e="".concat(n).concat(i).concat(s);t[s]=x&&!p?this.translate(e,c(c({},r),{},{defaultValue:MN(S)?S[s]:void 0},{joinArrays:!1,ns:o})):this.translate(e,c(c({},r),{joinArrays:!1,ns:o})),t[s]===e&&(t[s]=E[s])}p=t}}return s?(f.res=p,f.usedParams=this.getUsedParamsDetails(r),f):p}extendTranslation(e,t,n,r,s){var i,a=this;if(null!==(i=this.i18nFormat)&&void 0!==i&&i.parse)e=this.i18nFormat.parse(e,c(c({},this.options.interpolation.defaultVariables),n),n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){var o;n.interpolation&&this.interpolator.init(c(c({},n),{interpolation:c(c({},this.options.interpolation),n.interpolation)}));const i=dN(e)&&(void 0!==(null===n||void 0===n||null===(o=n.interpolation)||void 0===o?void 0:o.skipOnVariables)?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let l;if(i){const t=e.match(this.interpolator.nestingRegexp);l=t&&t.length}let u=n.replace&&!dN(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(u=c(c({},this.options.interpolation.defaultVariables),u)),e=this.interpolator.interpolate(e,u,n.lng||this.language||r.usedLng,n),i){const t=e.match(this.interpolator.nestingRegexp);l<(t&&t.length)&&(n.nest=!1)}!n.lng&&r&&r.res&&(n.lng=this.language||r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return(null===s||void 0===s?void 0:s[0])!==r[0]||n.context?a.translate(...r,t):(a.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null)},n)),n.interpolation&&this.interpolator.reset()}const l=n.postProcess||this.options.postProcess,u=dN(l)?[l]:l;return null!=e&&null!==u&&void 0!==u&&u.length&&!1!==n.applyPostProcessor&&(e=RN.handle(u,e,t,this.options&&this.options.postProcessPassResolved?c({i18nResolved:c(c({},r),{},{usedParams:this.getUsedParamsDetails(n)})},n):n,this)),e}resolve(e){let t,n,r,s,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return dN(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(t))return;const o=this.extractFromKey(e,a),l=o.key;n=l;let c=o.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const u=void 0!==a.count&&!dN(a.count),d=u&&!a.ordinal&&0===a.count,h=void 0!==a.context&&(dN(a.context)||"number"===typeof a.context)&&""!==a.context,f=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);c.forEach(e=>{var o,c;this.isValidLookup(t)||(i=e,ON["".concat(f[0],"-").concat(e)]||null===(o=this.utils)||void 0===o||!o.hasLoadedNamespace||null!==(c=this.utils)&&void 0!==c&&c.hasLoadedNamespace(i)||(ON["".concat(f[0],"-").concat(e)]=!0,this.logger.warn('key "'.concat(n,'" for languages "').concat(f.join(", "),'" won\'t get resolved as namespace "').concat(i,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach(n=>{var i;if(this.isValidLookup(t))return;s=n;const o=[l];if(null!==(i=this.i18nFormat)&&void 0!==i&&i.addLookupKeys)this.i18nFormat.addLookupKeys(o,l,n,e,a);else{let e;u&&(e=this.pluralResolver.getSuffix(n,a.count,a));const t="".concat(this.options.pluralSeparator,"zero"),r="".concat(this.options.pluralSeparator,"ordinal").concat(this.options.pluralSeparator);if(u&&(a.ordinal&&0===e.indexOf(r)&&o.push(l+e.replace(r,this.options.pluralSeparator)),o.push(l+e),d&&o.push(l+t)),h){const n="".concat(l).concat(this.options.contextSeparator||"_").concat(a.context);o.push(n),u&&(a.ordinal&&0===e.indexOf(r)&&o.push(n+e.replace(r,this.options.pluralSeparator)),o.push(n+e),d&&o.push(n+t))}}let c;for(;c=o.pop();)this.isValidLookup(t)||(r=c,t=this.getResource(n,e,c,a))}))})}),{res:t,usedKey:n,exactUsedKey:r,usedLng:s,usedNS:i}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,n){var r;let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return null!==(r=this.i18nFormat)&&void 0!==r&&r.getResource?this.i18nFormat.getResource(e,t,n,s):this.resourceStore.getResource(e,t,n,s)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!dN(e.replace);let r=n?e.replace:e;if(n&&"undefined"!==typeof e.count&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r=c(c({},this.options.interpolation.defaultVariables),r)),!n){r=c({},r);for(const e of t)delete r[e]}return r}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}class UN{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=IN.create("languageUtils")}getScriptPartFromCode(e){if(!(e=CN(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=CN(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(dN(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch(CS){}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;const n=this.getScriptPartFromCode(e);if(this.isSupportedCode(n))return t=n;const r=this.getLanguagePartFromCode(e);if(this.isSupportedCode(r))return t=r;t=this.options.supportedLngs.find(e=>e===r?e:e.indexOf("-")<0&&r.indexOf("-")<0?void 0:e.indexOf("-")>0&&r.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===r||0===e.indexOf(r)&&r.length>1?e:void 0)}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"===typeof e&&(e=e(t)),dN(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes((!1===t?[]:t)||this.options.fallbackLng||[],e),r=[],s=e=>{e&&(this.isSupportedCode(e)?r.push(e):this.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return dN(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&s(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&s(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&s(this.getLanguagePartFromCode(e))):dN(e)&&s(this.formatLanguageCode(e)),n.forEach(e=>{r.indexOf(e)<0&&s(this.formatLanguageCode(e))}),r}}const zN={zero:0,one:1,two:2,few:3,many:4,other:5},VN={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class BN{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=IN.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=CN("dev"===e?"en":e),r=t.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:r});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let i;try{i=new Intl.PluralRules(n,{type:r})}catch(a){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),VN;if(!e.match(/-|_/))return VN;const n=this.languageUtils.getLanguagePartFromCode(e);i=this.getRule(n,t)}return this.pluralRulesCache[s]=i,i}needsPlural(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(null===(t=r)||void 0===t?void 0:t.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map(e=>"".concat(t).concat(e))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?n.resolvedOptions().pluralCategories.sort((e,t)=>zN[e]-zN[t]).map(e=>"".concat(this.options.prepend).concat(t.ordinal?"ordinal".concat(this.options.prepend):"").concat(e)):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.getRule(e,n);return r?"".concat(this.options.prepend).concat(n.ordinal?"ordinal".concat(this.options.prepend):"").concat(r.select(t)):(this.logger.warn("no plural rule found for: ".concat(e)),this.getSuffix("dev",t,n))}}const HN=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=((e,t,n)=>{const r=bN(e,n);return void 0!==r?r:bN(t,n)})(e,t,n);return!i&&s&&dN(n)&&(i=jN(e,n,r),void 0===i&&(i=jN(t,n,r))),i},qN=e=>e.replace(/\$/g,"$$$$");class WN{constructor(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=IN.create("interpolator"),this.options=t,this.format=(null===t||void 0===t||null===(e=t.interpolation)||void 0===e?void 0:e.format)||(e=>e),this.init(t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:r,prefix:s,prefixEscaped:i,suffix:a,suffixEscaped:o,formatSeparator:l,unescapeSuffix:c,unescapePrefix:u,nestingPrefix:d,nestingPrefixEscaped:h,nestingSuffix:f,nestingSuffixEscaped:p,nestingOptionsSeparator:m,maxReplaces:g,alwaysFormat:v}=e.interpolation;this.escape=void 0!==t?t:NN,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==r&&r,this.prefix=s?wN(s):i||"{{",this.suffix=a?wN(a):o||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":u||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?wN(d):h||wN("$t("),this.nestingSuffix=f?wN(f):p||wN(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=g||1e3,this.alwaysFormat=void 0!==v&&v,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>(null===e||void 0===e?void 0:e.source)===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,"".concat(this.prefix,"(.+?)").concat(this.suffix)),this.regexpUnescape=e(this.regexpUnescape,"".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix)),this.nestingRegexp=e(this.nestingRegexp,"".concat(this.nestingPrefix,"((?:[^()\"']+|\"[^\"]*\"|'[^']*'|\\((?:[^()]|\"[^\"]*\"|'[^']*')*\\))*?)").concat(this.nestingSuffix))}interpolate(e,t,n,r){var s;let i,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=e=>{if(e.indexOf(this.formatSeparator)<0){const s=HN(t,l,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(s,void 0,n,c(c(c({},r),t),{},{interpolationkey:e})):s}const s=e.split(this.formatSeparator),i=s.shift().trim(),a=s.join(this.formatSeparator).trim();return this.format(HN(t,l,i,this.options.keySeparator,this.options.ignoreJSONStructure),a,n,c(c(c({},r),t),{},{interpolationkey:i}))};this.resetRegExp();const d=(null===r||void 0===r?void 0:r.missingInterpolationHandler)||this.options.missingInterpolationHandler,h=void 0!==(null===r||void 0===r||null===(s=r.interpolation)||void 0===s?void 0:s.skipOnVariables)?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>qN(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?qN(this.escape(e)):qN(e)}].forEach(t=>{for(o=0;i=t.regex.exec(e);){const n=i[1].trim();if(a=u(n),void 0===a)if("function"===typeof d){const t=d(e,i,r);a=dN(t)?t:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))a="";else{if(h){a=i[0];continue}this.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),a=""}else dN(a)||this.useRawValueToEscape||(a=fN(a));const s=t.safeValue(a);if(e=e.replace(i[0],s),h?(t.regex.lastIndex+=a.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,t){let n,r,s,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=(e,t)=>{var n;const r=this.nestingOptionsSeparator;if(e.indexOf(r)<0)return e;const i=e.split(new RegExp("".concat(r,"[ ]*{")));let a="{".concat(i[1]);e=i[0],a=this.interpolate(a,s);const o=a.match(/'/g),l=a.match(/"/g);((null!==(n=null===o||void 0===o?void 0:o.length)&&void 0!==n?n:0)%2===0&&!l||l.length%2!==0)&&(a=a.replace(/'/g,'"'));try{s=JSON.parse(a),t&&(s=c(c({},t),s))}catch(CS){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),CS),"".concat(e).concat(r).concat(a)}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,e};for(;n=this.nestingRegexp.exec(e);){let o=[];s=c({},i),s=s.replace&&!dN(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;const l=/{.*}/.test(n[1])?n[1].lastIndexOf("}")+1:n[1].indexOf(this.formatSeparator);if(-1!==l&&(o=n[1].slice(l).split(this.formatSeparator).map(e=>e.trim()).filter(Boolean),n[1]=n[1].slice(0,l)),r=t(a.call(this,n[1].trim(),s),s),r&&n[0]===e&&!dN(r))return r;dN(r)||(r=fN(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),o.length&&(r=o.reduce((e,t)=>this.format(e,t,i.lng,c(c({},i),{},{interpolationkey:n[1].trim()})),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}const KN=e=>{const t={};return(n,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i=c(c({},i),{},{[s.interpolationkey]:void 0}));const a=r+JSON.stringify(i);let o=t[a];return o||(o=e(CN(r),s),t[a]=o),o(n)}},GN=e=>(t,n,r)=>e(CN(n),r)(t);class QN{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=IN.create("formatter"),this.options=e,this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||",";const n=t.cacheInBuiltFormats?KN:GN;this.formats={number:n((e,t)=>{const n=new Intl.NumberFormat(e,c({},t));return e=>n.format(e)}),currency:n((e,t)=>{const n=new Intl.NumberFormat(e,c(c({},t),{},{style:"currency"}));return e=>n.format(e)}),datetime:n((e,t)=>{const n=new Intl.DateTimeFormat(e,c({},t));return e=>n.format(e)}),relativetime:n((e,t)=>{const n=new Intl.RelativeTimeFormat(e,c({},t));return e=>n.format(e,t.range||"day")}),list:n((e,t)=>{const n=new Intl.ListFormat(e,c({},t));return e=>n.format(e)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=KN(t)}format(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s=t.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(e=>e.indexOf(")")>-1)){const e=s.findIndex(e=>e.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,e)].join(this.formatSeparator)}const i=s.reduce((e,t)=>{const{formatName:s,formatOptions:i}=(e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);"currency"===t&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):"relativetime"===t&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(e=>{if(e){const[t,...r]=e.split(":"),s=r.join(":").trim().replace(/^'+|'+$/g,""),i=t.trim();n[i]||(n[i]=s),"false"===s&&(n[i]=!1),"true"===s&&(n[i]=!0),isNaN(s)||(n[i]=parseInt(s,10))}})}return{formatName:t,formatOptions:n}})(t);if(this.formats[s]){let t=e;try{var a;const o=(null===r||void 0===r||null===(a=r.formatParams)||void 0===a?void 0:a[r.interpolationkey])||{},l=o.locale||o.lng||r.locale||r.lng||n;t=this.formats[s](e,l,c(c(c({},i),r),o))}catch(o){this.logger.warn(o)}return t}return this.logger.warn("there was no format function for ".concat(s)),e},e);return i}}class JN extends AN{constructor(e,t,n){var r,s;let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=IN.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],null===(r=this.backend)||void 0===r||null===(s=r.init)||void 0===s||s.call(r,n,i.backend,i)}queueLoad(e,t,n,r){const s={},i={},a={},o={};return e.forEach(e=>{let r=!0;t.forEach(t=>{const a="".concat(e,"|").concat(t);!n.reload&&this.store.hasResourceBundle(e,t)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===i[a]&&(i[a]=!0):(this.state[a]=1,r=!1,void 0===i[a]&&(i[a]=!0),void 0===s[a]&&(s[a]=!0),void 0===o[t]&&(o[t]=!0)))}),r||(a[e]=!0)}),(Object.keys(s).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(s),pending:Object.keys(i),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(o)}}loaded(e,t,n){const r=e.split("|"),s=r[0],i=r[1];t&&this.emit("failedLoading",s,i,t),!t&&n&&this.store.addResourceBundle(s,i,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const a={};this.queue.forEach(n=>{((e,t,n)=>{const{obj:r,k:s}=vN(e,t,Object);r[s]=r[s]||[],r[s].push(n)})(n.loaded,[s],i),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach(e=>{a[e]||(a[e]={});const t=n.loaded[e];t.length&&t.forEach(t=>{void 0===a[e][t]&&(a[e][t]=!0)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(e=>!e.done)}read(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:s,callback:i});this.readingCalls++;const a=(a,o)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}a&&o&&r<this.maxRetries?setTimeout(()=>{this.read.call(this,e,t,n,r+1,2*s,i)},s):i(a,o)},o=this.backend[n].bind(this.backend);if(2!==o.length)return o(e,t,a);try{const n=o(e,t);n&&"function"===typeof n.then?n.then(e=>a(null,e)).catch(a):a(null,n)}catch(l){a(l)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();dN(e)&&(e=this.languageUtils.toResolveHierarchy(e)),dN(t)&&(t=[t]);const s=this.queueLoad(e,t,n,r);if(!s.toLoad.length)return s.pending.length||r(),null;s.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),r=n[0],s=n[1];this.read(r,s,"read",void 0,void 0,(n,i)=>{n&&this.logger.warn("".concat(t,"loading namespace ").concat(s," for language ").concat(r," failed"),n),!n&&i&&this.logger.log("".concat(t,"loaded namespace ").concat(s," for language ").concat(r),i),this.loaded(e,n,i)})}saveMissing(e,t,n,r,s){var i,a,o;let l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(null===(i=this.services)||void 0===i||null===(i=i.utils)||void 0===i||!i.hasLoadedNamespace||null!==(a=this.services)&&void 0!==a&&null!==(a=a.utils)&&void 0!==a&&a.hasLoadedNamespace(t)){if(void 0!==n&&null!==n&&""!==n){if(null!==(o=this.backend)&&void 0!==o&&o.create){const i=c(c({},l),{},{isUpdate:s}),a=this.backend.create.bind(this.backend);if(a.length<6)try{let s;s=5===a.length?a(e,t,n,r,i):a(e,t,n,r),s&&"function"===typeof s.then?s.then(e=>u(null,e)).catch(u):u(null,s)}catch(d){u(d)}else a(e,t,n,r,u,i)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}else this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}const YN=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"===typeof e[1]&&(t=e[1]),dN(e[1])&&(t.defaultValue=e[1]),dN(e[2])&&(t.tDescription=e[2]),"object"===typeof e[2]||"object"===typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach(e=>{t[e]=n[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),$N=e=>{var t,n;return dN(e.ns)&&(e.ns=[e.ns]),dN(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),dN(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),(null===(t=e.supportedLngs)||void 0===t||null===(n=t.indexOf)||void 0===n?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"===typeof e.initImmediate&&(e.initAsync=e.initImmediate),e},XN=()=>{};class ZN extends AN{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=$N(e),this.services={},this.logger=IN,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(e=>{"function"===typeof n[e]&&(n[e]=n[e].bind(n))}),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"===typeof t&&(n=t,t={}),null==t.defaultNS&&t.ns&&(dN(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=YN();this.options=c(c(c({},r),this.options),$N(t)),this.options.interpolation=c(c({},r.interpolation),this.options.interpolation),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);const s=e=>e?"function"===typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?IN.init(s(this.modules.logger),this.options):IN.init(null,this.options),t=this.modules.formatter?this.modules.formatter:QN;const n=new UN(this.options);this.store=new PN(this.options.resources,this.options);const i=this.services;i.logger=IN,i.resourceStore=this.store,i.languageUtils=n,i.pluralResolver=new BN(n,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix});this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),!t||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(i.formatter=s(t),i.formatter.init&&i.formatter.init(i,this.options),this.options.interpolation.format=i.formatter.format.bind(i.formatter)),i.interpolator=new WN(this.options),i.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},i.backendConnector=new JN(s(this.modules.backend),i.resourceStore,i,this.options),i.backendConnector.on("*",function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];e.emit(t,...r)}),this.modules.languageDetector&&(i.languageDetector=s(this.modules.languageDetector),i.languageDetector.init&&i.languageDetector.init(i,this.options.detection,this.options)),this.modules.i18nFormat&&(i.i18nFormat=s(this.modules.i18nFormat),i.i18nFormat.init&&i.i18nFormat.init(this)),this.translator=new FN(this.services,this.options),this.translator.on("*",function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];e.emit(t,...r)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,n||(n=XN),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(t=>{this[t]=function(){return e.store[t](...arguments)}});["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(t=>{this[t]=function(){return e.store[t](...arguments),e}});const i=hN(),a=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),i.resolve(t),n(e,t)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?a():setTimeout(a,0),i}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:XN;const n=dN(e)?e:this.language;if("function"===typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){var r,s;if("cimode"===(null===n||void 0===n?void 0:n.toLowerCase())&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],i=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)})};if(n)i(n);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>i(e))}null===(r=this.options.preload)||void 0===r||null===(s=r.forEach)||void 0===s||s.call(r,e=>i(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)})}else t(null)}reloadResources(e,t,n){const r=hN();return"function"===typeof e&&(n=e,e=void 0),"function"===typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=XN),this.services.backendConnector.reload(e,t,e=>{r.resolve(),n(e)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&RN.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1)){for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const r=hN();this.emit("languageChanging",e);const s=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},i=(i,a)=>{a?this.isLanguageChangingTo===e&&(s(a),this.translator.changeLanguage(a),this.isLanguageChangingTo=void 0,this.emit("languageChanged",a),this.logger.log("languageChanged",a)):this.isLanguageChangingTo=void 0,r.resolve(function(){return n.t(...arguments)}),t&&t(i,function(){return n.t(...arguments)})},a=t=>{e||t||!this.services.languageDetector||(t=[]);const n=dN(t)?t:t&&t[0],r=this.store.hasLanguageSomeTranslations(n)?n:this.services.languageUtils.getBestMatchFromCodes(dN(t)?[t]:t);var a,o;r&&(this.language||s(r),this.translator.language||this.translator.changeLanguage(r),null===(a=this.services.languageDetector)||void 0===a||null===(o=a.cacheUserLanguage)||void 0===o||o.call(a,r));this.loadResources(r,e=>{i(e,r)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),r}getFixedT(e,t,n){var r=this;const s=function(e,t){let i;if("object"!==typeof t){for(var a=arguments.length,o=new Array(a>2?a-2:0),l=2;l<a;l++)o[l-2]=arguments[l];i=r.options.overloadTranslationOptionHandler([e,t].concat(o))}else i=c({},t);i.lng=i.lng||s.lng,i.lngs=i.lngs||s.lngs,i.ns=i.ns||s.ns,""!==i.keyPrefix&&(i.keyPrefix=i.keyPrefix||n||s.keyPrefix);const u=r.options.keySeparator||".";let d;return i.keyPrefix&&Array.isArray(e)?d=e.map(e=>("function"===typeof e&&(e=DN(e,c(c({},r.options),t))),"".concat(i.keyPrefix).concat(u).concat(e))):("function"===typeof e&&(e=DN(e,c(c({},r.options),t))),d=i.keyPrefix?"".concat(i.keyPrefix).concat(u).concat(e):e),r.t(d,i)};return dN(e)?s.lng=e:s.lngs=e,s.ns=t,s.keyPrefix=n,s}t(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null===(e=this.translator)||void 0===e?void 0:e.translate(...n)}exists(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null===(e=this.translator)||void 0===e?void 0:e.exists(...n)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,s=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const i=(e,t)=>{const n=this.services.backendConnector.state["".concat(e,"|").concat(t)];return-1===n||0===n||2===n};if(t.precheck){const e=t.precheck(this,i);if(void 0!==e)return e}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!i(n,e)||r&&!i(s,e)))}loadNamespaces(e,t){const n=hN();return this.options.ns?(dN(e)&&(e=[e]),e.forEach(e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=hN();dN(e)&&(e=[e]);const r=this.options.preload||[],s=e.filter(e=>r.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e));return s.length?(this.options.preload=r.concat(s),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}dir(e){var t,n;if(e||(e=this.resolvedLanguage||((null===(t=this.languages)||void 0===t?void 0:t.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const t=new Intl.Locale(e);if(t&&t.getTextInfo){const e=t.getTextInfo();if(e&&e.direction)return e.direction}}catch(CS){}const r=(null===(n=this.services)||void 0===n?void 0:n.languageUtils)||new UN(YN());return e.toLowerCase().indexOf("-latn")>1?"ltr":["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new ZN(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:XN;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const r=c(c(c({},this.options),e),{isClone:!0}),s=new ZN(r);void 0===e.debug&&void 0===e.prefix||(s.logger=s.logger.clone(e));if(["store","services","language"].forEach(e=>{s[e]=this[e]}),s.services=c({},this.services),s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n){const e=Object.keys(this.store.data).reduce((e,t)=>(e[t]=c({},this.store.data[t]),e[t]=Object.keys(e[t]).reduce((n,r)=>(n[r]=c({},e[t][r]),n),e[t]),e),{});s.store=new PN(e,r),s.services.resourceStore=s.store}return s.translator=new FN(s.services,r),s.translator.on("*",function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];s.emit(e,...n)}),s.init(r,t),s.translator.options=r,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const eS=ZN.createInstance();eS.createInstance=ZN.createInstance;eS.createInstance,eS.dir,eS.init,eS.loadResources,eS.reloadResources,eS.use,eS.changeLanguage,eS.getFixedT,eS.t,eS.exists,eS.setDefaultNamespace,eS.hasLoadedNamespace,eS.loadNamespaces,eS.loadLanguages;n(413);Object.create(null);const tS=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,nS={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},rS=e=>nS[e];let sS={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(tS,rS)};let iS;const aS={type:"3rdParty",init(e){!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};sS=c(c({},sS),e)}(e.options.react),(e=>{iS=e})(e)}};(0,t.createContext)();const{slice:oS,forEach:lS}=[];const cS=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,uS={create(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+60*n*1e3)),r&&(s.domain=r),document.cookie=function(e,t){const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{path:"/"},r=encodeURIComponent(t);let s="".concat(e,"=").concat(r);if(n.maxAge>0){const e=n.maxAge-0;if(Number.isNaN(e))throw new Error("maxAge should be a Number");s+="; Max-Age=".concat(Math.floor(e))}if(n.domain){if(!cS.test(n.domain))throw new TypeError("option domain is invalid");s+="; Domain=".concat(n.domain)}if(n.path){if(!cS.test(n.path))throw new TypeError("option path is invalid");s+="; Path=".concat(n.path)}if(n.expires){if("function"!==typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");s+="; Expires=".concat(n.expires.toUTCString())}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.sameSite)switch("string"===typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(s+="; Partitioned"),s}(e,t,s)},read(e){const t="".concat(e,"="),n=document.cookie.split(";");for(let r=0;r<n.length;r++){let e=n[r];for(;" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var dS={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&"undefined"!==typeof document)return uS.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:r,cookieDomain:s,cookieOptions:i}=t;n&&"undefined"!==typeof document&&uS.create(n,e,r,s,i)}},hS={name:"querystring",lookup(e){let t,{lookupQuerystring:n}=e;if("undefined"!==typeof window){var r;let{search:e}=window.location;!window.location.search&&(null===(r=window.location.hash)||void 0===r?void 0:r.indexOf("?"))>-1&&(e=window.location.hash.substring(window.location.hash.indexOf("?")));const s=e.substring(1).split("&");for(let r=0;r<s.length;r++){const e=s[r].indexOf("=");if(e>0){s[r].substring(0,e)===n&&(t=s[r].substring(e+1))}}}return t}},fS={name:"hash",lookup(e){let t,{lookupHash:n,lookupFromHashIndex:r}=e;if("undefined"!==typeof window){const{hash:e}=window.location;if(e&&e.length>2){const i=e.substring(1);if(n){const e=i.split("&");for(let r=0;r<e.length;r++){const s=e[r].indexOf("=");if(s>0){e[r].substring(0,s)===n&&(t=e[r].substring(s+1))}}}if(t)return t;if(!t&&r>-1){var s;const t=e.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(t))return;return null===(s=t["number"===typeof r?r:0])||void 0===s?void 0:s.replace("/","")}}}return t}};let pS=null;const mS=()=>{if(null!==pS)return pS;try{if(pS="undefined"!==typeof window&&null!==window.localStorage,!pS)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(CS){pS=!1}return pS};var gS={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&mS())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&mS()&&window.localStorage.setItem(n,e)}};let vS=null;const yS=()=>{if(null!==vS)return vS;try{if(vS="undefined"!==typeof window&&null!==window.sessionStorage,!vS)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(CS){vS=!1}return vS};var bS={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&yS())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&yS()&&window.sessionStorage.setItem(n,e)}},xS={name:"navigator",lookup(e){const t=[];if("undefined"!==typeof navigator){const{languages:e,userLanguage:n,language:r}=navigator;if(e)for(let s=0;s<e.length;s++)t.push(e[s]);n&&t.push(n),r&&t.push(r)}return t.length>0?t:void 0}},wS={name:"htmlTag",lookup(e){let t,{htmlTag:n}=e;const r=n||("undefined"!==typeof document?document.documentElement:null);return r&&"function"===typeof r.getAttribute&&(t=r.getAttribute("lang")),t}},kS={name:"path",lookup(e){var t;let{lookupFromPathIndex:n}=e;if("undefined"===typeof window)return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(r))return;return null===(t=r["number"===typeof n?n:0])||void 0===t?void 0:t.replace("/","")}},NS={name:"subdomain",lookup(e){var t;let{lookupFromSubdomainIndex:n}=e;const r="number"===typeof n?n+1:1,s="undefined"!==typeof window&&(null===(t=window.location)||void 0===t||null===(t=t.hostname)||void 0===t?void 0:t.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(s)return s[r]}};let SS=!1;try{document.cookie,SS=!0}catch(CS){}const ES=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];SS||ES.splice(1,1);class jS{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{languageUtils:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return lS.call(oS.call(arguments,1),t=>{if(t)for(const n in t)void 0===e[n]&&(e[n]=t[n])}),e}(t,this.options||{},{order:ES,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}),"string"===typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=e=>e.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(dS),this.addDetector(hS),this.addDetector(gS),this.addDetector(bS),this.addDetector(xS),this.addDetector(wS),this.addDetector(kS),this.addDetector(NS),this.addDetector(fS)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.order,t=[];return e.forEach(e=>{if(this.detectors[e]){let n=this.detectors[e].lookup(this.options);n&&"string"===typeof n&&(n=[n]),n&&(t=t.concat(n))}}),t=t.filter(e=>{return void 0!==e&&null!==e&&!("string"===typeof(t=e)&&[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(e=>e.test(t)));var t}).map(e=>this.options.convertDetectedLanguage(e)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(t=>{this.detectors[t]&&this.detectors[t].cacheUserLanguage(e,this.options)}))}}jS.type="languageDetector";eS.use(jS).use(aS).init({resources:{en:{translation:{welcome:"Welcome to CampusNex!",description:"Discover opportunities for Cambodian students."}},km:{translation:{welcome:"\u179f\u17bc\u1798\u179f\u17d2\u179c\u17b6\u1782\u1798\u1793\u17cd\u1798\u1780\u1780\u17b6\u1793\u17cb CampusNex!",description:"\u179f\u17d2\u179c\u17c2\u1784\u179a\u1780\u17b1\u1780\u17b6\u179f\u179f\u1798\u17d2\u179a\u17b6\u1794\u17cb\u1793\u17b7\u179f\u17d2\u179f\u17b7\u178f\u1780\u1798\u17d2\u1796\u17bb\u1787\u17b6\u17d4"}}},fallbackLng:"en",interpolation:{escapeValue:!1}});r.createRoot(document.getElementById("root")).render((0,ts.jsx)(t.StrictMode,{children:(0,ts.jsx)(cN,{})})),uN()})()})();